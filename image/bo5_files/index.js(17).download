!function(){function t(){function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var n,i;i={},r.m=n=[function(t,e){t.exports=_MODULE_LIBS_.React},function(t,e,n){t.exports=function(n){function i(t){if(r[t])return r[t].exports;var e=r[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,i),e.loaded=!0,e.exports}var r={};return i.m=n,i.c=r,i.p="",i(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var i=t.slice(1),r=e[t[0]];return function(t,e,n){r.apply(this,[t,e,n].concat(i))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(t,e,n){"use strict";var i={};i.Chart=n(308),i.Util=n(2),i.Global=n(5),i.Stat=n(16),i.Stat.map=n(254),i.Stat.tree=n(147),i.Stat.treemap=n(150),n(185),i.Scale=n(87),i.Shape=n(119),i.Frame=n(3),i.Theme=n(41),i.Canvas=n(6),i.Coord=n(90),i.Base=n(11),i.ColorCalculate=n(80),i.Layout=n(195),i.Animate=n(113),i.Plugin={};var r=n(59);r.tracking=!0,i.track=function(t){r.tracking=t},i.version="2.3.3",n(335),t.exports=i},[337,200],[337,160],function(t,e,n){var i=n(20);n(67),n(166),n(165),t.exports=i},function(t,e,n){var i={Matrix3:n(120),Vector2:n(121),Vector3:n(122)};t.exports=i},function(t,e,n){"use strict";function i(t){t=t||0;var e=2;return 0<(t*=100)&&t<.01&&(e=(1/t+"").indexOf(".")+1),t.toFixed(e)+"%"}var r,a=n(2),s=n(334),o=["default","dark","cheery"],u={};r={animate:!0,percentFormat:i,widthRatio:{column:.5,rose:.9999999,multiplePie:1/1.3},showSinglePoint:!1,scales:{"..x":{type:"linear",min:0,max:1,nice:!1},"..y":{type:"linear",min:0,max:1,nice:!1},"..level":{type:"linear",min:0,nice:!1},"..value":{type:"linear",min:0},"..count":{type:"linear",min:0,alias:"count"},"..percent":{type:"linear",min:0,max:1,alias:"percent",formatter:i},"..proportion":{type:"linear",min:0,max:1,alias:"proportion",formatter:i},"..density":{type:"linear",min:0,alias:"density"},"..long":{type:"linear",alias:"longitude",nice:!1},"..lant":{type:"linear",alias:"latitude",nice:!1},"..pieX":{type:"cat",values:["..pieX"],ticks:["..pieX"]}},connectNulls:!1,heatmapColors:"rgb(125,125,248)-rgb(0,0,255)-rgb(0,255,0)-yellow-rgb(255,0,0)",heatmap:{radius:50}},function t(e){for(var n in u)u.hasOwnProperty(n)&&delete u[n];var i;i=a.isObject(e)?e:-1!==a.indexOf(o,e)?s[e]:s.default,a.mix(!0,u,r,i),u.setTheme=t}("default"),t.exports=u},function(t,e,n){var i=n(280),r=n(96);i.G=r,i.Group=r.Group,i.Shape={},i.Shape.Marker=r.Marker,i.Util=n(111),i.Matrix=n(4),t.exports=i},function(t,e,n){var i=n(189);t.exports=i},function(t,e,n){var o=n(1),i=n(94),s=n(9),u=n(4).Vector3,r=function(t){r.superclass.constructor.call(this,t)};r.ATTRS={},o.extend(r,i),o.augment(r,{isShape:!0,createPath:function(){},drawInner:function(t){var e=this,n=e.__attrs;e.createPath(t);var i=t.globalAlpha;if(e.hasFill()){var r=n.fillOpacity;o.isNull(r)||1===r?t.fill():(t.globalAlpha=r,t.fill(),t.globalAlpha=i)}if(e.hasStroke()){var a=e.__attrs.lineWidth;if(0<a){var s=n.strokeOpacity;o.isNull(s)||1===s||(t.globalAlpha=s),t.stroke()}}},isPointInPath:function(){return!1},isHitBox:function(){return!0},isHit:function(t,e){var n=this,i=new u(t,e,1);if(n.invert(i),n.isHitBox()){var r=n.getBBox();if(r&&!s.box(r.minX,r.maxX,r.minY,r.maxY,i.x,i.y))return!1}var a=n.__attrs.clip;return a?!!a.inside(t,e)&&n.isPointInPath(i.x,i.y):n.isPointInPath(i.x,i.y)},calculateBox:function(){return null},clearTotalMatrix:function(){this.__cfg.totalMatrix=null,this.__cfg.region=null},clearBBox:function(){this.__cfg.box=null,this.__cfg.region=null},getBBox:function(){var t=this.__cfg.box;return t||((t=this.calculateBox())&&(t.x=t.minX,t.y=t.minY,t.width=t.maxX-t.minX,t.height=t.maxY-t.minY),this.__cfg.box=t),t}}),t.exports=r},function(t,e,n){var c=n(51),l=n(52),h=n(40),f=n(50);t.exports={line:function(t,e,n,i,r,a,s){var o=c.box(t,e,n,i,r);if(!this.box(o.minX,o.maxX,o.minY,o.maxY,a,s))return!1;var u=c.pointDistance(t,e,n,i,a,s);return!isNaN(u)&&u<=r/2},polyline:function(t,e,n,i){var r=t.length-1;if(r<1)return!1;for(var a=0;a<r;a++){var s=t[a][0],o=t[a][1],u=t[a+1][0],c=t[a+1][1];if(this.line(s,o,u,c,e,n,i))return!0}return!1},cubicline:function(t,e,n,i,r,a,s,o,u,c,l){return h.pointDistance(t,e,n,i,r,a,s,o,c,l)<=u/2},quadraticline:function(t,e,n,i,r,a,s,o,u){return l.pointDistance(t,e,n,i,r,a,o,u)<=s/2},arcline:function(t,e,n,i,r,a,s,o,u){return f.pointDistance(t,e,n,i,r,a,o,u)<=s/2},rect:function(t,e,n,i,r,a){return t<=r&&r<=t+n&&e<=a&&a<=e+i},circle:function(t,e,n,i,r){return Math.pow(i-t,2)+Math.pow(r-e,2)<=Math.pow(n,2)},box:function(t,e,n,i,r,a){return t<=r&&r<=e&&n<=a&&a<=i}}},function(t,e,n){"use strict";var i=n(28),r=n(1),a=n(3),s=function(t){s.superclass.constructor.call(this,t)};r.extend(s,i),r.augment(s,{type:"summary",getStatDims:function(){var t=this.getDims(),e=t.length,n=[t[e-1]];return n},getGroupCondition:function(){var e,t=this.getDims(),n=t.length,i=[];return 1<n&&(i=t.slice(0,n-1),e=[]),r.each(i,function(t){0!==t.indexOf("..")&&e.push(t)}),e},groupFrames:function(t){var e=this.getGroupCondition();return e?a.group(t,e):[t]},transformGroup:function(t,e){var n=this,i=[];return r.each(t,function(t){i.push(n.transform(t,e))}),i},execFrame:function(t){var e=this.getStatDims()[0],n=this.groupFrames(t),i=this.transformGroup(n,e),r=a.merge.apply(null,i);return r},transform:function(t){return t}}),t.exports=s},function(t,e,n){var i=n(167);t.exports=i},function(t,e,n){"use strict";var i=n(1),r=n(48),a=function(t){a.superclass.constructor.call(this,t)};i.extend(a,r),i.augment(a,{regressionType:"base",isRegression:!0,getRegressionString:function(){return""},execSmooth:function(t){return t}}),t.exports=a},function(t,e,n){"use strict";var s=n(1),o=["min","max"],i=function(t){s.mix(this,t)};s.augment(i,{xScale:null,yScale:null,cfg:{},parsePoint:function(t,e){var n=this.xScale,i=this.yScale;s.isFunction(e)&&(e=e(n,i));var r=e[0],a=e[1];return n&&(r=-1!==s.indexOf(o,r)?n.scale(n[r]):n.scale(r)),i&&(a=-1!==s.indexOf(o,a)?i.scale(i[a]):i.scale(a)),t.convert({x:r,y:a})},paint:function(){}}),t.exports=i},function(t,e,n){"use strict";var i=n(54),r=n(18),a=n(2);a.mix(i.GeomShape,{getMarkerCfg:function(t,e){var n=this.getShape(t);return n.getMarkerCfg(e)},drawShape:function(t,e,n){var i=this.getShape(t),r=i.drawShape(e,n);return r&&(r.set("origin",e.origin),r.animateType=r.animateType?r.animateType:e.geomType,r.id=e.id,e.splitedIndex&&(r.id+="splI"+e.splitedIndex)),r},getActiveCfg:function(t,e){var n=this.getShape(t);return n.getActiveCfg(e)},getSelectedCfg:function(t,e){var n=this.getShape(t);return n.getSelectedCfg(e)}}),a.mix(i.ShapeBase,{getActiveCfg:function(){return{}},getSelectedCfg:function(){return{}},setCoord:function(t){this._coord=t},parsePath:function(t,e){var n=this._coord;return t=a.parsePathString(t),t=n.isPolar&&!1!==e?r.convertPolarPath(t,n):r.convertNormalPath(t,n)},parsePoint:function(t){var e=this._coord;return e.convertPoint(t)},parsePoints:function(t){if(!t)return!1;var e=this._coord,n=[];return a.each(t,function(t){n.push(e.convertPoint(t))}),n}}),t.exports=i},function(t,e,n){"use strict";var l=n(2),i=n(11),u=n(66),r=n(54),a=n(129),o="_origin",s=function(t){s.superclass.constructor.call(this,t)};s.ATTRS={id:"",type:null,container:null,attrs:null,shapeObj:null,createTime:null,styleCfg:{},shapeDatas:[]},l.extend(s,i),l.mixin(s,[a]),l.augment(s,{_mapping:function(t){var a=this,e=t.toJSON(),i=a.get("attrs"),s=[];return l.each(e,function(n){var r={};r[o]=n[o],r.points=n.points,r.nextPoints=n.nextPoints,l.each(i,function(t){var i=t.names,e=a._getAttrValues(t,n);l.each(e,function(t,e){var n=i[e];r[n]=l.isArray(t)&&1===t.length?t[0]:t})}),s.push(r)}),new u(s)},_processShapePoints:function(t){var n,i,a=this,e=a.get("shapeType")||a.get("type"),s=r.getShape(e),o=[];return s._coord=a.getCoord(),l.each(t,function(t){var r=[];t.each(function(t){var e=a.getAttrValue("shape",t),n=a.getShapePointInfo(t),i=s.getShapePoints(e,n);t.points=i,r.push(t)}),r=new u(r),o.push(r)}),l.each(o,function(t,e){n=o[e+1],i=n?n.colArray("points")[0]:null,t.addCol("nextPoints",function(){return i})}),a.set("shapeObj",s),o},_getAttrValues:function(t,n){var e=t.scales,i=[];l.each(e,function(t){var e=t.dim;"identity"===t.type?i.push(t.value):i.push(n[e])});var r=t.mappingValues.apply(t,i);return r},draw:function(t){var n=this,i=[];return t=n.sortFrames(t),t=n.processFrames(t),t=n._processShapePoints(t),l.each(t,function(t,e){t=n.beforeMapping(t),(t=n._mapping(t)).rowCount()&&n.drawFrame(t,e),i.push(t)}),i},sortFrames:function(t){var e=this.getXScale();return-1<l.indexOf(["time","timeCat"],e.type)?this.sort(t):t},processFrames:function(t){return t},beforeMapping:function(t){return t},isInCircle:function(){return this.getCoord().isPolar},getShapePointInfo:function(t){var e,n,i=this.getXScale(),r=this.getYScale();return e=i?this._normalizeValues(t[i.dim],i):t.x?t.x:.1,n=r?this._normalizeValues(t[r.dim],r):t.y?t.y:.1,{x:e,y:n,y0:r?r.scale(this.getYMinValue()):void 0,size:this.getSize(t)}},_normalizeValues:function(t,e){var n=[];return l.isArray(t)?l.each(t,function(t){n.push(e.scale(t))}):n=e.scale(t),n},getDefalutSize:function(){return.1},_getSize:function(t){var e,n=this.getCoord();return e=this.isInCircle()&&!n.isTransposed?(n.get("endAngle")-n.get("startAngle"))*n.get("radius"):this.getDimWidth("x"),t/e},getDimWidth:function(t){var e=this.getCoord(),n=e.convertPoint({x:0,y:0}),i=e.convertPoint({x:"x"===t?1:0,y:"x"===t?0:1}),r=0;return n&&i&&(r=Math.sqrt(Math.pow(i.x-n.x,2)+Math.pow(i.y-n.y,2))),r},getSize:function(t){var e=this.getAttrValue("size",t);return e=l.isNull(e)?this.getDefalutSize():this._getSize(e)},drawFrame:function(t){var n,i,r,a=this,e=t.toJSON(),s=a.get("container"),o=a.get("shapeObj"),u=a.getYDim(),c=a.get("shapeDatas");l.each(e,function(t,e){c.push(t),u&&l.isNull(t._origin[u])||(t.index=e,n=a.getDrawCfg(t),i=a.getDrawShape(t.shape),r=o.drawShape(i,n,s),a.afterDraw(r,t))})},afterDraw:function(){},getDrawShape:function(t){return l.isArray(t)?t[0]:t},getDrawCfg:function(t){var e=this.get("styleCfg"),n=this.isInCircle(),i=t._origin,r={points:t.points,nextPoints:t.nextPoints,color:t.color,isInCircle:n,style:e,size:t.size,shape:t.shape,opacity:t.opacity,x:t.x,y:t.y,origin:t,id:this._getId(i),geomType:this.get("type")};return n&&(r.center=this.getCoord().get("center")),r},_getId:function(n){var t=this.get("idDims"),e=this.get("id"),i=e;if(t&&0<t.length)t.forEach(function(t){i+=" "+n[t]});else{var r=this.get("groupScales");r&&0<r.length&&r.forEach(function(t){var e=t.dim;"identity"!==t.type&&".."!==e.slice(0,2)&&(i+=" "+n[e])});var a=this.getAttr("position"),s=a.getDims(),o=s[0],u=s[1],c=this.get("type");i+="interval"===c||"intervalStack"===c||"schemal"===c?" "+n[o]:"line"===c||"area"===c?" "+c:" "+n[o]+" "+n[u]+" "+c}return i},getYMinValue:function(){var t=this.getYScale(),e=t.min;return 0<=e?e:0},getAttrValue:function(t,e){var n=this.getAttr(t),i=null;return n&&(i=this._getAttrValues(n,e)[0]),i},getAttr:function(e){var t=this.get("attrs"),n=null;return l.each(t,function(t){t.type===e&&(n=t)}),n},getCoord:function(){return this.getAttr("position").coord},getXDim:function(){var t=this.getXScale();return t.dim},getYDim:function(){var t=this.getYScale();return t?t.dim:null},getXScale:function(){return this.getAttr("position").scales[0]},getYScale:function(){return this.getAttr("position").scales[1]}}),t.exports=s},function(t,e,n){var i=n(28);i.summary=n(233),i.bin=n(209),i.smooth=n(223),i.density=n(213),i.region=n(216);var r=n(3);r.execStat=function(t,e){e.init();var n=e.exec([t]);return r.merge.apply(null,n)},t.exports=i},function(t,e,n){"use strict";var l=n(1),i=n(11),r=n(6).Matrix,h=r.Matrix3,a=function(t){a.superclass.constructor.call(this,t)};a.ATTRS={easing:"easeInOutQuad",duration:1e3,callback:null,group:null,rect:null,before:null},l.extend(a,i),l.augment(a,{start:function(){return this.startAnimate(),this},startAnimate:function(){var t=this.getTarget(),e=this.get("group");this.set("originMatrix",e.getMatrix().clone()),this.set("rect",this.getAnimRect()),this.set("target",t),this.beforeAnimate(t),this.execAnimate(t)},beforeAnimate:function(t){var e=this.getInitMatrix(),n=this.getInitAttrs(),i=this.get("originMatrix");e=h.multiply(i,e),t.setMatrix(e),t.attr(n)},execAnimate:function(t){var e,n=this,i=n.get("before"),r=n.get("callback"),a=n.get("duration"),s=n.get("easing"),o=n.getEndAttrs(),u=n.get("originMatrix"),c=n.getEndMatrix();c=h.multiply(u,c),e=l.mix({},o,{matrix:c}),t.animate(e,a,s,function(){r&&r(),n.afterAnimate(t)}),i&&i()},afterAnimate:function(t){var e=this.get("group"),n=e.get("canvas");return e==t||(e.attr("clip",!1),void n.draw())},getTarget:function(){return this.get("group")},getInitMatrix:function(){return new h},getInitAttrs:function(){return{}},getEndMatrix:function(){return new h},getEndAttrs:function(){return{}},getAnimRect:function(){var t=this.get("rect"),e=this.get("group");return t||(t=e.getBBBox()),t},getCircleInfo:function(){var t=this.get("rect"),e=this.get("circle"),n=this.getRectCenter(t),i=Math.min(t.width,t.height)/2;return e||(e={center:n,r:i}),e},getRectCenter:function(t){return{x:t.x+t.width/2,y:t.y+t.height/2}},stop:function(){return this.stopAnimate(),this},stopAnimate:function(){var t=this.getTarget();t&&t.stopAnimate()}}),t.exports=a},function(t,e,n){"use strict";function y(t,e){var n=t.getCenter(),i=Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2));return i}function l(t,e){for(var n=t.length,i=[t[0]],r=1;r<n;r+=2){var a=e.convertPoint({x:t[r],y:t[r+1]});i.push(a.x,a.y)}return i}var h=n(2),s=n(123),i={getLinePath:function(t,e,n){return function(t,e,n){if(!t.length)return"";var i="",r="";t.length<=2&&(n=!1);for(var a=0,s=t.length;a<s;a++){var o=t[a];r=0===a?n?"M{x} {y} R":"M{x} {y}":n?" {x} {y}":"L{x} {y}",i+=h.substitute(r,o)}return e&&(i+="Z"),i}(t,e,n)},getSplinePath:function(t,e){var n=[],i=t[0],r=null;h.each(t,function(t){r&&r.x===t.x&&r.y===t.y||(n.push(t.x),n.push(t.y),r=t)});var a=s.catmullRom2bezier(n,e,[[0,0],[1,1]]);return"M"+i.x+" "+i.y+h.parsePathArray(a)},getPointRadius:function(t,e){var n=y(t,e);return n},getPointAngle:function(t,e){var n=t.getCenter(),i=Math.atan2(e.y-n.y,e.x-n.x);return i},convertNormalPath:function(t,n){var i=[];return h.each(t,function(t){var e=t[0];switch(e.toLowerCase()){case"m":case"l":case"c":i.push(l(t,n));break;case"z":default:i.push(t)}}),i},convertPolarPath:function(o,u){var c=[];return h.each(o,function(t,e){var n=t[0];switch(n.toLowerCase()){case"m":case"c":case"q":c.push(l(t,u));break;case"l":var i=o[e-1],r=t,a=u.isTransposed,s=a?i[i.length-2]===r[1]:i[i.length-1]===r[2];s?c=c.concat(function(t,e,n){var i=n.getRadius(),r=(n.get("inner")||0)*i,a=n.isTransposed,s=n.get("startAngle"),o=n.get("endAngle"),u={x:t[1],y:t[2]},c={x:e[1],y:e[2]},l=[];r=r||0;var h=a?"y":"x",f=Math.abs(c[h]-u[h])*(o-s),g=u[h]<=c[h]?1:0,p=f>Math.PI?1:0,d=n.convertPoint(c),v=y(n,d);if(.5<=v)if(f==2*Math.PI){var m={x:(c.x+u.x)/2,y:(c.y+u.y)/2},x=n.convertPoint(m);l.push(["A",v,v,0,p,g,x.x,x.y]),l.push(["A",v,v,0,p,g,d.x,d.y])}else l.push(["A",v,v,0,p,g,d.x,d.y]);return l}(i,r,u)):c.push(l(t,u));break;case"z":default:c.push(t)}}),function(r){h.each(r,function(t,e){if("a"===t[0].toLowerCase()){var n=r[e-1],i=r[e+1];i&&"a"===i[0].toLowerCase()?n&&"l"===n[0].toLowerCase()&&(n[0]="M"):n&&"a"===n[0].toLowerCase()&&i&&"l"===i[0].toLowerCase()&&(i[0]="M")}})}(c),c}};t.exports=i},function(t,e,n){var i={};i.Base=n(15),i.Interval=n(127),i.Point=n(130),i.Line=n(128),i.Polygon=n(131),i.Schema=n(132),i.Path=n(57),i.Area=n(126),t.exports=i},function(t,e,n){var u=n(1),i=function(t,e){this.data=t,u.mix(this,e),this.initFrame()};i.prototype={isFrame:!0,initFrame:function(){var t=this,e=t.data,n=t.colNames(),i=t.arr;if(u.isArray(e[0])&&(i=t.arr=e),!i){i=[];for(var r=0;r<n.length;r++){for(var a=[],s=n[r],o=0;o<e.length;o++)a.push(e[o][s]);i.push(a)}t.arr=i}},contains:function(t){var e=this.colNames();return-1!==u.indexOf(e,t)},colNames:function(){var n=this.names;if(!n){var t=this.data,e=t[0];n=[],e&&u.each(e,function(t,e){n.push(e)}),this.names=n}return n},rowCount:function(){var t=this.arr;return t&&t.length?t[0].length:0},colCount:function(){var t=this.colNames();return t?t.length:0},colIndex:function(t){return u.indexOf(this.names,t)},colArray:function(t){var e=t;return u.isString(t)&&(e=this.colIndex(t)),this.arr[e]},colReplace:function(t,e){var n=this.arr,i=this.colNames();if(u.isString(t)){var r=t;t=u.indexOf(i,r)}return n[t]=e,this},each:function(t){for(var e=this.rowCount(),n=0;n<e;n++){var i=this._getObject(n);t(i,n)}return this},rowObject:function(t){return this._getObject(t)},_getObject:function(t,e){var n=this.arr,i={};e=e||this.colNames();for(var r=0;r<e.length;r++)i[e[r]]=n[r][t];return i},addCol:function(t,i){if(u.isFunction(i)){var r=i;i=[],this.each(function(t,e){var n=r(t,e);i.push(n)})}this.names.push(t),this.arr.push(i)},toArray:function(){return this.arr},toJSON:function(){for(var t=this.rowCount(),e=[],n=0;n<t;n++)e.push(this._getObject(n));return e}},t.exports=i},function(t,e,n){"use strict";var s=n(1),o=n(222),i={getRegressionString:function(){return this.regressionStr},getRegression:function(){return{equation:[],string:""}},execSmooth:function(t,e){var i=this,n=i.getRegression(t),r=n.equation;this.regressionStr=n.string;var a=[];return s.each(e,function(t){var e=t,n=o.execFnction(i.regressionType,r,e);a.push([e,n])}),a}};t.exports=i},function(t,e,n){t.exports=n(253)},function(t,e,n){var g=n(4).Vector2,p=Math.PI/6;t.exports={makeArrow:function(t,e,n,i){var r,a,s,o,u,c,l,h,f;r=t,s=e,o=n,u=i,c=new g(1,0).angleTo(s),l=c-p,h=c+p,f=6+3*u,a=[{x:o.x-f*Math.cos(l),y:o.y-f*Math.sin(l)},o,{x:o.x-f*Math.cos(h),y:o.y-f*Math.sin(h)}],r.moveTo(a[0].x,a[0].y),r.lineTo(a[1].x,a[1].y),r.lineTo(a[2].x,a[2].y)},getEndPoint:function(t,e,n){var i=n/Math.sin(p);return t.setLength(i/2),e.sub(t),e}}},function(t,e,n){"use strict";var c=n(1),i=function(t){c.mix(this,t)};i.prototype={type:"base",names:null,scales:[],min:0,max:10,method:function(t){return t*(this.max-this.min)+this.min},callback:function(){var n,i,r,a=this,s=a.arr,t=a.scales,o=c.toArray(arguments),u=[];return c.each(t,function(t,e){n=o[e],r=t.scale(n),i=t.translate(n),"identity"===t.type?u.push(t.value):c.isArray(s)?u.push(a._getArrValue(s,t,r,i)):a.method?u.push(a.method(r)):u.push(null)}),u},getNames:function(){var t=this.scales,n=this.names,i=[];return c.each(t,function(t,e){i.push(n[e])}),i},getDims:function(){var t=this.scales,e=[];return c.each(t,function(t){e.push(t.dim)}),e},getScale:function(t){var e=this.scales,n=this.names,i=n.indexOf(t);return e[i]},mappingValues:function(){var t=this.scales,e=c.toArray(arguments),n=this.callback,i=e;if(n){for(var r=0;r<e.length;r++)e[r]=this.parseParam(e[r],t[r]);i=n.apply(this,e)}return this.names&&1===this.names.length&&(i=[i]),i},parseParam:function(t,e){var n=t;return e.isLinear||(n=e.scale(t),n=e.invert(n)),n},_getArrValue:function(t,e,n,i){var r=0;return e.isCategory?r=i:e.isLinear&&(r=parseInt(n*(t.length-1),10)),t[r%t.length]}},t.exports=i},function(t,e,n){"use strict";var i=n(1),r=function(t){i.mix(this,t)};i.augment(r,{xValue:null,yValue:null,region:null,frame:null}),t.exports=r},function(t,e,n){"use strict";var i={Axis:n(175),Plot:{Back:n(181),Range:n(75)},Labels:n(72),Tooltip:n(182),Legend:n(180),Range:n(76)};t.exports=i},function(t,e,n){"use strict";var o=n(1),u=n(3),i=function(t){o.mix(this,t)};o.augment(i,{xDim:null,yDim:null,adjustNames:["x","y"],groupDims:null,isAdjust:function(t){return o.inArray(this.adjustNames,t)},processAdjust:function(t){var e=this,n=u.merge.apply(null,t);return e.adjFrames=t,e.mergeFrame=n,t=e.adjustFrames(t,n),e.adjFrames=null,e.mergeFrame=null,t},_getDimValues:function(n){var t=this,i={},e=[];if(t.xDim&&t.isAdjust("x")&&e.push(t.xDim),t.yDim&&t.isAdjust("y")&&e.push(t.yDim),o.each(e,function(t){var e=u.values(n,t);e.sort(function(t,e){return t-e}),i[t]=e}),!t.yDim&&t.isAdjust("y")){var r=[0,1];i.y=r}return i},adjustFrames:function(r,t){var a=this,e=[],s=a._getDimValues(t);return o.each(r,function(t,n){var i=t.toJSON();o.each(s,function(t,e){a.adjustDim(e,t,i,r.length,n)}),e.push(new u(i))}),e},adjustDim:function(t,e,n){return new u(n)},getAdjustRange:function(t,e,n){var i,r,a=o.indexOf(n,e),s=n.length;return!this.yDim&&this.isAdjust("y")?(i=0,r=1):1<s?(i=0===a?n[0]:n[a-1],r=a===s-1?n[s-1]:n[a+1],0!==a?i+=(e-i)/2:i-=(r-e)/2,a!==s-1?r-=(r-e)/2:r+=(e-n[s-2])/2):(i=0===e?0:e-.5,r=0===e?1:e+.5),{pre:i,next:r}},groupData:function(t,n){var i={};return o.each(t,function(t){var e=t[n];void 0===e&&(e=t[n]=0),i[e]||(i[e]=[]),i[e].push(t)}),i}}),t.exports=i},function(t,e,n){"use strict";var a=n(1),i=function(t){a.mix(this,t)};a.augment(i,{isStat:!0,initDims:function(){},getDims:function(){return this.dims},getStatDims:function(){return this.getDims()},init:function(){var t=this,e=t.dims;if(a.isString(e)&&(e=e.split("*"),t.dims=e),e&&e.isStat){var n=e;n.init(),t.stat=n,e=n.dims,t.dims=e}e||(e=[],t.dims=e),t.initDims(e)},preExecute:function(){},exec:function(n){var i=this;i.preExecute(n);var r=[];return this.stat&&(n=this.stat.exec(n)),a.each(n,function(t){var e=i.execFrame(t,n);a.isArray(e)?r=r.concat(e):r.push(e)}),r},execFrame:function(t){return t}}),t.exports=i},function(t,e,n){"use strict";var i=n(16),r=n(1),a=n(3),s=function(t){s.superclass.constructor.call(this,t)};r.extend(s,i),r.augment(s,{type:"map",mapData:{},initDims:function(t){var e=t[0],n=t.slice(1);(t=n.concat([e])).unshift("..lant"),t.unshift("..long"),this.dims=t},getStatDims:function(){var t=this.getDims(),e=t.filter(function(t){return-1<t.indexOf("..")});return e},execFrame:function(t){var e=this,n=e.getStatDims(),i=[];return t=t.toJSON(),r.each(t,function(t){i.push(e.addGeoInfo(t,n))}),new a(i)},addGeoInfo:function(t){return t}}),t.exports=s},function(t,e,n){"use strict";var i=n(1),r=n(4),a=r.Matrix3,s=r.Vector3,o=function(t){this._attrs={},this._attrs.matrix=new a,i.mix(this._attrs,o.ATTRS,t),this.init()};i.augment(o,{isTransposed:!1,set:function(t,e){return this._attrs[t]=e,this},get:function(t){return this._attrs[t]},getDim:function(t){switch(t){case"x":return this.get("x");case"y":return this.get("y");case"z":return this.get("z");default:console.error("没有"+t+"代表的维度!")}},init:function(){var t=this,e=t.get("start"),n=t.get("end"),i={x:(e.x+n.x)/2,y:(e.y+n.y)/2};t.set("center",i),t.set("width",Math.abs(n.x-e.x)),t.set("height",Math.abs(n.y-e.y))},getWidth:function(){return this.get("width")},getHeight:function(){return this.get("height")},convertDim:function(t,e){return(e=this.get(e)).start+t*(e.end-e.start)},invertDim:function(t,e){return e=this.get(e),(t-e.start)/(e.end-e.start)},rotate:function(t){var e=this.get("matrix"),n=this.get("center");return e.translate(-n.x,-n.y),e.rotate(t),e.translate(n.x,n.y),this},reflect:function(t){switch(t){case"x":this._swapDim("x");break;case"y":this._swapDim("y");break;default:this._swapDim("y")}return this},_swapDim:function(t){var e=this.get(t);if(e){var n=e.start;e.start=e.end,e.end=n}},scale:function(t,e){var n=this.get("matrix"),i=this.get("center");return n.translate(-i.x,-i.y),n.scale(t,e),n.translate(i.x,i.y),this},translate:function(t,e){var n=this.get("matrix");return n.translate(t,e),this},transpose:function(){this.isTransposed=!this.isTransposed},convertPoint:function(t){return t},invertPoint:function(t){return t},convert:function(t){t=this.convertPoint(t);var e=this.trans(t.x,t.y,1);return{x:e.x,y:e.y}},invert:function(t){var e=this.reverse(t.x,t.y,1);return this.invertPoint({x:e.x,y:e.y})},trans:function(t,e,n){n=n||0;var i=this.get("matrix"),r=new s(t,e,n);return r.applyMatrix(i),r},reverse:function(t,e,n){n=n||0;var i=this.get("matrix"),r=i.getInverse(),a=new s(t,e,n);return a.applyMatrix(r),a}}),t.exports=o},function(t,e,n){"use strict";var r=n(1),a=n(140),s=n(137),o=n(32);t.exports={singular:function(t,e){if(r.isNumeric(t)&&r.isNumeric(e))return a.number(t,e);if(r.isString(t)&&r.isString(e)){var n=new o(t),i=new o(e);if(n.getType()&&i.getType())return s.color(n,i)}},unSingular:function(t,e){if(r.isNumeric(t)&&r.isNumeric(e))return a.unNumber(t,e);if(r.isString(t)&&r.isString(e)){var n=new o(t),i=new o(e);if(n.getType()&&i.getType())return s.unColor(n,i)}}}},function(t,e,n){t.exports=n(143)},function(t,e,n){"use strict";var p=n(1),i=n(3),r=function(t){p.mix(this,t)};p.augment(r,{dims:[],margin:0,defs:{},facetTitle:{titleOffset:25,colDimTitle:{title:{"font-size":16,"text-anchor":"middle",fill:"#444"}},colTitle:{title:{"font-size":14,"text-anchor":"middle",fill:"#444"}},rowTitle:{title:{"font-size":14,"text-anchor":"middle",rotate:90,fill:"#444"}},rowDimTitle:{title:{"font-size":16,"text-anchor":"middle",rotate:90,fill:"#444"}}},plotRange:null,getDimValues:function(t,e){var n=this.defs[t];return n&&n.values?n.values:i.values(e,t)},getFilter:function(t){var o=this.defs;return function(a){var s=!0;return p.each(t,function(t){var e=t.dim,n=t.value,i=t.values,r=!0;!p.isNull(n)&&e&&(r=o[e]&&o[e].group?o[e].group(a)===p.indexOf(i,n):a[e]===n||a[e]===p.indexOf(i,n)),s=s&&r}),s}},drawTitles:function(t,e){var n=this,i=n.dims;p.each(t,function(t){n.drawFacetTitle("col",t,e)}),n.drawDimTitle("col",i[0],e)},generateFacets:function(){},drawFacetTitle:function(t,e,n){var i=this.facetTitle,r=i.titleOffset,a="row"===t?i.rowTitle:i.colTitle,s=e.region,o=s.start,u=s.end,c="row"===t?"y":"x",l="row"===t?"x":"y",h={};h[c]=(u[c]-o[c])/2+o[c],h[l]=u[l];var f="x"==c?-1:1,g=p.mix({text:e[c+"Value"]},a.title);g[c]=h[c],g[l]=h[l]+r*f,n.addShape("Text",{attrs:g})},drawDimTitle:function(t,e,n){if(!p.isNull(e)){var i=this.plotRange,r=this.defs,a="row"===t?"y":"x",s=this.facetTitle,o=s.titleOffset,u="x"==a?s.colDimTitle:s.rowDimTitle,c=r[e]&&r[e].alias||e,l={};l="x"==a?{y:i.tl.y+-1*(o+40),x:(i.tr.x-i.tl.x)/2+i.tl.x}:{x:i.tr.x+(o+40),y:(i.br.y-i.tr.y)/2+i.tr.y},c=p.mix({text:c,x:l.x,y:l.y},u.title),n.addShape("Text",{attrs:c})}}}),t.exports=r},function(t,e,n){"use strict";var h=n(2),i=n(72),r=n(6).Group,a=i.ShowLabels,o="x-chart-axis",s=n(173),u=function(t){u.superclass.constructor.call(this,t)};u.CFG={zIndex:4,ticks:null,line:null,tickLine:null,subTick:null,grid:null,labels:{label:{},autoRotate:!0},title:{},autoPaint:!0,labelOffset:10,titleOffset:20,formatter:null,firstTick:!0},h.mixin(u,[a]),h.extend(u,r),h.augment(u,{_renderUI:function(){var t=this.get("labels");t&&this.renderLabels(),this.get("autoPaint")&&this.paint(),h.isNull(this.get("title"))||this.renderTitle(),this.sort()},_parseTicks:function(t){for(var e=(t=t||[]).length,n=0;n<e;n++){var i=t[n];h.isObject(i)||(t[n]=this.parseTick(i,n,e))}return this.set("ticks",t),t},_addTickItem:function(t,e,n){var i=this.get("tickItems"),r={x1:e.x,y1:e.y},a=this.getTickEnd(e,n,t);r.x2=a.x,r.y2=a.y,i||(i=[],this.set("tickItems",i)),i.push(r)},_formatPoint:function(t){var e=this.get("formatter");return e&&(t=e.call(this,t)),t},_renderLines:function(){var t,e=this.get("line"),n=this.get("id");if(e){t=this.getLinePath(),e=h.mix({path:t},e);var i=this.addShape("path",{elCls:o+"-line",attrs:e});i.id=n+"axisLine",i.animateType="axisLine",this.set("lineShape",i)}},_processTicks:function(){var o=this,i=o.get("labels"),u=o.get("subTick"),c=o.get("tickLine"),l=o.get("ticks");l=o._parseTicks(l),h.each(l,function(t,e){var n=o.getTickPoint(t.value,e);c&&o._addTickItem(e,n),i&&o.addLabel(o._formatPoint(t.text),n,e,t.value)}),u&&h.each(l,function(t,e){var n=e?t.value-l[e-1].value:t.value;n/=o.get("subTick");for(var i=1;i<u;i++){var r={text:"",value:e?l[e-1].value+i*n:i*n};if(c){var a=o.getTickPoint(r.value),s=parseInt(.6*c.value,10);o._addTickItem(i-1,a,s)}}})},_renderTicks:function(){var t=this,e=t.get("tickItems"),n=t.get("tickLine"),i=t.get("id"),r="",a=h.mix({},n);if(e){h.each(e,function(t){var e=h.substitute("M{x1} {y1}L{x2} {y2}",t);r+=e}),delete a.value,a.path=r;var s=t.addShape("path",{elCls:o+"-ticks",attrs:a});s.id=i+"axisTick",s.animateType="axisTick",t.set("tickShape",s)}},_renderGrid:function(){var t=this.get("grid");if(t){h.isNull(t.animate)&&(t.animate=this.get("animate")),this.get("start")&&(t.start=this.get("start"));var e=this.addGroup(s,t);this.set("gridGroup",e)}},paint:function(){this._renderLines(),this._processTicks(),this._renderTicks(),this._renderGrid();var t=this.get("labels");t&&t.autoRotate&&this.autoRotateLabels()},parseTick:function(t,e,n){return{text:t,value:e/(n-1)}},getTextAnchor:function(t){var e=Math.abs(t.y/t.x);return 1<=e?"center":0<t.x?"left":"right"},addLabel:function(t,e,n,i){var r,a=this.get("id")+"label"+i,s=this.get("labelsGroup"),o={};if(s){var u=this.get("labelOffset")||10,c=this.getSideVector(u,e,n);e={x:e.x+c.x,y:e.y+c.y},o.text=t,o.x=e.x,o.y=e.y,o.textAlign=this.getTextAnchor(c),o.id=a||t,r=s.addLabel(o)}return r},getMaxLabelWidth:function(t){var e=t.get("children"),i=0;return h.each(e,function(t){var e=t.getBBox(),n=e.width;i<n&&(i=n)}),i},remove:function(){u.superclass.remove.call(this);var t=this.get("gridGroup");t&&t.remove(),this.removeLabels()},autoRotateLabels:function(){},renderTitle:function(){},getLinePath:function(){},getTickPoint:function(){},getTickEnd:function(){},getSideVector:function(){}}),t.exports=u},function(t,e,n){var i={caculate:n(205),Time:{caculate:n(206)},Category:{caculate:n(204)}};t.exports=i},function(t,e,n){"use strict";var a=n(1),i=n(28),s=n(3),r=function(t){r.superclass.constructor.call(this,t),this.colRange={},this.binWidth||(this.binWidth=.03)};a.extend(r,i),a.augment(r,{type:"bin",binWidth:.03,colRange:{},binDims:null,setRange:function(t,e){this.colRange[t]=e},getStatDims:function(){return this.getDims()},getBinDims:function(){var t=this.binDims||this.getDims(),e=[];return a.each(t,function(t){-1===t.indexOf("..")&&e.push(t)}),e},getBinWidth:function(){return this.binWidth||.03},getCenterValue:function(t,e,n){var i=this.getBinWidth(),r=(t-n)/(e-n);return 1===r&&(r-=i/4),(e-n)*(Math.floor(r/i)*i+i/2)+n},toBin:function(t){for(var e=this.getBinDims(),n=0;n<e.length;n++){var i=e[n],r=t[i],a=this.getDimRange(i);t[i]=this.getCenterValue(r,a.max,a.min)}},getDimRange:function(t){var e=this.cacheRange;return e[t]||{min:0,max:0}},preExecute:function(t){var n=s.merge.apply(null,t),e=this.getStatDims(),i=this.colRange,r={};a.each(e,function(t){if(i[t])r[t]=i[t];else{var e=s.range(n,t);r[t]={min:e[0],max:e[1]}}}),this.cacheRange=r},execFrame:function(t){var e=this,n=t.toJSON();return a.each(n,function(t){e.toBin(t)}),new s(n)},getRegion:function(){return[{x:0,y:0}]}}),t.exports=r},function(t,e,n){"use strict";var i=n(38),r=n(1),a=n(35),s=function(t){s.superclass.constructor.call(this,t)};r.extend(s,i),r.augment(s,{type:"linear",isLinear:!0,min:null,max:null,nice:!1,tickCount:null,tickInterval:null,init:function(){var t=this;if(t.ticks){var e=t.ticks,n=t.translate(e[0]),i=t.translate(e[e.length-1]);(r.isNull(t.min)||t.min>n)&&(t.min=n),(r.isNull(t.max)||t.max<i)&&(t.max=i)}else t.min=t.translate(t.min),t.max=t.translate(t.max),t.initTicks()},calculateTicks:function(){var t=this.min,e=this.max,n=this.tickCount,i=this.tickInterval,r=a.caculate({min:t,max:e,minCount:n,maxCount:n,interval:i});return r.ticks},initTicks:function(){var e=this,t=e.calculateTicks();if(e.nice)e.ticks=t,e.min=t[0],e.max=t[t.length-1];else{var n=[];r.each(t,function(t){t>=e.min&&t<=e.max&&n.push(t)}),e.ticks=n}},scale:function(t){if(null==t)return NaN;var e=this.max,n=this.min;if(e===n)return 0;var i=(t-n)/(e-n),r=this.rangeMin(),a=this.rangeMax();return r+i*(a-r)},invert:function(t){var e=(t-this.rangeMin())/(this.rangeMax()-this.rangeMin());return this.min+e*(this.max-this.min)}}),t.exports=s},function(t,e,n){"use strict";var r=n(1),i=function(t){r.mix(this,t),this.init()};r.augment(i,{formatter:null,range:[0,1],ticks:null,values:[],init:function(){},getTicks:function(){var n=this,t=n.ticks,i=[];return r.each(t,function(t){var e;e=r.isObject(t)?t:{text:n.getText(t),tickValue:t,value:n.scale(t)},i.push(e)}),i},getText:function(t){var e=this.formatter;return t=e?e(t):t,!r.isNull(t)&&t.toString||(t=""),t.toString()},rangeMin:function(){return this.range[0]},rangeMax:function(){var t=this.range;return t[t.length-1]},invert:function(){},translate:function(t){return t},scale:function(){},clone:function(){var n=this,t=n.constructor,i={};return r.each(n,function(t,e){i[e]=n[e]}),new t(i)},change:function(t){return this.ticks=null,r.mix(this,t),this.init(),this}}),t.exports=i},function(t,e,n){"use strict";var i=n(1),r=n(30),a=n(4),f=n(7),g=a.Vector2,p=a.Matrix3,d=a.Vector3,s=function(t){var e={};i.mix(e,s.ATTRS,t),s.superclass.constructor.call(this,e),this._init()};s.ATTRS={startAngle:-Math.PI/2,endAngle:3*Math.PI/2,inner:.5},i.extend(s,r),i.augment(s,{type:"plus",isPolar:!0,_init:function(){var t,e,n=this,i=n.get("radius"),r=n.get("inner"),a=n.get("startAngle"),s=n.get("endAngle"),o=n.get("center"),u=n.getOneBox(),c=u.maxX-u.minX,l=u.maxY-u.minY,h=Math.abs(u.minX)/c,f=Math.abs(u.minY)/l,g=n.getWidth(),p=n.getHeight();e=g/c<p/l?(t=g/c,{x:o.x-(.5-h)*g,y:o.y-(.5-f)*t*l}):(t=p/l,{x:o.x-(.5-h)*t*c,y:o.y-(.5-f)*p});var d={start:a,end:s},v={start:r*(i=i?0<i&&i<=1?t*i:0<i&&i<=t?i:t:t),end:i};n.set("x",d),n.set("y",v),n.set("radius",i),n.set("circleCentre",e),n.set("center",e)},getCenter:function(){return this.get("circleCentre")},getOneBox:function(){var t=this.get("startAngle"),e=this.get("endAngle");if(e-t>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var n=[0,Math.cos(t),Math.cos(e)],i=[0,Math.sin(t),Math.sin(e)],r=5*-Math.PI/2;r<3*Math.PI/2;r+=Math.PI/2)t<=r&&r<=e&&(n.push(Math.cos(r)),i.push(Math.sin(r)));return{minX:Math.min.apply(Math,n),maxX:Math.max.apply(Math,n),minY:Math.min.apply(Math,i),maxY:Math.max.apply(Math,i)}},getRadius:function(){return this.get("radius")},convertPoint:function(t){var e=this,n=e.getCenter(),i=e.isTransposed?t.y:t.x,r=e.isTransposed?t.x:t.y;return i=e.convertDim(i,"x"),r=e.convertDim(r,"y"),{x:n.x+Math.cos(i)*r,y:n.y+Math.sin(i)*r}},invertPoint:function(t){var e=this,n=e.getCenter(),i=new g(t.x-n.x,t.y-n.y),r=e.get("x"),a=new p;a.rotate(r.start);var s=new d(1,0,0);s.applyMatrix(a);var o=(s=new g(s.x,s.y)).angleTo(i,r.end<r.start);f.equal(o,2*Math.PI)&&(o=0);var u=i.length(),c=o/(r.end-r.start);c=0<r.end-r.start?c:-c;var l=e.invertDim(u,"y"),h={};return h.x=e.isTransposed?l:c,h.y=e.isTransposed?c:l,h}}),t.exports=s},function(t,e,n){function S(t,e,n,i,r){var a=1-r;return a*a*(a*i+3*r*n)+r*r*(r*t+3*a*e)}function h(t,e,n,i,r,a,s,o,u,c,l){var h,f,g,p,d,v,m,x,y=.005,_=1/0,b=new M(u,c);for(f=0;f<1;f+=.05)g=new M(S(t,n,r,s,f),S(e,i,a,o,f)),(p=g.distanceToSquared(b))<_&&(h=f,_=p);_=1/0;for(var w=0;w<32&&!(y<1e-4);w++)x=h+y,g=new M(S(t,n,r,s,m=h-y),S(e,i,a,o,m)),p=g.distanceToSquared(b),0<=m&&p<_?(h=m,_=p):(v=new M(S(t,n,r,s,x),S(e,i,a,o,x)),d=v.distanceToSquared(b),x<=1&&d<_?(h=x,_=d):y*=.5);return l&&(l.x=S(t,n,r,s,h),l.y=S(e,i,a,o,h)),Math.sqrt(_)}function x(t,e,n,i,r){var a=-3*e+9*n-9*i+3*r,s=t*a+6*e-12*n+6*i;return t*s-3*e+3*n}var M=n(4).Vector2,f=n(7),y=n(1);t.exports={at:S,derivativeAt:function(t,e,n,i,r){var a=1-r;return 3*(((e-t)*a+2*(n-e)*r)*a+(i-n)*r*r)},projectPoint:function(t,e,n,i,r,a,s,o,u,c){var l={};return h(t,e,n,i,r,a,s,o,u,c,l),l},pointDistance:h,extrema:function(t,e,n,i){var r,a,s,o=3*t-9*e+9*n-3*i,u=6*e-12*n+6*i,c=3*n-3*i,l=[];if(f.equal(o,0))f.equal(u,0)||0<=(r=-c/u)&&r<=1&&l.push(r);else{var h=u*u-4*o*c;f.equal(h,0)?l.push(-u/(2*o)):0<h&&(s=Math.sqrt(h),a=(-u-s)/(2*o),0<=(r=(-u+s)/(2*o))&&r<=1&&l.push(r),0<=a&&a<=1&&l.push(a))}return l},len:function(t,e,n,i,r,a,s,o,u){y.isNull(u)&&(u=1);for(var c=(u=1<u?1:u<0?0:u)/2,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,g=0;g<12;g++){var p=c*l[g]+c,d=x(p,t,n,r,s),v=x(p,e,i,a,o),m=d*d+v*v;f+=h[g]*Math.sqrt(m)}return c*f}}},function(t,e){"use strict";var n="#4E7CCC",i={defaultColor:n,plotCfg:{margin:[20,80,60,80]},facetCfg:{type:"rect",margin:10,facetTitle:{titleOffset:16,colDimTitle:{title:{fontSize:14,textAlign:"center",fill:"#999"}},colTitle:{title:{fontSize:12,textAlign:"center",fill:"#999"}},rowTitle:{title:{fontSize:12,textAlign:"center",rotate:90,fill:"#999"}},rowDimTitle:{title:{fontSize:12,textAlign:"center",rotate:90,fill:"#999"}}}},binWidth:.03,fontFamily:'"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", SimSun, "sans-serif"',colors:{default:["#4E7CCC","#36B3C3","#4ECDA5","#94E08A","#E2F194","#EDCC72","#F8AB60","#F9815C","#EB4456","#C82B3D"]},shapes:{point:["hollowCircle","hollowSquare","hollowDiamond","hollowBowtie","hollowTriangle","hollowHexagon","cross","tick","plus","hyphen","line"],line:["line","dash","dot"],area:["area"]},hues:["red","yellow","green","blue","orange","purple","pink","brown","white","gray","black"],axis:{top:{position:"top",titleOffset:30,title:{fontSize:12,fill:"#999",textBaseline:"middle"},labels:{label:{fill:"#404040",fontSize:12,textBaseline:"middle"}},tickLine:{lineWidth:1,stroke:"#ccc",value:5}},bottom:{position:"bottom",titleOffset:45,labelOffset:20,title:{fontSize:12,textAlign:"center",fill:"#999",textBaseline:"middle"},labels:{label:{fill:"#404040",fontSize:12,textBaseline:"middle"}},line:{lineWidth:1,stroke:"#ccc"},tickLine:{lineWidth:1,stroke:"#ccc",value:5}},left:{position:"left",titleOffset:60,labelOffset:13,title:{fontSize:12,fill:"#999",textBaseline:"middle"},labels:{label:{fill:"#404040",fontSize:12,textBaseline:"middle"}},line:{lineWidth:1,stroke:"#ccc"},tickLine:{lineWidth:1,stroke:"#ccc",value:5},grid:{line:{stroke:"#d9d9d9",lineWidth:1,lineDash:[2,2]}}},right:{position:"right",titleOffset:60,labelOffset:13,title:{fontSize:12,fill:"#999",textBaseline:"middle"},labels:{label:{fill:"#404040",fontSize:12,textBaseline:"middle"}},line:{lineWidth:1,stroke:"#ccc"},tickLine:{lineWidth:1,stroke:"#ccc",value:5}},circle:{labelOffset:5,line:{lineWidth:1,stroke:"#ccc"},grid:{line:{stroke:"#d9d9d9",lineWidth:1,lineDash:[1,3]}},labels:{label:{fill:"#404040",fontSize:12,textBaseline:"middle"}}},gauge:{grid:null,labelOffset:5,tickLine:{lineWidth:1,value:-20,stroke:"#ccc"},subTick:5,labels:{label:{fill:"#404040",fontSize:12,textBaseline:"middle"}}},clock:{grid:null,labelOffset:5,tickLine:{lineWidth:1,value:-20,stroke:"#C0D0E0"},subTick:5,labels:{label:{fill:"#404040",fontSize:12,textBaseline:"middle"}}},radius:{titleOffset:45,labels:{label:{fill:"#404040",fontSize:12,textBaseline:"middle"}},line:{lineWidth:1,stroke:"#ccc"},grid:{line:{stroke:"#d9d9d9",lineWidth:1,lineDash:[2,2]},type:"circle"}},helix:{grid:null,labels:{label:null},line:{lineWidth:1,stroke:"#ccc"},tickLine:{lineWidth:1,value:5,stroke:"#ccc"}}},labels:{offset:14,label:{fill:"#666",fontSize:12,textBaseline:"middle"}},treemapLabels:{offset:10,label:{fill:"#fff",fontSize:14,textBaseline:"top",fontStyle:"bold"}},innerLabels:{label:{fill:"#fff",fontSize:12,textBaseline:"middle"}},thetaLabels:{labelLine:{lineWidth:1},labelHeight:14,offset:30},legend:{right:{position:"right",back:null,spacingX:10,spacingY:12,markerAlign:"center",width:20,height:156,title:{text:" ",fill:"#333",textBaseline:"middle"}},left:{position:"left",back:null,spacingX:10,spacingY:12,markerAlign:"center",width:20,height:156,title:{text:" ",fill:"#333",textBaseline:"middle"}},top:{position:"top",title:null,back:null,spacingX:16,spacingY:10,markerAlign:"center",width:156,height:20},bottom:{position:"bottom",title:null,back:null,spacingX:16,spacingY:10,markerAlign:"center",width:156,height:20}},tooltip:{crosshairs:!1,offset:15,crossLine:{stroke:"#666"},wordSpaceing:6,markerCfg:{symbol:"circle",radius:3}},activeShape:{point:{fillOpacity:.7},hollowPoint:{lineWidth:2},interval:{fillOpacity:.7},hollowInterval:{lineWidth:2},area:{fillOpacity:.85},hollowArea:{lineWidth:2},line:{lineWidth:2},polygon:{fillOpacity:.75}},shape:{point:{lineWidth:1,fill:n,radius:4},hollowPoint:{fill:"#fff",lineWidth:1,stroke:n,radius:3},interval:{lineWidth:0,fill:n,fillOpacity:.85},pie:{lineWidth:1,stroke:"#fff"},hollowInterval:{fill:"#fff",stroke:n,fillOpacity:0,lineWidth:1},area:{lineWidth:0,fill:n,fillOpacity:.6},polygon:{lineWidth:0,fill:n,fillOpacity:1},hollowPolygon:{fill:"#fff",stroke:n,fillOpacity:0,lineWidth:1},hollowArea:{fill:"#fff",stroke:n,fillOpacity:0,lineWidth:1},line:{stroke:n,lineWidth:1,fill:null}},guide:{text:{fill:"#666",fontSize:12},line:{stroke:n,lineDash:[0,2,2]},rect:{lineWidth:0,fill:n,fillOpacity:.1},tag:{line:{stroke:n,lineDash:[0,2,2]},text:{fill:"#666",fontSize:12,textAlign:"center"},rect:{lineWidth:0,fill:n,fillOpacity:.1}},html:{align:"cc"}},tooltipMarker:{fill:"#fff",symbol:"circle",lineWidth:2,stroke:n,radius:4},pixelRatio:null};t.exports=i},function(t,e,n){var i=n(125);t.exports=i},function(t,e,n){"use strict";var i=n(1),r=Math.PI/180,a=180/Math.PI,s=function(t){i.mix(this,t)};i.augment(s,{basic:null,toRadians:function(t){return r*t},toDegrees:function(t){return t*a},project:function(t,e){return{x:t,y:e}},invert:function(t){return{x:t.x,y:t.y}}}),t.exports=s},function(t,e,n){var i=n(168);t.exports=i},function(t,e,n){"use strict";var i=(n(1),"\t\n\v\f\r   ᠎             　\u2028\u2029"),r=new RegExp("([a-z])["+i+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+i+"]*,?["+i+"]*)+)","ig"),o=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+i+"]*,?["+i+"]*","ig"),x=function(t){if(!t)return null;if(typeof t==typeof[])return t;var a={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},s=[];return String(t).replace(r,function(t,e,n){var i=[],r=e.toLowerCase();if(n.replace(o,function(t,e){e&&i.push(+e)}),"m"==r&&2<i.length&&(s.push([e].concat(i.splice(0,2))),r="l",e="m"==e?"l":"L"),"o"==r&&1==i.length&&s.push([e,i[0]]),"r"==r)s.push([e].concat(i));else for(;i.length>=a[r]&&(s.push([e].concat(i.splice(0,a[r]))),a[r]););}),s},y=function(t,e){for(var n=[],i=0,r=t.length;i<r-2*!e;i+=2){var a=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4==i?a[3]={x:+t[0],y:+t[1]}:r-2==i&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[r-2],y:+t[r-1]}:r-4==i?a[3]=a[2]:i||(a[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return n},_=function(t,e,n,i,r){if(null==r&&null==i&&(i=n),t=+t,e=+e,n=+n,i=+i,null!=r)var a=Math.PI/180,s=t+n*Math.cos(-i*a),o=t+n*Math.cos(-r*a),u=e+n*Math.sin(-i*a),c=e+n*Math.sin(-r*a),l=[["M",s,u],["A",n,n,0,+(180<r-i),0,o,c]];else l=[["M",t,e],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]];return l},b=function(t){if(!(t=x(t))||!t.length)return[["M",0,0]];var e,n=[],i=0,r=0,a=0,s=0,o=0;"M"==t[0][0]&&(i=+t[0][1],r=+t[0][2],a=i,s=r,o++,n[0]=["M",i,r]);for(var u,c,l=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),h=o,f=t.length;h<f;h++){if(n.push(u=[]),c=t[h],(e=c[0])!=e.toUpperCase())switch(u[0]=e.toUpperCase(),u[0]){case"A":u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=+c[6]+i,u[7]=+c[7]+r;break;case"V":u[1]=+c[1]+r;break;case"H":u[1]=+c[1]+i;break;case"R":for(var g=[i,r].concat(c.slice(1)),p=2,d=g.length;p<d;p++)g[p]=+g[p]+i,g[++p]=+g[p]+r;n.pop(),n=n.concat(y(g,l));break;case"O":n.pop(),(g=_(i,r,c[1],c[2])).push(g[0]),n=n.concat(g);break;case"U":n.pop(),n=n.concat(_(i,r,c[1],c[2],c[3])),u=["U"].concat(n[n.length-1].slice(-2));break;case"M":a=+c[1]+i,s=+c[2]+r;default:for(p=1,d=c.length;p<d;p++)u[p]=+c[p]+(p%2?i:r)}else if("R"==e)g=[i,r].concat(c.slice(1)),n.pop(),n=n.concat(y(g,l)),u=["R"].concat(c.slice(-2));else if("O"==e)n.pop(),(g=_(i,r,c[1],c[2])).push(g[0]),n=n.concat(g);else if("U"==e)n.pop(),n=n.concat(_(i,r,c[1],c[2],c[3])),u=["U"].concat(n[n.length-1].slice(-2));else for(var v=0,m=c.length;v<m;v++)u[v]=c[v];if("O"!=(e=e.toUpperCase()))switch(u[0]){case"Z":i=+a,r=+s;break;case"H":i=u[1];break;case"V":r=u[1];break;case"M":a=u[u.length-2],s=u[u.length-1];default:i=u[u.length-2],r=u[u.length-1]}}return n},w=function(t,e,n,i){return[t,e,n,i,n,i]},S=function(t,e,n,i,r,a){return[1/3*t+2/3*n,1/3*e+2/3*i,1/3*r+2/3*n,1/3*a+2/3*i,r,a]},V=function(t,e,n,i,r,a,s,o,u,c){n===i&&(n+=1);var l,h=120*Math.PI/180,f=Math.PI/180*(+r||0),g=[],p=function(t,e,n){var i=t*Math.cos(n)-e*Math.sin(n),r=t*Math.sin(n)+e*Math.cos(n);return{x:i,y:r}};if(c)S=c[0],M=c[1],b=c[2],w=c[3];else{l=p(t,e,-f),t=l.x,e=l.y,l=p(o,u,-f),o=l.x,u=l.y,t===o&&e===u&&(o+=1,u+=1);var d=(Math.cos(Math.PI/180*r),Math.sin(Math.PI/180*r),(t-o)/2),v=(e-u)/2,m=d*d/(n*n)+v*v/(i*i);1<m&&(m=Math.sqrt(m),n*=m,i*=m);var x=n*n,y=i*i,_=(a==s?-1:1)*Math.sqrt(Math.abs((x*y-x*v*v-y*d*d)/(x*v*v+y*d*d))),b=_*n*v/i+(t+o)/2,w=_*-i*d/n+(e+u)/2,S=Math.asin(((e-w)/i).toFixed(9)),M=Math.asin(((u-w)/i).toFixed(9));S=t<b?Math.PI-S:S,M=o<b?Math.PI-M:M,S<0&&(S=2*Math.PI+S),M<0&&(M=2*Math.PI+M),s&&M<S&&(S-=2*Math.PI),!s&&S<M&&(M-=2*Math.PI)}var T=M-S;if(Math.abs(T)>h){var A=M,C=o,k=u;M=S+h*(s&&S<M?1:-1),o=b+n*Math.cos(M),u=w+i*Math.sin(M),g=V(o,u,n,i,r,0,s,C,k,[M,A,b,w])}T=M-S;var P=Math.cos(S),I=Math.sin(S),O=Math.cos(M),D=Math.sin(M),L=Math.tan(T/4),F=4/3*n*L,E=4/3*i*L,R=[t,e],N=[t+F*I,e-E*P],B=[o+F*D,u-E*O],j=[o,u];if(N[0]=2*R[0]-N[0],N[1]=2*R[1]-N[1],c)return[N,B,j].concat(g);g=[N,B,j].concat(g).join().split(",");for(var W=[],z=0,G=g.length;z<G;z++)W[z]=z%2?p(g[z-1],g[z],f).y:p(g[z],g[z+1],f).x;return W},a=/,?([a-z]),?/gi,s={toArray:x,toString:function(t){return t.join(",").replace(a,"$1")},toCurve:function(t,e){for(var a=b(t),s=e&&b(e),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},r=function(t,e,n){var i,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(V.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":r="C"==n||"S"==n?(i=2*e.x-e.bx,2*e.y-e.by):(i=e.x,e.y),t=["C",i,r].concat(t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(S(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(S(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(w(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(w(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(w(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(w(e.x,e.y,e.X,e.Y))}return t},o=function(t,e){if(7<t[e].length){t[e].shift();for(var n=t[e];n.length;)c[e]="A",s&&(l[e]="A"),t.splice(e++,0,["C"].concat(n.splice(0,6)));t.splice(e,1),p=Math.max(a.length,s&&s.length||0)}},u=function(t,e,n,i,r){t&&e&&"M"==t[r][0]&&"M"!=e[r][0]&&(e.splice(r,0,["M",i.x,i.y]),n.bx=0,n.by=0,n.x=t[r][1],n.y=t[r][2],p=Math.max(a.length,s&&s.length||0))},c=[],l=[],h="",f="",g=0,p=Math.max(a.length,s&&s.length||0);g<p;g++){a[g]&&(h=a[g][0]),"C"!=h&&(c[g]=h,g&&(f=c[g-1])),a[g]=r(a[g],n,f),"A"!=c[g]&&"C"==h&&(c[g]="C"),o(a,g),s&&(s[g]&&(h=s[g][0]),"C"!=h&&(l[g]=h,g&&(f=l[g-1])),s[g]=r(s[g],i,f),"A"!=l[g]&&"C"==h&&(l[g]="C"),o(s,g)),u(a,s,n,i,g),u(s,a,i,n,g);var d=a[g],v=s&&s[g],m=d.length,x=s&&v.length;n.x=d[m-2],n.y=d[m-1],n.bx=parseFloat(d[m-4])||n.x,n.by=parseFloat(d[m-3])||n.y,i.bx=s&&(parseFloat(v[x-4])||i.x),i.by=s&&(parseFloat(v[x-3])||i.y),i.x=s&&v[x-2],i.y=s&&v[x-1]}return s?[a,s]:a},toAbsolute:b,catmullRomToBezier:y};t.exports=s},function(t,e,n){"use strict";var i=n(2),r=n(6).Group,a=function(t){a.superclass.constructor.call(this,t)};a.CFG={title:{},titleText:null,dx:0,dy:0,position:!0,animate:!1},i.extend(a,r),i.augment(a,{_beforeRenderUI:function(){var t=this.get("title");i.isNull(t)&&this.set("titleText",null),this.set("itemsGroup",this.addGroup()),this.set("titleShape",this.addShape("text",{attrs:i.mix({x:0,y:0},t)}))},_renderUI:function(){this._renderTitle()},_renderTitle:function(){var t=this.get("titleShape"),e=this.get("titleText");t.attr({x:0,y:0,text:e})},setPosition:function(t){t=t||this.get("position");var e=this.get("plotRange");if(e){var n=e.tl,i=e.br,r=this.get("dx"),a=this.get("dy"),s=this.getBBox().width,o=0,u=0;switch(t){case"top":o=n.x,u=n.y;break;case"left":o=n.x,u=(n.y+i.y)/2;break;case"right":o=i.x-s,u=(n.y+i.y)/2;break;case"bottom":o=(n.x+i.x)/2-s/2,u=i.y}this.move(o+r,u+a),this.set("position",t)}},getCount:function(){return this.get("itemsGroup").get("children").length},getLeaveCount:function(){var t=this.get("itemsGroup"),e=t.get("children");return i.filter(e,function(t){return t.get("checked")}).length},setItems:function(t){this.set("items",t),this.clearItems(),this._renderUI()},addItem:function(t){var e=this.get("items");e.push(t),this.clearItems(),this._renderUI()},clearItems:function(){var t=this.get("itemsGroup");t.clear()}}),t.exports=a},function(t,e,n){"use strict";var i=n(1),r=n(10),a=function(t){a.superclass.constructor.call(this,t)};i.extend(a,r),i.augment(a,{type:"region"}),t.exports=a},function(t,e,n){"use strict";var i=n(28),c=n(1),l=n(3),r=function(t){r.superclass.constructor.call(this,t)};c.extend(r,i),c.augment(r,{type:"smooth",bandWidth:.01,colRange:{},setRange:function(t,e){this.colRange[t]=e},getStatDims:function(){var t=this.getDims(),e=t.length,n=[t[e-1]];return n},execSmooth:function(t){return t},getXDim:function(){var t=this.getDims();if(t.length<2)throw"you must support the x,y dimension!!!";return t[0]},getYDim:function(){var t=this.getDims();if(t.length<2)throw"you must support the x,y dimension!!!";return t[1]},getZDim:function(){var t=this.getDims();if(t.length<3)throw"you must support the x,y,z dimension!!!";return t[2]},getData:function(t){var i=[],r=this.dims;return t.each(function(e){var n=[];c.each(r,function(t){n.push(e[t])}),i.push(n)}),i},getDimRange:function(t,e){var n=this.colRange[e];if(!n){var i=l.range(t,e);n={min:i[0],max:i[1]}}return n},gatStep:function(t,e){var n=this.getDimRange(t,e),i=n.min,r=n.max,a=this.bandWidth,s=(r-i)*a;return s},getInterArray:function(t,e){for(var n=this.gatStep(t,e),i=this.getDimRange(t,e),r=i.min,a=i.max,s=[],o=r;o<=a;o+=n)s.push(o);return s},execFrame:function(t){var e=this,n=e.getXDim(),i=e.getYDim();t=l.sort(t,n);var r=e.getData(t),a=e.getInterArray(t,n),s=e.execSmooth(r,a,t),o=t.rowObject(0),u=[];return c.each(s,function(t){var e=c.mix({},o);e[n]=t[0],e[i]=t[1],u.push(e)}),new l(u)}}),t.exports=r},function(t,e,n){"use strict";var i=n(1),r=n(39),a=function(t){t.inner=t.inner||0,a.superclass.constructor.call(this,t)};i.extend(a,r),i.augment(a,{type:"polar"}),t.exports=a},function(t,e,n){function d(t,e,n,i){return{x:Math.cos(i)*n+t,y:Math.sin(i)*n+e}}function a(t,e,n,i){var r,a;return i?t<e?(r=e-t,a=2*Math.PI-n+t):n<t&&(r=2*Math.PI-t+e,a=t-n):(r=t-e,a=n-t),a<r?n:e}function v(t,e,n,i){var r=0;return n-e>=2*Math.PI&&(r=2*Math.PI),e=s.mod(e,2*Math.PI),n=s.mod(n,2*Math.PI)+r,t=s.mod(t,2*Math.PI),i?n<=e?n<t&&t<e?t:a(t,n,e,!0):t<e||n<t?t:a(t,e,n):e<=n?e<t&&t<n?t:a(t,e,n,!0):e<t||t<n?t:a(t,n,e)}function c(t,e,n,i,r,a,s,o,u){var c=new m(s,o),l=new m(t,e),h=new m(1,0),f=m.sub(c,l),g=h.angleTo(f);g=v(g,i,r,a);var p=new m(n*Math.cos(g)+t,n*Math.sin(g)+e);u&&(u.x=p.x,u.y=p.y);var d=c.distanceTo(p);return d}var m=n(4).Vector2,s=n(7),x=n(1);t.exports={nearAngle:v,projectPoint:function(t,e,n,i,r,a,s,o){var u={};return c(t,e,n,i,r,a,s,o,u),u},pointDistance:c,box:function(t,e,n,i,r,a){var s=Math.PI/2,o=Math.PI,u=3*Math.PI/2,c=[],l=v(0,i,r,a);0===l&&c.push(d(t,e,n,0)),(l=v(s,i,r,a))===s&&c.push(d(t,e,n,s)),(l=v(o,i,r,a))===o&&c.push(d(t,e,n,o)),(l=v(u,i,r,a))===u&&c.push(d(t,e,n,u)),c.push(d(t,e,n,i)),c.push(d(t,e,n,r));var h=1/0,f=-1/0,g=1/0,p=-1/0;return x.each(c,function(t){h>t.x&&(h=t.x),f<t.x&&(f=t.x),g>t.y&&(g=t.y),p<t.y&&(p=t.y)}),{minX:h,minY:g,maxX:f,maxY:p}}}},function(t,e,n){var c=n(4).Vector2;t.exports={at:function(t,e,n){return(e-t)*n+t},pointDistance:function(t,e,n,i,r,a){var s=new c(n-t,i-e);if(s.isZero())return NaN;var o=s.vertical();o.normalize();var u=new c(r-t,a-e);return Math.abs(u.dot(o))},box:function(t,e,n,i,r){var a=r/2,s=Math.min(t,n),o=Math.max(t,n),u=Math.min(e,i),c=Math.max(e,i);return{minX:s-a,minY:u-a,maxX:o+a,maxY:c+a}},len:function(t,e,n,i){return Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))}}},function(t,e,n){function b(t,e,n,i){var r=1-i;return r*(r*t+2*i*e)+i*i*n}function c(t,e,n,i,r,a,s,o,u){var c,l,h,f,g,p,d,v=.005,m=1/0,x=new w(s,o);for(g=0;g<1;g+=.05)h=new w(b(t,n,r,g),b(e,i,a,g)),(l=h.distanceToSquared(x))<m&&(c=g,m=l);for(m=1/0,d=0;d<32&&!(v<1e-4);d++){var y=c-v,_=c+v;h=new w(b(t,n,r,y),b(e,i,a,y)),l=h.distanceToSquared(x),0<=y&&l<m?(c=y,m=l):(f=new w(b(t,n,r,_),b(e,i,a,_)),p=f.distanceToSquared(x),_<=1&&p<m?(c=_,m=p):v*=.5)}return u&&(u.x=b(t,n,r,c),u.y=b(e,i,a,c)),Math.sqrt(m)}var w=n(4).Vector2,a=n(7);t.exports={at:b,projectPoint:function(t,e,n,i,r,a,s,o){var u={};return c(t,e,n,i,r,a,s,o,u),u},pointDistance:c,extrema:function(t,e,n){var i=t+n-2*e;if(a.equal(i,0))return[.5];var r=(t-e)/i;return r<=1&&0<=r?[r]:[]}}},function(t,e,n){"use strict";var a=n(2),i={splitPoints:function(t){var i=[],r=t.x,e=t.y;return e=a.isArray(e)?e:[e],a.each(e,function(t,e){var n={x:a.isArray(r)?r[e]:r,y:t};i.push(n)}),i}};t.exports=i},function(t,e,n){"use strict";var o=n(2),u={},r={defaultShapeType:null,getShape:function(t){var e=this,n=e[t]||e[e.defaultShapeType]||o.mix({},u.ShapeBase,{getActiveCfg:e.getActiveCfg,getSelectedCfg:e.getSelectedCfg});return n._coord=e._coord,n},getShapePoints:function(t,e){var n=this.getShape(t);return n.getShapePoints(e)},drawShape:function(t,e,n){var i=this.getShape(t);return i.drawShape(e,n)}};u.registGeom=function(t,e){var n=o.ucfirst(t),i=o.mix({},r,e);return(u[n]=i).className=n,i},u.registShape=function(t,e,n){var i=o.ucfirst(t),r=u[i],a=r.getShape(),s=o.mix({},a,n);return r[e]=s},u.getShape=function(t){return t=t||"point",this[t=o.ucfirst(t)]||u.ShapeBase},u.GeomShape=r,u.ShapeBase={_coord:null,drawShape:function(){},getShapePoints:function(){}},t.exports=u},function(t,e,n){"use strict";var a=n(2),s=["color","shape","size","opacity"];t.exports={getShapeData:function(t){var e={},n=t.toJSON(),i=n[0],r=t.colArray("_origin");return a.each(s,function(t){i.hasOwnProperty(t)&&(e[t]=i[t])}),e._origin=r,e}}},function(t,e,n){"use strict";var a=n(2);t.exports={splitData:function(t){if(!t.length)return[];var e,n=[],i=[],r=this.getYDim();return a.each(t,function(t){e=t._origin?t._origin[r]:t[r],a.isArray(e)&&a.isNull(e[0])||a.isNull(e)?(n.push(i),i=[]):i.push(t)}),n.push(i),n}}},function(t,e,n){"use strict";function i(t){i.superclass.constructor.call(this,t)}var v=n(2),r=n(15),a=n(56),s=n(55);v.extend(i,r),v.mixin(i,[a,s]),i.ATTRS={type:"path",shapeType:"line"},v.augment(i,{drawFrame:function(t,e){var r,a,s,o=this,n=t.toJSON(),i=this.splitData(n),u=this.get("container"),c=this.get("shapeObj"),l=n[0],h=this.getDrawCfg(l),f=l.points.length;l.index=e,(h=this.getDrawCfg(l)).origin=n;var g=o.get("adjusts"),p=g&&-1!==v.indexOf(g,"Stack"),d=o.getShapeData(t);o.get("shapeDatas").push(d),v.each(i,function(t,e){h.splitedIndex=e;for(var n=0;n<f;n++)if(r=[],!p||0!==n){for(var i=0;i<t.length;i++)s=t[i],r.push(s.points[n]);if(0===r.length)return;h.points=r,h.index=n,a=o.getDrawShape(h.shape),c.drawShape(a,h,u)}})},_getJoinIdAttr:function(){var t=this.get("attrs"),e=[];return v.each(t,function(t){"position"!==t.type&&e.push(t)}),e}}),t.exports=i},function(t,e,n){"use strict";function a(t,n){t.sort(function(t,e){return t[n]-e[n]})}var s=n(1),l=function(t){return t},i=function(t){s.mix(this,t),this.rect=this.rect||{x:0,y:0,dx:1,dy:1},this.init()};s.augment(i,{nodes:null,rect:null,valueField:"value",childrenField:"children",init:function(){var e=this,t=e.nodes,n=e.rect,i=e.valueField;a(t,i),s.each(t,function(t){e._traverse(t)});var r=function(t,e){var n=0;return s.each(t,function(t){n+=t[e]}),n}(t,i);e.processNodes(t,n,r)},_traverse:function(e,n){var i=this;n=n||0,e.depth=n;var t=i.childrenField;e.parent||(e.parent=null);var r=e[t];s.isArray(r)&&(a(r,i.valueField),s.each(r,function(t){t.parent=e,i._traverse(t,n+1)}))},getNodes:function(){return this.nodes},changeNodes:function(t){return this.nodes=t,this.init(),this},processNodes:function(){},pad:function(t){var e={x:t.x,y:t.y,dx:t.dx,dy:t.dy};return e},position:function(t,e,n,i){var r,a=-1,s=t.length,o=n.x,u=n.y,c=e?l(t.area/e):0;if(e===n.dx){for((i||c>n.dy)&&(c=n.dy);++a<s;)(r=t[a]).x=o,r.y=u,r.dy=c,o+=r.dx=Math.min(n.x+n.dx-o,c?l(r.area/c):0);r.z=!0,r.dx+=n.x+n.dx-o,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++a<s;)(r=t[a]).x=o,r.y=u,r.dx=c,u+=r.dy=Math.min(n.y+n.dy-u,c?l(r.area/c):0);r.z=!1,r.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}},scale:function(t,e){for(var n,i,r=-1,a=t.length,s=this.valueField;++r<a;)i=(n=t[r])[s]*(e<0?0:e),n.area=isNaN(i)||i<=0?0:i}}),t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),a=n(1),i=function(){function i(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var e=t||{},n=new Image;a.mix(this,{image:n,server:"https://kcart.alipay.com/web/bi.do"},e)}return r(i,[{key:"log",value:function(t){var e=t||{},n=a.mix({pg:document.URL,r:(new Date).getTime()},e),i=encodeURIComponent(JSON.stringify([n]));this.image.src=this.server+"?BIProfile=merge&d="+i}}]),i}();e.default=i,t.exports=e.default},function(t,e,n){"use strict";var u=n(1),i=n(16),r=n(3),o="_value",d="_level",a=function(t){a.superclass.constructor.call(this,t)};u.extend(a,i),u.augment(a,{type:"tree",levels:0,totalValue:0,initDims:function(t){t.unshift("..y"),t.unshift("..x")},getValueField:function(){var t=this.getDims();return t[3]||o},getChildrenField:function(){var t=this.getDims();return t[2]},exec:function(t){var e=[],n=r.merge.apply(null,t);return e.push(this.execFrame(n)),e},_traverseNodes:function(t,n){var i,r=this;i=n?n[d]+1:0;var a=r.getChildrenField(),s=r.getValueField();u.each(t,function(t){t[d]=i,t.parent=n;var e=t[a];e?(r._traverseNodes(t[a],t),s===o&&(t[s]=r.getTotalValue(e))):(s===o&&(t[s]=1),i+1>r.levels&&(r.levels=i+1))})},getNodeValue:function(t){var e=this.getValueField();return t[e]},getNodeRange:function(t,e,n){var i,r=this,a=t[d],s=r.levels,o=e.indexOf(t),u=t.parent,c=0,l=1,h=0;if(u?(i=r.getNodeValue(u),l=n.end.x-n.start.x,h=n.start.x):i=r.getTotalValue(e),0<o){var f=e.slice(0,o);c=r.getTotalValue(f)}var g=r.getNodeValue(t),p={start:{x:c/i*l+h,y:a/s},end:{x:(c+g)/i*l+h,y:(a+1)/s}};return p},getTotalValue:function(t){var e=this.getValueField(),n=0;return u.each(t,function(t){n+=t[e]}),n},getStatObject:function(t,e){var n=u.mix({},t);return n["..x"]=(e.end.x+e.start.x)/2,n["..y"]=(e.end.y+e.start.y)/2,n},_extractData:function(i,r,a){var s=this,o=s.getChildrenField();u.each(i,function(t){var e=s.getNodeRange(t,i,a),n=s.getStatObject(t,e);r.push(n),t[o]&&s._extractData(t[o],r,e)})},execFrame:function(t){var e=t.toJSON(),n=[];this._traverseNodes(e),this._extractData(e,n,0);var t=new r(n);return t}}),t.exports=a},function(t,e){var n={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(1-Math.pow(2,-10*t/1))},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return 1<=t?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1==(t/=1)?1:(n||(n=.3),e=i<Math.abs(1)?(i=1,n/4):n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n))},easeOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1==(t/=1)?1:(n||(n=.3),e=i<Math.abs(1)?(i=1,n/4):n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((1*t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:2==(t/=.5)?1:(n||(n=.3*1.5*1),e=i<Math.abs(1)?(i=1,n/4):n/(2*Math.PI)*Math.asin(1/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){return 1*(t/=1)*t*(2.70158*t-1.70158)},easeOutBack:function(t){return 1*((t=t/1-1)*t*(2.70158*t+1.70158)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-n.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?7.5625*t*t*1:t<2/2.75?1*(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return t<.5?.5*n.easeInBounce(2*t):.5*n.easeOutBounce(2*t-1)+.5}};t.exports=n},function(t,e,n){"use strict";var u=n(1),i=n(4),r=n(135),a={duration:"duration",destroy:"destroy",delay:"delay",repeat:"repeat",onUpdate:"onUpdate"},s=i.Matrix3,o={interpolation:r.interpolation,getFrame:function(t,e,n,i,r){var a={attrs:{},matrix:null},s=n.onUpdate;for(var o in i.attrs)a.attrs[o]=i.attrs[o](t);return i.matrix&&(a.matrix=i.matrix(t)),u.isFunction(s)&&s(a,t),a},getInterpolations:function(t,n){var i,r={attrs:{},matrix:null};return u.each(t.attrs,function(t,e){i=null,typeof t==typeof n.attrs[e]&&(i="path"===e?o.interpolation({path:t,type:"path"},{path:n.attrs[e],type:"path"}):o.interpolation(t,n.attrs[e]))&&(r.attrs[e]=i)}),n.matrix&&t.matrix&&!s.equal(t.matrix,n.matrix)&&(r.matrix=o.interpolation(t.matrix,n.matrix)),r},getKeyFrameByProps:function(t,e){var n=[],i=o.props2frame(t,e),r={attrs:o.getTargetAttrs(t,i.attrs),matrix:t.getMatrix()};return n[0]=r,n[1]=i,n},props2frame:function(n,i){var r={matrix:null,attrs:{}};return u.each(i,function(t,e){"transform"!==e||i.k?"matrix"===e?r.matrix=t:"onUpdate"===e?r.onUpdate=i.onUpdate:a[e]||(r.attrs[e]=t):r.matrix=o.transform(n.getMatrix(),t)}),r},transform:function(e,t){return e=e.clone(),u.each(t,function(t){switch(t[0]){case"t":e.translate(t[1],t[2]);break;case"s":e.scale(t[1],t[2]);break;case"r":e.rotate(t[1]);break;case"m":e.multiply(t[1]);break;default:return!1}}),e},getTargetAttrs:function(t,e){var n,i={};for(n in e)i[n]=t.attr(n);return i}};t.exports=o},function(t,e,n){"use strict";var f=(n(11),n(62)),g=n(1),p=n(61),i=function(t){g.mix(this,t),this._init()};g.augment(i,{type:"tween",canvas:null,target:null,startTime:null,endTime:null,duration:null,ratio:0,destroyTarget:!1,needsDestroy:!1,available:!0,repeat:!1,callBack:null,currentFrame:null,startKeyFrame:{attrs:null,matrix:null},endKeyFrame:{attrs:null,matrix:null},interpolations:null,_init:function(){var t=this.startTime,e=this.duration;this.endTime=t+e},tryStep:function(t){var e=(this.startTime,this.duration,this.startKeyFrame,this.target);if(!e||e.get("destroyed"))return!(this.needsDestroy=!0);try{this.step(t)}catch(t){return!(this.needsDestroy=!0)}},step:function(t){var e,n,i,r=this.target,a=this.startTime,s=t-a,o=this.duration,u=this.startKeyFrame,c=this.endKeyFrame,l=this.easing,h=this.interpolations;return g.isFunction(l)||(l=p[l]?p[l]:p.linear),i=l(n=(n=s/o)<=0?0:1<=n?1:n),(e=f.getFrame(i,u,c,h,r)).attrs&&r.attr(e.attrs),e.matrix&&r.setMatrix(e.matrix),this.ratio=n,this.currentFrame=e,this.updateStatus(),r},updateStatus:function(){var t=this.ratio,e=this.callBack,n=this.destroyTarget,i=this.target,r=this.repeat;if(1<=t)if(r){var a=this.startTime,s=this.endTime,o=this.duration;this.startTime=a+o,this.endTime=s+o,this.reset()}else this.needsDestroy=!0,e&&e.call(i),n&&!i.get("destroyed")&&i.remove(!0)},reset:function(){var t=this.target,e=this.startKeyFrame;e.attrs&&t.attr(e.attrs),e.matrix&&t.setMatrix(e.matrix),this.ratio=0,this.needsDestroy=!1},destroy:function(){var t=this.target,e=this.endKeyFrame;t&&!t.get("destroyed")&&(e.attrs&&t.attr(e.attrs),e.matrix&&t.setMatrix(e.matrix)),this.destroyed=!0}}),t.exports=i},function(t,e,n){"use strict";var r=n(1),i=n(65),m=n(3),x=n(25),a=function(t){a.superclass.constructor.call(this,t)};r.extend(a,i),r.augment(a,{dims:[],cols:5,rows:null,drawTitles:function(t,e){var n=this,i=n.dims;r.each(t,function(t){n.drawFacetTitle("col",t,e)}),n.drawDimTitle("col",i[0],e)},getRegion:function(t,e,n,i){var r=this.plotRange,a=this.margin,s=r.tl,o=r.br,u=(o.x-s.x)/e,c=(o.y-s.y)/t,l={x:s.x+u*n,y:s.y+c*(i+1)-a},h={x:l.x+u-a,y:l.y-c+a};return{start:l,end:h}},generateFacets:function(u){var c=this,t=c.dims,l=t[0];if(!l)throw new Error("Please specify for the field for facet!");var h=c.getDimValues(l,u),f=h.length,g=c.cols,p=parseInt((f+g-1)/g,10),d=[],v=0;return r.each(h,function(t,e){var n=parseInt(e/g,10),i=e%g,r=[{dim:l,value:t,values:h}],a=c.getFilter(r),s=m.filter(u,a),o=new x({type:c.type,count:f,xValue:t,xDim:l,yValue:t,yDim:l,colIndex:i,rowIndex:n,cols:g,rows:p,frame:s,region:c.getRegion(p,g,i,n),index:v++});d.push(o)}),d}}),t.exports=a},function(t,e,n){"use strict";var r=n(1),x=n(3),i=n(33),y=n(25),a=function(t){a.superclass.constructor.call(this,t)};r.extend(a,i),r.augment(a,{dims:[],defs:{},type:"rect",plotRange:null,drawTitles:function(t,e){if(!(t.length<=1)){var n=this,i=t[0];r.each(t,function(t){0<t.cols&&t.rowIndex===t.rows-1&&n.drawFacetTitle("col",t,e),0<t.rows&&t.colIndex===t.cols-1&&n.drawFacetTitle("row",t,e)}),i&&(1<i.cols&&n.drawDimTitle("col",i.xDim,e),1<i.rows&&n.drawDimTitle("row",i.yDim,e))}},getRegion:function(t,e,n,i){var r=this.plotRange,a=1===t&&1===e?0:this.margin,s=r.bl,o=r.tr,u=(o.x-s.x)/e,c=(o.y-s.y)/t,l={x:s.x+u*n,y:s.y+c*i-a},h={x:l.x+u-a,y:l.y+c+a};return{start:l,end:h}},generateFacets:function(u){var c=this,t=c.dims,l=[],h=1,f=1,g=t[0],p=t[1],d=[""],v=[""];g&&(d=c.getDimValues(g,u),f=d.length),p&&(v=c.getDimValues(p,u),h=v.length);var m=0;return r.each(d,function(s,o){r.each(v,function(t,e){var n=[{dim:g,value:s,values:d},{dim:p,value:t,values:v}],i=c.getFilter(n),r=x.filter(u,i),a=new y({type:c.type,xValue:s,yValue:t,xDim:g,yDim:p,colIndex:o,rowIndex:e,cols:f,rows:h,frame:r,region:c.getRegion(h,f,o,e),index:m++});l.push(a)})}),l}}),t.exports=a},function(t,e,n){var i=n(20);n(67),t.exports=i},function(t,e,n){var u=n(1),c=n(68),l=n(20);u.mix(l,{values:function(t,e){var n=[],i={},r=t.colArray(e);r=c.formatArray(r);for(var a=0,s=r.length;a<s;a++){var o=r[a];i[o]||void 0===o||(i[o]=!0,n.push(o))}return n},group:function(t,e){if(!e)return[t];var n=l.groupToMap(t,e),i=[];for(var r in n)n.hasOwnProperty(r)&&i.push(n[r]);return i},groupToMap:function(t,n){var e=t.colNames(),i={};if(!n)return{0:t};if(!u.isFunction(n)){var r=u.isArray(n)?n:n.replace(/\s+/g,"").split("*");n=function(t){for(var e="",n=0,i=r.length;n<i;n++)e+=t[r[n]].toString();return e}}for(var a in t.each(function(t){var e=n(t);i[e]?i[e].push(t):i[e]=[t]}),i)i.hasOwnProperty(a)&&(i[a]=new l(i[a],{names:e.slice(0)}));return i},merge:function(){for(var t=u.toArray(arguments),e=t[0],n=e.colNames(),i=e.colCount(),r=[],a=0;a<i;a++){r[a]=[];for(var s=0;s<t.length;s++){var o=t[s].colArray(a);r[a]=r[a].concat(o)}}return new l(r,{names:n})},sort:function(t,n){return c.sort(t,function(t,e){return t[n]-e[n]})}}),t.exports=l},function(t,e,n){var i=n(1),r=n(20),a="_INDEX";t.exports={filterNull:function(t){var e=[];return i.each(t,function(t){i.isNull(t)||e.push(t)}),e},mixIf:function(e,n,t){i.each(t,function(t){e[t]=n[t]})},formatArray:function(t){var e=[];return i.each(t,function(t){i.isArray(t)?e=e.concat(t):e.push(t)}),e},sort:function(t,e){var n=t.toJSON();return i.each(n,function(t,e){return t[a]=e,t}),n.sort(function(i){return function(t,e){var n=i(t,e);return 0===n?t[a]-e[a]:n}}(e)),new r(n,{names:t.colNames()})}}},function(t,e){var n={uniform:function(t){return Math.abs(t)<1?.5:0},triangular:function(t){return Math.abs(t)<1?1-Math.abs(t):0},epanechnikov:function(t){return Math.abs(t)<1?.75*(1-t*t):0},quartic:function(t){return Math.abs(t)<1?.9375*Math.pow(1-t*t,2):0},triweight:function(t){return Math.abs(t)<1?35/32*Math.pow(1-t*t,3):0},tricube:function(t){return Math.abs(t)<1?70/81*Math.pow(1-Math.pow(Math.abs(t),3),3):0},gaussian:function(t){return Math.abs(t)<3?1/Math.sqrt(2*Math.PI)*Math.exp(-.5*t*t):0},cosine:function(t){return Math.abs(t)<1?Math.PI/4*Math.cos(Math.PI/2*t):0}};t.exports=n},function(t,e){"use strict";function r(){var t=document.createElement("i");return t.title="Web Colour Picker",t.style.display="none",document.body.appendChild(t),t}var a=/rgb\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/;t.exports={toRGB:function(){var i;return document.body&&(i=r()),function(t){i||(i=r()),i.style.color=t;var e=document.defaultView.getComputedStyle(i,"").getPropertyValue("color"),n=a.exec(e);return n.shift(),this.arr2rgb(n)}}(),toHex:function(t){return 1===(t=(t=Math.round(t)).toString(16)).length&&(t="0"+t),t},hsl2Rgb:function(t){var e=t[0],n=t[1],i=t[2],r={};if(0===n)r.r=r.g=r.b=i;else{var a=function(t,e,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t},s=i<=.5?i*(1+n):i+n-i*n,o=2*i-s;r.r=a(o,s,e+1/3),r.g=a(o,s,e),r.b=a(o,s,e-1/3)}return r.r=Math.min(Math.round(255*r.r),255),r.g=Math.min(Math.round(255*r.g),255),r.b=Math.min(Math.round(255*r.b),255),"#"+this.toHex(r.r)+this.toHex(r.g)+this.toHex(r.b)},rgb2hsl:function(t){var e,n,i=this.rgb2arr(t),r=i[0]/255,a=i[1]/255,s=i[2]/255,o=Math.min(r,a,s),u=Math.max(r,a,s),c=u-o;return u==o?e=0:r==u?e=(a-s)/c:a==u?e=2+(s-r)/c:s==u&&(e=4+(r-a)/c),(e=Math.min(60*e,360))<0&&(e+=360),n=(o+u)/2,[e/360,u==o?0:n<=.5?c/(u+o):c/(2-u-o),n]},arr2rgb:function(t){return"#"+this.toHex(t[0])+this.toHex(t[1])+this.toHex(t[2])},rgb2arr:function(t){var e=[];return e.push(parseInt(t.substr(1,2),16)),e.push(parseInt(t.substr(3,2),16)),e.push(parseInt(t.substr(5,2),16)),e}}},function(t,e,n){"use strict";function i(t){i.superclass.constructor.call(this,t)}var r=n(34),p=n(2),d="x-chart-axis",a=n(4),v=a.Vector2,m=n(7);i.CFG={zIndex:4,x:null,y:null,elCls:d,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",value:5},isVertical:!1,start:null,end:null},p.extend(i,r),p.augment(i,{_getAvgLabelLength:function(t){var e=t.get("children");return e[1].attr("x")-e[0].attr("x")},getSideVector:function(t){var e=this,n=e.get("factor"),i=e.get("isVertical"),r=e.get("start"),a=e.get("end"),s=e.getAxisVector(),o=s.normalize(),u=!1;(i&&r.y<a.y||!i&&r.x>a.x)&&(u=!0);var c=o.vertical(u);return c.multiplyScaler(t*n)},getAxisVector:function(){var t=this.get("start"),e=this.get("end");return new v(e.x-t.x,e.y-t.y)},getLinePath:function(){var t=this.get("start"),e=this.get("end"),n=[];return n.push(["M",t.x,t.y]),n.push(["L",e.x,e.y]),n},getTickEnd:function(t,e){var n,i=this.get("tickLine");return e=e||i.value,n=this.getSideVector(e),{x:t.x+n.x,y:t.y+n.y}},getTickPoint:function(t){var e=this.get("start"),n=this.get("end"),i=n.x-e.x,r=n.y-e.y;return{x:e.x+i*t,y:e.y+r*t}},renderTitle:function(){var t=this,e=t.get("title"),n=t.getTickPoint(.5),i=t.get("titleOffset"),r=t.get("labelsGroup");if(r){var a=t.getMaxLabelWidth(r),s=t.get("labelOffset")||10;a+s+20<i&&(i=a+s+20)}var o=p.mix({},e);if(e.text){var u=t.getSideVector(i),c={x:n.x+u.x,y:n.y+u.y},l=t.getAxisVector(),h=0;if(!m.equal(l.y,0)){var f=new v(1,0),g=new v(l.x,l.y);h=g.angleTo(f,!0)}o.rotate=h*(180/Math.PI),o.x=c.x,o.y=c.y,t.addShape("Text",{elCls:d+"-title",attrs:o})}},autoRotateLabels:function(){var t=this,e=t.get("labelsGroup"),n=t.get("title");if(e){var i,r,a=t.get("labelOffset")||10,s=a,o=t.get("titleOffset"),u=t.getAxisVector();if(m.equal(u.x,0)&&n&&n.text)r=t.getMaxLabelWidth(e),o-s<r+a&&(i=-1*Math.acos((o-s)/(r+a)));else if(m.equal(u.y,0)&&1<e.getCount()){var c=Math.abs(t._getAvgLabelLength(e));r=t.getMaxLabelWidth(e),c<r&&(i=Math.atan2(1.5*a,c))}if(i){var l=t.get("factor");p.each(e.get("children"),function(t){t.rotateAtStart(i),m.equal(u.y,0)&&(0<l?t.attr("textAlign","left"):t.attr("textAlign","right"))})}}}}),t.exports=i},function(t,e,n){var i=n(73);i.ShowLabels=n(177),t.exports=i},function(t,e,n){"use strict";var i=n(6).Group,u=n(2),r=function(t){r.superclass.constructor.call(this,t)};r.CFG={zIndex:6,items:null,label:null,renderer:null,custom:!1,animate:!1,html:'<div class="g-labels" style="position:absolute;top:0;left:0;"></div>',itemTpl:'<div class="g-label" style="position:absolute;">{text}</div>',duration:400},u.extend(r,i),u.augment(r,{_renderUI:function(){this._drawLabels()},_drawLabels:function(){var n=this,t=n.get("items");u.each(t,function(t,e){n._addLabel(t,e)})},_addLabel:function(t,e){var n=this._getLabelCfg(t,e);return this._createText(n)},_getLabelCfg:function(t,e){var n=this.get("label")||{},i=this.get("renderer");if(!u.isObject(t)){var r=t;(t={}).text=r}i&&(t.text=i(t.text,t,e)),u.isNull(t.text)&&(t.text=""),t.text=t.text+"";var a=u.mix({},t,n,{x:(t.x||0)+(n.x||0),y:(t.y||0)+(n.y||0)});return a},_createText:function(t){var e,n=this,i=n.get("custom"),r=n.get("customDiv");if(!i)return(e=this.addShape("text",{attrs:t})).id=t.id,e.animateType="label",e;if(!r){var a=n.get("html"),s=n.get("canvas").get("el").parentNode;r=u.createDom(a),s.style.position="relative",s.appendChild(r),n.set("customDiv",r)}var o=n._createDom(t);r.appendChild(o),n._setCustomPosition(t,o)},_setCustomPosition:function(t,e){var n=t.textAlign||"left",i=t.y,r=t.x,a=u.getWidth(e),s=u.getHeight(e);i-=s/2,"center"===n?r-=a/2:"right"===n&&(r-=a),e.style.top=parseInt(i,10)+"px",e.style.left=parseInt(r,10)+"px"},_createDom:function(t){var e=this.get("itemTpl"),n=u.substitute(e,t),i=u.createDom(n);return i},getLabels:function(){var t=this.get("customDiv");return t?u.toArray(t.childNodes):this.get("children")},addLabel:function(t){var e=this.get("items"),n=e.length;return e.push(t),this._addLabel(t,n)},changeLabel:function(t,e){var n,i,r=this,a=r.get("custom");if(n=u.indexOf(r.get("children"),t),i=r._getLabelCfg(e,n),t)if(a){var s=r._createDom(i);t.innerHTML=s.innerHTML,r._setCustomPosition(i,t)}else if(t.attr("text",i.text),t.attr("x")!==i.x||t.attr("y")!==i.y){var o=t.get("attrs").rotate;o&&t.rotateAtStart(-o),t.attr(i),o&&t.rotateAtStart(o)}},clear:function(){var t=this.get("customDiv");t&&(t.innerHTML=""),r.superclass.clear.call(this)},setItems:function(t){this.clear(),this.set("items",t),this._drawLabels()},remove:function(){var t=this.get("customDiv");t&&t.parentNode.removeChild(t),r.superclass.remove.call(this)}}),t.exports=r},function(t,e,n){"use strict";var h=n(2);t.exports={addEachItem:function(t,n){var i,r=t.addGroup(n),a=h.mix({fill:"#fff",textBaseline:"middle"},n.word),s=n.wordSpaceing||6,e=h.mix({fill:"red",lineWidth:0,radius:2.5},n.marker),o=n.markerAlign||"center",u=n.items,c=0;if(u.marker&&((i=h.mix({},e,u.marker,{x:"center"===o?0:u.marker.radius,y:0})).x+=n.x,i.y+=n.y,i.symbol)){var l=r.addShape("marker",{type:"marker",attrs:i});c+=l.getBBox().width+s}return h.each(u.words,function(t){(i=h.mix({},a,t,{x:c,y:0})).x+=n.x,i.y+=n.y;var e=r.addShape("text",{attrs:i});c+=s+e.getBBox().width}),r}}},function(t,e,n){"use strict";function r(t,e){return e<t?e:t}function a(t,e){return e<t?t:e}var s=n(2),i=function(t,e){this.reset(t,e)};i.CFG={start:null,end:null,background:null},s.augment(i,{init:function(){var t=this.start,e=this.end,n=this.tl={x:r(t.x,e.x),y:r(t.y,e.y)};this.tr={x:a(t.x,e.x),y:r(t.y,e.y)},this.bl={x:r(t.x,e.x),y:a(t.y,e.y)};var i=this.br={x:a(t.x,e.x),y:a(t.y,e.y)};this.cc={x:(i.x-n.x)/2+n.x,y:(i.y-n.y)/2+n.y}},reset:function(t,e){this.start=t,this.end=e,this.init()},isInRange:function(t,e){s.isObject(t)&&(e=t.y,t=t.x);var n=this.tl,i=this.br;return t>=n.x&&t<=i.x&&e>=n.y&&e<=i.y},isInVertical:function(t){s.isObject(t)&&(t=t.y);var e=this.tl,n=this.br;return t>=e.y&&t<=n.y},isInHorizontal:function(t){s.isObject(t)&&(t=t.x);var e=this.tl,n=this.br;return t>=e.x&&t<=n.x},getWidth:function(){var t=this.tl,e=this.br;return e.x-t.x},getHeight:function(){var t=this.tl,e=this.br;return e.y-t.y}}),t.exports=i},function(t,e,n){"use strict";var p=n(2),i=n(6).Group,r=function(t){r.superclass.constructor.call(this,t)};r.CFG={range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null,animate:!1,operable:!0},p.extend(r,i),p.augment(r,{_beforeRenderUI:function(){var t=this.get("layout"),e=this.get("backgroundElement"),n=this.get("minHandleElement"),i=this.get("maxHandleElement"),r=this.addShape("rect",{attrs:this.get("middleAttr")}),a="vertical"===t?"ns-resize":"ew-resize";this.add([e,n,i]),this.set("middleHandleElement",r),e.set("zIndex",0),r.set("zIndex",1),n.set("zIndex",2),i.set("zIndex",2),this.get("operable")&&(r.set("cursor","move"),n.set("cursor",a),i.set("cursor",a)),this.sort()},_renderUI:function(){var t=this.get("layout");"horizontal"===t?this._renderHorizontal():this._renderVertical()},_transform:function(t){var e=this.get("range"),n=e[0]/100,i=e[1]/100,r=this.get("width"),a=this.get("height"),s=this.get("minHandleElement"),o=this.get("maxHandleElement"),u=this.get("middleHandleElement");s.initTransform(),o.initTransform(),"horizontal"===t?(u.attr({x:r*n,y:0,width:(i-n)*r,height:a}),s.translate(n*r,0),o.translate(i*r,0)):(u.attr({x:0,y:a*(1-i),width:r,height:(i-n)*a}),s.translate(r/2,(1-n)*a),o.translate(r/2,(1-i)*a))},_renderHorizontal:function(){this._transform("horizontal")},_renderVertical:function(){this._transform("vertical")},_bindUI:function(){this.get("operable")&&(this.on("mousedown",p.wrapBehavior(this,"_onMouseDown")),this.on("mousemove",p.wrapBehavior(this,"_onMouseMove")),this.on("mouseleave",p.wrapBehavior(this,"_onMouseLeave")))},_isElement:function(t,e){var n=this.get(e);if(t===n)return!0;if(n.isGroup){var i=n.get("children");return-1<i.indexOf(t)}return!1},_getRange:function(t,e){var n=t+e;return n=(n=100<n?100:n)<0?0:n},_updateStatus:function(t,e){var n,i="x"===t?this.get("width"):this.get("height"),r=p.ucfirst(t),a=this.get("range"),s=this.get("page"+r),o=this.get("currentTarget"),u=this.get("rangeStash"),c=this.get("layout"),l="vertical"===c?-1:1,h=e["page"+r],f=h-s,g=f/i*100*l;a[1]<=a[0]?(this._isElement(o,"minHandleElement")||this._isElement(o,"maxHandleElement"))&&(a[0]=this._getRange(g,a[0]),a[1]=this._getRange(g,a[0])):(this._isElement(o,"minHandleElement")&&(a[0]=this._getRange(g,a[0])),this._isElement(o,"maxHandleElement")&&(a[1]=this._getRange(g,a[1]))),this._isElement(o,"middleHandleElement")&&(n=u[1]-u[0],a[0]=this._getRange(g,a[0]),a[1]=a[0]+n,100<a[1]&&(a[1]=100,a[0]=a[1]-n)),this.fire("rangeChange",{range:a}),this.set("page"+r,h),this._renderUI(),this.get("canvas").draw()},_onMouseLeave:function(){var t=this.get("canvas").get("containerDOM");t.style.cursor="default"},_onMouseMove:function(t){var e=t.currentTarget.get("cursor"),n=this.get("canvas").get("containerDOM");n&&(n.style.cursor=e||"default")},_onMouseDown:function(t){var e=t.currentTarget,n=t.event,i=this.get("range");n.stopPropagation(),n.preventDefault(),this.set("pageX",n.pageX),this.set("pageY",n.pageY),this.set("currentTarget",e),this.set("rangeStash",[i[0],i[1]]),this._bindCanvasEvents()},_bindCanvasEvents:function(){this.onMouseMoveListener=p.addEventListener(document,"mousemove",p.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=p.addEventListener(document,"mouseup",p.wrapBehavior(this,"_onCanvasMouseUp"))},_onCanvasMouseMove:function(t){var e=this.get("layout");"horizontal"===e?this._updateStatus("x",t):this._updateStatus("y",t)},_onCanvasMouseUp:function(){this._removeDocumentEvents()},_removeDocumentEvents:function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove()}}),t.exports=r},function(t,e,n){var i=n(184);t.exports=i},function(t,e,n){var m=n(1),i=n(3),r=n(79),a=function(t){a.superclass.constructor.call(this,t)};m.extend(a,r),m.augment(a,{type:"weight",detachment:!1,PRECISION:.001,_getFromWeightField:function(){var t=this.getDims();return t[4]},_getToWeightField:function(){var t=this.getDims();return t[5]},initDims:function(t){t.unshift("..y"),t.unshift("..x"),this.fromWeightField=this._getFromWeightField(),this.toWeightField=this._getToWeightField()?this._getToWeightField():this.fromWeightField},execFrame:function(t){var c,l,h=this,f=h._getFromField(),g=h._getToField(),e=h.detachment,p=e?"inputStart":"start",d=e?"outputStart":"start",v=[];return t.each(function(t){var e=t[f],n=t[g];if(m.isArray(e)&&m.isArray(n))c=t[h.fromWeightField],l=t[h.toWeightField],t["..x"]=[e[0],e[0]+c,n[0],n[0]+l],t["..y"]=[e[1],e[1],n[1],n[1]],v.push(t);else{var i=h._findObj(e),r=h._findObj(n);if(i&&r){var a=i[p]?i[p]:i.x-.5*i.width,s=r[d]?r[d]:r.x-.5*r.width;c=t[h.fromWeightField]*i.width/i.value,l=t[h.toWeightField]*r.width/r.value;var o=a+c,u=s+l;o-(i.x+.5*i.width)<h.PRECISION&&u-(r.x+.5*r.width)<h.PRECISION&&(t["..x"]=[a,o,s,u],t["..y"]=[i.y,i.y,r.y,r.y],v.push(t)),i[p]=o,r[d]=u}}}),h.resetNodes(),new i(v)},resetNodes:function(){var t=this.nodes,e=this.detachment,n=e?"inputStart":"start",i=e?"outputStart":"start";t.map(function(t){delete t[n],delete t[i]})}}),t.exports=a},function(t,e,n){var c=n(1),i=n(16),r=n(3),a=function(t){a.superclass.constructor.call(this,t)};c.extend(a,i),c.augment(a,{type:"link",nodes:null,_getFromField:function(){var t=this.getDims();return t[2]},_getToField:function(){var t=this.getDims();return t[3]},initDims:function(t){t.unshift("..y"),t.unshift("..x")},execFrame:function(t){var a=this,s=a._getFromField(),o=a._getToField(),u=[];return t.each(function(t){var e=t[s],n=t[o];if(c.isArray(e)&&c.isArray(n))t["..x"]=[e[0],n[0]],t["..y"]=[e[1],n[1]],u.push(t);else{var i=a._findObj(e),r=a._findObj(n);i&&r&&(t["..x"]=[i.x,r.x],t["..y"]=[i.y,r.y],u.push(t))}}),new r(u)},_initNodeMap:function(t){if(c.isObject(t))return t;var e={};return c.each(t,function(t){e[t.id]=t}),this.nodesMap=e},_findObj:function(t){var e=this.nodes,n=this.nodesMap;return n||(n=this._initNodeMap(e)),n[t]}}),t.exports=a},[339,187,81],function(t,e){"use strict";var i=/rgb\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,r={},a=null;t.exports={toRGB:function(t){var e;if(a||(a=function(){var t=document.createElement("i");return t.title="Web Colour Picker",t.style.display="none",document.body.appendChild(t),t}()),r[t])e=r[t];else{a.style.color=t,e=document.defaultView.getComputedStyle(a,"").getPropertyValue("color");var n=i.exec(e);n.shift(),e=this.arr2rgb(n),r[t]=e}return e},toHex:function(t){return 1===(t=(t=Math.round(t)).toString(16)).length&&(t="0"+t),t},hsl2Rgb:function(t){var e=t[0],n=t[1],i=t[2],r={};if(0===n)r.r=r.g=r.b=i;else{var a=function(t,e,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t},s=i<=.5?i*(1+n):i+n-i*n,o=2*i-s;r.r=a(o,s,e+1/3),r.g=a(o,s,e),r.b=a(o,s,e-1/3)}return r.r=Math.min(Math.round(255*r.r),255),r.g=Math.min(Math.round(255*r.g),255),r.b=Math.min(Math.round(255*r.b),255),"#"+this.toHex(r.r)+this.toHex(r.g)+this.toHex(r.b)},rgb2hsl:function(t){var e,n,i=this.rgb2arr(t),r=i[0]/255,a=i[1]/255,s=i[2]/255,o=Math.min(r,a,s),u=Math.max(r,a,s),c=u-o;return u===o?e=0:r===u?e=(a-s)/c:a===u?e=2+(s-r)/c:s===u&&(e=4+(r-a)/c),(e=Math.min(60*e,360))<0&&(e+=360),n=(o+u)/2,[e/360,u===o?0:n<=.5?c/(u+o):c/(2-u-o),n]},arr2rgb:function(t){return"#"+this.toHex(t[0])+this.toHex(t[1])+this.toHex(t[2])},rgb2arr:function(t){var e=[];return e.push(parseInt(t.substr(1,2),16)),e.push(parseInt(t.substr(3,2),16)),e.push(parseInt(t.substr(5,2),16)),e}}},function(t,e,n){"use strict";var s=n(1),i=function(t){s.mix(this,t),this._init()};s.augment(i,{nodes:null,edges:null,y:0,hasWeight:!1,idField:"name",valueField:"value",sourceField:"source",targetField:"target",sourceWeightField:"sourceWeight",targetWeightField:"targetWeight",maxValue:null,thickness:.05,margin:.01,detachment:!1,_init:function(){var t=this,e=t.nodes,n=t.valueField,i=t.targetWeightField;if(s.isNull(e)){var r=t.edges.slice(0);t.edges=r,s.isNull(r[0][i])&&(t.targetWeightField=t.sourceWeightField),e=t._createNodes()}else e=e.slice(0),t.nodes=e;t.hasWeight&&s.isNull(e[0][n])&&(t._initNodeMap(),t._calculateValue()),t._setMarginWidth(e)},_createNodes:function(){var i=this,t=i.edges,r=i.sourceField,a=i.targetField,s=[],o={};return t.forEach(function(t){var e=t[r],n=t[a];i._creatNode(e,o,s),i._creatNode(n,o,s)}),i.nodes=s},_creatNode:function(t,e,n){if(s.isNull(e[t])){var i={id:t};n.push(i),e[t]=i}},_initNodeMap:function(){var e=this,n=e.idField,i=e.targetField,r=e.sourceField,t=e.nodes;if(s.isObject(t))return t;var a={};return s.each(t,function(t){s.isNull(t.id)&&(t.id=t[n]),s.isNull(t.y)||delete t.y,t.inEdges=e._getEdgeOfCurNode(t,i),t.outEdges=e._getEdgeOfCurNode(t,r),a[t.id]=t}),e.nodesMap=a,e.nodes=t,a},_getEdgeOfCurNode:function(e,n){var t=this.edges,i=t.filter(function(t){return t[n]===e.id});return i},_calculateValue:function(){var e=this,t=e.nodes,n=e.valueField;t.forEach(function(t){s.isNull(t[n])&&e._getValueFromEdges(t)})},_getValueFromEdges:function(t){var e=this.valueField,n=this.sourceField,i=this.targetField,r=this.sourceWeightField,a=this.targetWeightField,s=0,o=this.detachment;if(o){var u=0,c=0;t.outEdges.forEach(function(t){c+=t[r]}),t.inEdges.forEach(function(t){u+=t[a]}),s=Math.max(u,c)}else t.outEdges.forEach(function(t){s+=t[r]}),t.inEdges.forEach(function(t){t[n]!==t[i]&&(s+=t[a])});return t[e]=s},_setMarginWidth:function(t){var e=this.margin,n=t.length,i=2*n*e;this.marginWidth=i},getNodes:function(){var t=this.nodes;return this.hasWeight?this._layoutByWeight(t):this._layout(t),t},_layout:function(t){var e=t.length,n=1/e,i=this.y;t.map(function(t,e){t.x=(e+.5)*n,t.y=i})},_layoutByWeight:function(t){var e=this.y,n=this.marginWidth,i=this.thickness,r=this.valueField,a=0;t.forEach(function(t){a+=t[r]});var s=this.maxValue||a;t.map(function(t){t.weight=t[r]/s,t.width=t.weight*(1-n),t.height=i,t.y=e}),this._layoutX(t)},_layoutX:function(r){var a=this.margin;r.map(function(t,e){for(var n=0,i=e-1;0<=i;i--)n+=r[i].width+2*a;t.x=a+.5*t.width+n})},reset:function(){this._init()}}),t.exports=i},function(t,e){function a(t,e){var n=t.length;if(0===n)return NaN;var i=t[0];if(e<t[0])return NaN;if(e>=t[n-1])return t[n-1];for(var r=1;r<t.length&&!(e<t[r]);r++)i=t[r];return i}function s(t,e){var n,i=t.length;if(0===i)return NaN;if(e>t[i-1])return NaN;if(e<t[0])return t[0];for(var r=1;r<t.length;r++)if(e<=t[r]){n=t[r];break}return n}var u={snapFactorTo:function(t,e,n){if(isNaN(t))return NaN;var i=1;if(0!==t){t<0&&(i=-1);var r=function(t){for(var e=1;10<t;)e*=10,t/=10;for(;t<1;)e/=10,t*=10;return e}(t*=i);i*=r,t/=r}if(t="floor"===n?u.snapFloor(e,t):"ceil"===n?u.snapCeiling(e,t):u.snapTo(e,t),Math.abs(i)<1){var a,s=function(t){var e=t.toString(),n=e.indexOf(".");return e.substr(n+1).length}(i),o=1;for(a=0;a<s;a++)o*=10;1e7<o&&console.log(t,o)}return t*i},snapMultiple:function(t,e,n){return("ceil"===n?Math.ceil(t/e):"floor"===n?Math.floor(t/e):Math.round(t/e))*e},snapTo:function(t,e){var n=a(t,e),i=s(t,e);if(isNaN(n)||isNaN(i)){if(t[0]>=e)return t[0];var r=t[t.length-1];if(r<=e)return r}return Math.abs(e-n)<Math.abs(i-e)?n:i},snapFloor:function(t,e){return a(t,e)},snapCeiling:function(t,e){return s(t,e)}};t.exports=u},function(t,e,n){"use strict";var o=n(1),i=n(36),u=n(3),r=function(t){r.superclass.constructor.call(this,t)};o.extend(r,i),o.augment(r,{fractions:10,execFrame:function(t){var e=this,n=t.toJSON();o.each(n,function(t){e.toBin(t)});var i=new u(n);return e.execQuantile(i)},getSplitArray:function(){for(var t=this.fractions,e=[],n=1/t,i=0;i<=1;i+=n)e.push(i);return e},execQuantile:function(t){var n=[],e=this.getDims(),i=e[e.length-1],r=e.slice(0,e.length-1),a=u.group(t,r),s=this.getSplitArray();return o.each(a,function(t){var e=t.rowObject(0);e[i]=u.quantile(t,i,s),n.push(e)}),new u(n)}}),t.exports=r},function(t,e,n){"use strict";var i=n(28),r=n(1),a=n(3),s=function(t){s.superclass.constructor.call(this,t)};r.extend(s,i),r.augment(s,{type:"density",bandWidth:.01,colRange:{},initDims:function(t){t.push("..density")},execFrame:function(t){return t},getWindowWidth:function(t,e){var n=a.max(t,e),i=a.min(t,e),r=(n-i)*this.bandWidth;return r},getCoordinate:function(t,e,n){for(var i=this.getDimRange(t,e),r=i.max,a=i.min,s=[],o=a;o<=r;o+=n)s.push(o);return s},getDimRange:function(t,e){var n=this.colRange[e];if(!n){var i=a.range(t,e);n={min:i[0],max:i[1]}}return n},setRange:function(t,e){this.colRange[t]=e}}),t.exports=s},function(t,e,n){"use strict";var c=n(1),l=n(3);t.exports={exec:function(t){var n=this;n.preExecute(t),this.stat&&(t=this.stat.exec(t));var i=[],e=l.merge.apply(null,t),r=n.getGroupCondition(),a=l.groupToMap(e,r);if(1<t.length)c.each(t,function(t){var e=n.execFrame(t,a);i.push(e)});else{var s=n.execFrame(t[0]);i.push(s)}return i},execFrame:function(r,a){var s=this,t=s.getGroupCondition(),e=l.groupToMap(r,t),o=[],u=s.getStatDims()[0];return c.each(e,function(t,e){var n=a?a[e]:r,i=s.transform(t,u,n);o.push(i)}),l.merge.apply(null,o)}}},function(t,e,n){var i=n(1),r=n(38);r.Linear=n(37),r.linear=function(t){return new r.Linear(t)},r.Cat=n(88),r.cat=function(t){return new r.Cat(t)},r.Pow=n(261),r.pow=function(t){return new r.Pow(t)},r.Log=n(260),r.log=function(t){return new r.Log(t)},r.Identity=n(259),r.I=function(t){return new r.Identity(t)},r.Time=n(263),r.time=function(t){return new r.Time(t)},r.TimeCat=n(262),r.timeCat=function(t){return new r.TimeCat(t)},r.I_TYPE="identity",r.isCategory=function(t){if("cat"===t)return!0;var e=i.ucfirst(t);return!(!r[e]||!r[e].superclass||"cat"!==r[e].superclass.type)},t.exports=r},function(t,e,n){"use strict";var i=n(38),a=n(1),r=n(35),s=function(t){s.superclass.constructor.call(this,t)};a.extend(s,i),a.augment(s,{type:"cat",tickCount:null,isCategory:!0,init:function(){var n=this.values,t=this.tickCount;if(a.each(n,function(t,e){n[e]=t.toString()}),!this.ticks){var e=n;if(t){var i=r.Category.caculate({maxCount:t,data:n});e=i.ticks}this.ticks=e}},getText:function(t){return-1<this.values.indexOf(t)?t=t:a.isNumber(t)&&(t=this.values[Math.round(t)]),s.superclass.getText.call(this,t)},translate:function(t){var e=this.values.indexOf(t);return-1===e&&a.isNumber(t)?e=t:-1===e&&(e=NaN),e},scale:function(t){var e,n=this.rangeMin(),i=this.rangeMax();return!a.isString(t)&&-1===this.values.indexOf(t)||(t=this.translate(t)),e=1<this.values.length?t/(this.values.length-1):t,n+e*(i-n)},invert:function(t){if(a.isString(t))return t;var e=this.rangeMin(),n=this.rangeMax();t<e&&(t=e),n<t&&(t=n);var i=(t-e)/(n-e),r=Math.round(i*(this.values.length-1))%this.values.length;return r=r||0,this.values[r]}}),t.exports=s},function(t,e,n){var i=n(1);t.exports={toTimeStamp:function(t){return i.isString(t)&&(t=0<t.indexOf("T")?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),i.isDate(t)&&(t=t.getTime()),t}}},function(t,e,n){"use strict";var i=n(30),r=n(91),a=n(49),s=n(269),o=n(268),u=n(39),c=n(270),l=n(264),h=n(265),f=n(266),g=n(267);i.Cartesian=r,i.Rect=r,i.Polar=a,i.Theta=s,i.Rho=o,i.Plus=u,i.TriAngle=c,i.Clock=l,i.Gauge=h,i.Helix=f,i.Map=g,t.exports=i},function(t,e,n){"use strict";var i=n(1),r=n(30),a=function(t){var e={};i.mix(e,a.ATTRS,t),a.superclass.constructor.call(this,e),this._init()};a.ATTRS={start:{x:0,y:0},end:{x:0,y:0}},i.extend(a,r),i.augment(a,{type:"cartesian",isRect:!0,_init:function(){var t=this.get("start"),e=this.get("end"),n={start:t.x,end:e.x},i={start:t.y,end:e.y};this.set("x",n),this.set("y",i)},convertPoint:function(t){var e=this.isTransposed?t.y:t.x,n=this.isTransposed?t.x:t.y;return{x:this.convertDim(e,"x"),y:this.convertDim(n,"y")}},invertPoint:function(t){var e=this.invertDim(t.x,"x"),n=this.invertDim(t.y,"y"),i={};return i.x=this.isTransposed?n:e,i.y=this.isTransposed?e:n,i}}),t.exports=a},function(t,e,n){"use strict";var i=n(17),r=n(1),a=function(t){a.superclass.constructor.call(this,t)};r.extend(a,i),r.augment(a,{getEndAttrs:function(){var t=this.get("rect"),e={width:t.width,height:t.height};return e},getTarget:function(){var t=this.get("group"),e=t.getParent(),n=e.addShape("Rect");return t.attr("clip",n),n}}),t.exports=a},function(t,e){t.exports={prefix:"g",backupContext:document.createElement("canvas").getContext("2d"),debug:!1,warn:function(){}}},function(t,e,n){var r=n(1),i=n(286),a=n(287),s=n(285),o=n(95),u=n(282),c=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash"],l=function(t){this.__cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},r.simpleMix(this.__cfg,this.getDefaultCfg(),t),this.initAttrs(this.__cfg.attrs),this.initTransform(),this.initEventDispatcher(),this.init()};l.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},r.augment(l,i,u,a,s,{init:function(){this.setSilent("animable",!0);var t=this.__attrs;t&&t.rotate&&this.rotateAtStart(t.rotate)},getParent:function(){return this.get("parent")},getDefaultCfg:function(){return{}},set:function(t,e){var n="__set"+r.ucfirst(t);return this[n]&&(e=this[n](e)),this.__cfg[t]=e,this},setSilent:function(t,e){this.__cfg[t]=e},get:function(t){return this.__cfg[t]},draw:function(t){this.get("destroyed")||this.get("visible")&&(this.setContext(t),this.drawInner(t),this.restoreContext(t))},setContext:function(t){var e=this.__attrs.clip;t.save(),e&&(e.resetTransform(t),e.createPath(t),t.clip()),this.resetContext(t),this.resetTransform(t)},restoreContext:function(t){t.restore()},resetContext:function(t){var e=this.__attrs;if(!this.isGroup)for(var n in e)if(-1<c.indexOf(n)){var i=e[n];"fillStyle"===n&&(i=o.parseStyle(i,this)),"strokeStyle"===n&&(i=o.parseStyle(i,this)),"lineDash"===n&&t.setLineDash?r.isArray(i)?t.setLineDash(i):r.isString(i)&&t.setLineDash(i.split(" ")):t[n]=i}},drawInner:function(){},show:function(){return this.set("visible",!0),this},hide:function(){return this.set("visible",!1),this},remove:function(t){if(void 0===t&&(t=!0),this.get("parent")){var e=this.get("parent"),n=e.get("children");r.remove(n,this)}return t&&this.destroy(),this},destroy:function(){var t=this.get("destroyed");t||(this.__cfg={},this.__attrs=null,this.__listeners=null,this.__m=null,this.set("destroyed",!0))},__setZIndex:function(t){return this.__cfg.zIndex=t,r.notNull(this.get("parent"))&&this.get("parent").sort(),t},__setAttrs:function(t){return this.attr(t),t},clone:function(){return r.clone(this)},getBBox:function(){return{minX:0,maxX:0,minY:0,maxY:0}}}),t.exports=l},function(t,e,n){function r(t,e){if(void 0===e)return t;(t=new i(t)).multiplyA(e);var n=t.getType();return"hsl"===n?t.getHSLStyle():"rgb"===n?t.getRGBStyle():void 0}function p(t,n,i){var e=t.match(c);a.each(e,function(t){var e=r((t=t.split(":"))[1],i);n.addColorStop(t[0],e)})}var a=n(1),d=n(7),i=n(32),s=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi,v=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,m=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,u=/^p\s*([axyn])\s+(.*)/i,c=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,l={};t.exports={parsePath:function(i){return i=i||[],a.isArray(i)?i:a.isString(i)?(i=i.match(s),a.each(i,function(n,t){if(1<(n=n.match(o))[0].length){var e=n[0].charAt(0);n.splice(1,0,n[0].substr(1)),n[0]=e}a.each(n,function(t,e){isNaN(t)||(n[e]=+t)}),i[t]=n}),i):void 0},parseStyle:function(t,e,n){if(a.isString(t)){if("("===t[1]||"("===t[2]){if("l"===t[0])return function(t,e,n){var i,r,a=v.exec(t),s=d.mod(d.degreeToRad(parseFloat(a[1])),2*Math.PI),o=a[2],u=e.getBBox();r=0<=s&&s<.5*Math.PI?(i={x:u.minX,y:u.minY},{x:u.maxX,y:u.maxY}):.5*Math.PI<=s&&s<Math.PI?(i={x:u.maxX,y:u.minY},{x:u.minX,y:u.maxY}):Math.PI<=s&&s<1.5*Math.PI?(i={x:u.maxX,y:u.maxY},{x:u.minX,y:u.minY}):(i={x:u.minX,y:u.maxY},{x:u.maxX,y:u.minY});var c=Math.tan(s),l=c*c,h=(r.x-i.x+c*(r.y-i.y))/(1+l)+i.x,f=c*(r.x-i.x+c*(r.y-i.y))/(1+l)+i.y,g=e.get("context").createLinearGradient(i.x,i.y,h,f);return p(o,g,n),g}(t,e,n);if("r"===t[0])return function(t,e,n){var i=m.exec(t),r=parseFloat(i[1]),a=parseFloat(i[2]),s=parseFloat(i[3]),o=i[4],u=e.getBBox(),c=e.get("context"),l=u.maxX-u.minX,h=u.maxY-u.minY,f=Math.sqrt(l*l+h*h)/2,g=c.createRadialGradient(u.minX+l*r,u.minY+h*a,s,u.minX+l/2,u.minY+h/2,f);return p(o,g,n),g}(t,e,n);if("p"===t[0])return function(t,e){var n=u.exec(t),i=n[1],r=n[2];switch(i){case"a":i="repeat";break;case"x":i="repeat-x";break;case"y":i="repeat-y";break;case"n":i="no-repeat";break;default:i="no-repeat"}var a=document.getElementById(r);return e.get("context").createPattern(a,i)}(t,e)}return a.isNull(n)?t:r(t,n)}},numberToColor:function(t){var e=l[t];if(!e){for(var n=t.toString(16),i=n.length;i<6;i++)n="0"+n;e="#"+n,l[t]=e}return e}}},function(t,e,n){var i=n(93),r={Group:n(284),Shape:n(8),Rect:n(109),Circle:n(98),Ellipse:n(100),Path:n(105),Text:n(110),Line:n(103),Image:n(102),Polygon:n(106),Polyline:n(107),Arc:n(97),Fan:n(101),Cubic:n(99),Quadratic:n(108),Marker:n(104),debug:function(t){i.debug=t}};t.exports=r},function(t,e,n){var i=n(1),f=n(4).Vector2,r=n(8),l=n(9),h=n(50),g=n(23),a=function(t){a.superclass.constructor.call(this,t)};a.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,arrow:!1},i.extend(a,r),i.augment(a,{canStroke:!0,type:"arc",getDefaultAttrs:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,arrow:!1}},calculateBox:function(){var t=this.__attrs,e=t.x,n=t.y,i=t.r,r=t.startAngle,a=t.endAngle,s=t.clockwise,o=t.lineWidth,u=o/2,c=h.box(e,n,i,r,a,s);return c.minX-=u,c.minY-=u,c.maxX+=u,c.maxY+=u,c},isPointInPath:function(t,e){var n=this.__attrs,i=n.x,r=n.y,a=n.r,s=n.startAngle,o=n.endAngle,u=n.clockwise,c=n.lineWidth;return!!this.hasStroke()&&l.arcline(i,r,a,s,o,u,c,t,e)},createPath:function(t){var e=this.__attrs,n=e.x,i=e.y,r=e.r,a=e.startAngle,s=e.endAngle,o=e.clockwise,u=e.lineWidth,c=e.arrow;if((t=t||self.get("context")).beginPath(),t.arc(n,i,r,a,s,o),c){var l={x:n+r*Math.cos(s),y:i+r*Math.sin(s)},h=new f(-r*Math.sin(s),r*Math.cos(s));o&&h.multiplyScaler(-1),g.makeArrow(t,h,l,u)}}}),t.exports=a},function(t,e,n){var i=n(1),r=n(8),o=n(9),a=function(t){a.superclass.constructor.call(this,t)};a.ATTRS={x:0,y:0,r:0,lineWidth:1},i.extend(a,r),i.augment(a,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this.__attrs,e=t.x,n=t.y,i=t.r,r=t.lineWidth,a=r/2+i;return{minX:e-a,minY:n-a,maxX:e+a,maxY:n+a}},isPointInPath:function(t,e){var n=this.hasFill(),i=this.hasStroke();return n&&i?this.__isPointInFill(t,e)||this.__isPointInStroke(t,e):n?this.__isPointInFill(t,e):!!i&&this.__isPointInStroke(t,e)},__isPointInFill:function(t,e){var n=this.__attrs,i=n.x,r=n.y,a=n.r;return o.circle(i,r,a,t,e)},__isPointInStroke:function(t,e){var n=this.__attrs,i=n.x,r=n.y,a=n.r,s=n.lineWidth;return o.arcline(i,r,a,0,2*Math.PI,!1,s,t,e)},createPath:function(t){var e=this.__attrs,n=e.x,i=e.y,r=e.r;(t=t||self.get("context")).beginPath(),t.arc(n,i,r,0,2*Math.PI,!1)}}),t.exports=a},function(t,e,n){var l=n(1),i=n(8),u=n(9),h=n(23),f=n(40),g=n(4).Vector2,r=function(t){r.superclass.constructor.call(this,t)};r.ATTRS={p1:null,p2:null,p3:null,p4:null,lineWidth:1,arrow:!1},l.extend(r,i),l.augment(r,{canStroke:!0,type:"cubic",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t,e,n=this.__attrs,i=n.p1,r=n.p2,a=n.p3,s=n.p4;if(l.isNull(i)||l.isNull(r)||l.isNull(a)||l.isNull(s))return null;var o=n.lineWidth/2,u=f.extrema(i[0],r[0],a[0],s[0]);for(t=0,e=u.length;t<e;t++)u[t]=f.at(i[0],r[0],a[0],s[0],u[t]);var c=f.extrema(i[1],r[1],a[1],s[1]);for(t=0,e=c.length;t<e;t++)c[t]=f.at(i[1],r[1],a[1],s[1],c[t]);return u.push(i[0],s[0]),c.push(i[1],s[1]),{minX:Math.min.apply(Math,u)-o,maxX:Math.max.apply(Math,u)+o,minY:Math.min.apply(Math,c)-o,maxY:Math.max.apply(Math,c)+o}},isPointInPath:function(t,e){var n=this.__attrs,i=n.p1,r=n.p2,a=n.p3,s=n.p4,o=n.lineWidth;return u.cubicline(i[0],i[1],r[0],r[1],a[0],a[1],s[0],s[1],o,t,e)},createPath:function(t){var e=this.__attrs,n=e.p1,i=e.p2,r=e.p3,a=e.p4,s=e.lineWidth,o=e.arrow;if(t=t||self.get("context"),!(l.isNull(n)||l.isNull(i)||l.isNull(r)||l.isNull(a)))if(t.beginPath(),t.moveTo(n[0],n[1]),o){var u=new g(a[0]-r[0],a[1]-r[1]),c=h.getEndPoint(u,new g(a[0],a[1]),s);t.bezierCurveTo(i[0],i[1],r[0],r[1],c.x,c.y),h.makeArrow(t,u,c,s)}else t.bezierCurveTo(i[0],i[1],r[0],r[1],a[0],a[1])},getPoint:function(t){var e=this.__attrs;return{x:f.at(e.p4[0],e.p3[0],e.p2[0],e.p1[0],t),y:f.at(e.p4[1],e.p3[1],e.p2[1],e.p1[1],t)}}}),t.exports=r},function(t,e,n){var i=n(1),r=n(8),p=n(9),a=n(4),d=a.Matrix3,v=a.Vector3,s=function(t){s.superclass.constructor.call(this,t)};s.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},i.extend(s,r),i.augment(s,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this.__attrs,e=t.x,n=t.y,i=t.rx,r=t.ry,a=t.lineWidth,s=i+a/2,o=r+a/2;return{minX:e-s,minY:n-o,maxX:e+s,maxY:n+o}},isPointInPath:function(t,e){var n=this.hasFill(),i=this.hasStroke();return n&&i?this.__isPointInFill(t,e)||this.__isPointInStroke(t,e):n?this.__isPointInFill(t,e):!!i&&this.__isPointInStroke(t,e)},__isPointInFill:function(t,e){var n=this.__attrs,i=n.x,r=n.y,a=n.rx,s=n.ry,o=s<a?a:s,u=s<a?1:a/s,c=s<a?s/a:1,l=new v(t,e,1),h=new d;h.scale(u,c),h.translate(i,r);var f=h.getInverse();return l.applyMatrix(f),p.circle(0,0,o,l.x,l.y)},__isPointInStroke:function(t,e){var n=this.__attrs,i=n.x,r=n.y,a=n.rx,s=n.ry,o=n.lineWidth,u=s<a?a:s,c=s<a?1:a/s,l=s<a?s/a:1,h=new v(t,e,1),f=new d;f.scale(c,l),f.translate(i,r);var g=f.getInverse();return h.applyMatrix(g),p.arcline(0,0,u,0,2*Math.PI,!1,o,h.x,h.y)},createPath:function(t){var e=this.__attrs,n=e.x,i=e.y,r=e.rx,a=e.ry;t=t||self.get("context");var s=a<r?r:a,o=a<r?1:r/a,u=a<r?a/r:1,c=new d;c.scale(o,u),c.translate(n,i);var l=c.to2DObject();t.beginPath(),t.save(),t.transform(l.a,l.b,l.c,l.d,l.e,l.f),t.arc(0,0,s,0,2*Math.PI),t.restore(),t.closePath()}}),t.exports=s},function(t,e,n){var i=n(1),r=n(8),d=n(9),v=n(7),m=n(50),a=n(4),x=a.Vector2,s=function(t){s.superclass.constructor.call(this,t)};s.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},i.extend(s,r),i.augment(s,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function(){var t=this.__attrs,e=t.x,n=t.y,i=t.rs,r=t.re,a=t.startAngle,s=t.endAngle,o=t.clockwise,u=t.lineWidth,c=m.box(e,n,i,a,s,o),l=m.box(e,n,r,a,s,o),h=Math.min(c.minX,l.minX),f=Math.min(c.minY,l.minY),g=Math.max(c.maxX,l.maxX),p=Math.max(c.maxY,l.maxY),d=u/2;return{minX:h-d,minY:f-d,maxX:g+d,maxY:p+d}},isPointInPath:function(t,e){var n=this.hasFill(),i=this.hasStroke();return n&&i?this.__isPointInFill(t,e)||this.__isPointInStroke(t,e):n?this.__isPointInFill(t,e):!!i&&this.__isPointInStroke(t,e)},__isPointInFill:function(t,e){var n=this.__attrs,i=n.x,r=n.y,a=n.rs,s=n.re,o=n.startAngle,u=n.endAngle,c=n.clockwise,l=new x(1,0),h=new x(t-i,e-r),f=l.angleTo(h),g=m.nearAngle(f,o,u,c);if(v.equal(f,g)){var p=h.lengthSq();if(a*a<=p&&p<=s*s)return!0}return!1},__isPointInStroke:function(t,e){var n=this.__attrs,i=n.x,r=n.y,a=n.rs,s=n.re,o=n.startAngle,u=n.endAngle,c=n.clockwise,l=n.lineWidth,h={x:Math.cos(o)*a+i,y:Math.sin(o)*a+r},f={x:Math.cos(o)*s+i,y:Math.sin(o)*s+r},g={x:Math.cos(u)*a+i,y:Math.sin(u)*a+r},p={x:Math.cos(u)*s+i,y:Math.sin(u)*s+r};return!!(d.line(h.x,h.y,f.x,f.y,l,t,e)||d.line(g.x,g.y,p.x,p.y,l,t,e)||d.arcline(i,r,a,o,u,c,l,t,e)||d.arcline(i,r,s,o,u,c,l,t,e))},createPath:function(t){var e=this.__attrs,n=e.x,i=e.y,r=e.rs,a=e.re,s=e.startAngle,o=e.endAngle,u=e.clockwise,c={x:Math.cos(s)*r+n,y:Math.sin(s)*r+i},l={x:Math.cos(s)*a+n,y:Math.sin(s)*a+i},h={x:Math.cos(o)*r+n,y:Math.sin(o)*r+i};(t=t||self.get("context")).beginPath(),t.moveTo(c.x,c.y),t.lineTo(l.x,l.y),t.arc(n,i,a,s,o,u),t.lineTo(h.x,h.y),t.arc(n,i,r,o,s,!u),t.closePath()}}),t.exports=s},function(t,e,n){var h=n(1),i=n(8),o=n(9),r=function(t){r.superclass.constructor.call(this,t)};r.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},h.extend(r,i),h.augment(r,{type:"image",__afterSetAttrImg:function(t){this.__setAttrImg(t)},__afterSetAttrAll:function(t){t.img&&this.__setAttrImg(t.img)},isHitBox:function(){return!1},calculateBox:function(){var t=this.__attrs,e=t.x,n=t.y,i=t.width,r=t.height;return{minX:e,minY:n,maxX:e+i,maxY:n+r}},isPointInPath:function(t,e){var n=this.__attrs;if(this.get("toDraw")||!n.img)return!1;var i=n.x,r=n.y,a=n.width,s=n.height;return o.rect(i,r,a,s,t,e)},__setLoading:function(t){var e=this.get("canvas");return!1===t&&!0===this.get("toDraw")&&(this.__cfg.loading=!1,e.draw()),t},__setAttrImg:function(e){var n=this,t=n.__attrs;if(!h.isString(e))return e instanceof Image?(t.width||n.attr("width",e.width),t.height||n.attr("height",e.height),e):e instanceof HTMLElement&&h.isString(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase()?(t.width||n.attr("width",Number(e.getAttribute("width"))),t.height||n.attr("height",Number(e.getAttribute("height"))),e):e instanceof ImageData?(t.width||n.attr("width",e.width),t.height||n.attr("height",e.height),e):null;var i=new Image;i.onload=function(){if(n.get("destroyed"))return!1;n.attr("imgSrc",e),n.attr("img",i);var t=n.get("callback");t&&t.call(n),n.set("loading",!1)},i.src=e,n.set("loading",!0)},drawInner:function(t){return this.get("loading")?void this.set("toDraw",!0):void this.__drawImage(t)},__drawImage:function(t){var e=this.__attrs,n=e.x,i=e.y,r=e.img,a=e.width,s=e.height,o=e.sx,u=e.sy,c=e.swidth,l=e.sheight;if(this.set("toDraw",!1),r instanceof Image||r instanceof HTMLElement&&h.isString(r.nodeName)&&"CANVAS"===r.nodeName.toUpperCase()){if(h.isNull(o)||h.isNull(u)||h.isNull(c)||h.isNull(l))return void t.drawImage(r,n,i,a,s);if(h.notNull(o)&&h.notNull(u)&&h.notNull(c)&&h.notNull(l))return void t.drawImage(r,o,u,c,l,n,i,a,s)}else if(r instanceof ImageData)return void t.putImageData(r,n,i,o||0,u||0,c||a,l||s)}}),t.exports=r},function(t,e,n){var i=n(1),r=n(8),u=n(9),l=n(23),s=n(51),a=n(4),h=a.Vector2,o=function(t){o.superclass.constructor.call(this,t)};o.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,arrow:!1},i.extend(o,r),i.augment(o,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,arrow:!1}},calculateBox:function(){var t=this.__attrs,e=t.x1,n=t.y1,i=t.x2,r=t.y2,a=t.lineWidth;return s.box(e,n,i,r,a)},isPointInPath:function(t,e){var n=this.__attrs,i=n.x1,r=n.y1,a=n.x2,s=n.y2,o=n.lineWidth;return!!this.hasStroke()&&u.line(i,r,a,s,o,t,e)},createPath:function(t){var e=this.__attrs,n=e.x1,i=e.y1,r=e.x2,a=e.y2,s=e.arrow,o=e.lineWidth;if((t=t||self.get("context")).beginPath(),t.moveTo(n,i),s){var u=new h(r-n,a-i),c=l.getEndPoint(u,new h(r,a),o);t.lineTo(c.x,c.y),l.makeArrow(t,u,c,o)}else t.lineTo(r,a)},getPoint:function(t){var e=this.__attrs;return{x:s.at(e.x1,e.x2,t),y:s.at(e.y1,e.y2,t)}}}),t.exports=o},function(t,e,n){var o=n(1),i=n(8),s=n(9),u=function(t){u.superclass.constructor.call(this,t)};u.Symbols={circle:function(t,e,n,i){i.arc(t,e,n,0,2*Math.PI,!1)},square:function(t,e,n,i){i.moveTo(t-n,e-n),i.lineTo(t+n,e-n),i.lineTo(t+n,e+n),i.lineTo(t-n,e+n),i.closePath()},diamond:function(t,e,n,i){i.moveTo(t-n,e),i.lineTo(t,e-n),i.lineTo(t+n,e),i.lineTo(t,e+n),i.closePath()},triangle:function(t,e,n,i){var r=n/.966,a=n;i.moveTo(t,e-n),i.lineTo(t+r,e+a),i.lineTo(t-r,e+a),i.closePath()},"triangle-down":function(t,e,n,i){var r=n/.966,a=n;i.moveTo(t,e+n),i.lineTo(t+r,e-a),i.lineTo(t-r,e-a),i.closePath()}},u.ATTRS={path:null,lineWidth:1},o.extend(u,i),o.augment(u,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1}},calculateBox:function(){var t=this.__attrs,e=t.x,n=t.y,i=t.radius,r=t.lineWidth,a=r/2+i;return{minX:e-a,minY:n-a,maxX:e+a,maxY:n+a}},isPointInPath:function(t,e){var n=this.__attrs,i=n.x,r=n.y,a=n.radius;return s.circle(i,r,a,t,e)},createPath:function(t){var e,n=this.__attrs,i=n.x,r=n.y,a=n.radius,s=n.symbol||"circle";e=o.isFunction(s)?s:u.Symbols[s],t.beginPath(),e(i,r,a,t)}}),t.exports=u},function(t,e,n){var f=n(1),i=n(8),o=n(290),u=n(95),g=n(23),r=n(45),l=n(40),a=n(4),p=a.Vector2,s=function(t){s.superclass.constructor.call(this,t)};s.ATTRS={path:null,lineWidth:1,curve:null,tCache:null},f.extend(s,i),f.augment(s,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1}},__afterSetAttrPath:function(t){if(f.isNull(t))return this.setSilent("segments",null),void this.setSilent("box",void 0);var e,n=u.parsePath(t),i=[];if(f.isArray(n)&&0!==n.length&&("M"===n[0][0]||"m"===n[0][0])){for(var r=n.length,a=0;a<n.length;a++){var s=n[a];e=new o(s,e,a===r-1),i.push(e)}this.setSilent("segments",i),this.set("tCache",null),this.setSilent("box",null)}},__afterSetAttrAll:function(t){t.path&&this.__afterSetAttrPath(t.path)},calculateBox:function(){var t=this.__attrs,n=t.lineWidth,e=t.lineAppendWidth||0,i=this.get("segments");if(!i)return null;n+=e;var r=1/0,a=-1/0,s=1/0,o=-1/0;return f.each(i,function(t){t.getBBox(n);var e=t.box;e&&(e.minX<r&&(r=e.minX),e.maxX>a&&(a=e.maxX),e.minY<s&&(s=e.minY),e.maxY>o&&(o=e.maxY))}),{minX:r,minY:s,maxX:a,maxY:o}},isPointInPath:function(t,e){var n=this,i=n.hasFill(),r=n.hasStroke();return i&&r?n.__isPointInFill(t,e)||n.__isPointInStroke(t,e):i?n.__isPointInFill(t,e):!!r&&n.__isPointInStroke(t,e)},__isPointInFill:function(t,e){var n=this.get("context");if(n)return this.createPath(),n.isPointInPath(t,e)},__isPointInStroke:function(t,e){var n=this.get("segments"),i=this.__attrs,r=i.lineWidth,a=i.lineAppendWidth||0;r+=a;for(var s=0,o=n.length;s<o;s++)if(n[s].isInside(t,e,r))return!0;return!1},__setTcache:function(){var n,i,r,a,s=0,o=0,u=[],c=this.curve;c&&(f.each(c,function(t,e){r=c[e+1],a=t.length,r&&(s+=l.len(t[a-2],t[a-1],r[1],r[2],r[3],r[4],r[5],r[6]))}),f.each(c,function(t,e){r=c[e+1],a=t.length,r&&((n=[])[0]=o/s,i=l.len(t[a-2],t[a-1],r[1],r[2],r[3],r[4],r[5],r[6]),o+=i,n[1]=o/s,u.push(n))}),this.tCache=u)},__calculateCurve:function(){var t=this.__attrs,e=t.path;this.curve=r.toCurve(e)},getPoint:function(n){var t,i,r,e,a,s,o=this.tCache;return o||(this.__calculateCurve(),this.__setTcache(),o=this.tCache),t=this.curve,o?(f.each(o,function(t,e){n>=t[0]&&n<=t[1]&&(i=(n-t[0])/(t[1]-t[0]),r=e)}),e=t[r],f.isNull(e)||f.isNull(r)?null:(a=e.length,s=t[r+1],{x:l.at(e[a-2],s[1],s[3],s[5],1-i),y:l.at(e[a-1],s[2],s[4],s[6],1-i)})):t?{x:t[0][1],y:t[0][2]}:null},createPath:function(t){var e=this.__attrs,n=this.get("segments"),i=e.lineWidth,r=e.arrow;if(f.isArray(n)){(t=t||this.get("context")).beginPath();for(var a=0,s=n.length;a<s;a++)if(a===s-1&&r){var o=n[a],u=n[a].endTangent,c={x:o.params[o.params.length-1].x,y:o.params[o.params.length-1].y};if(o&&f.isFunction(u)){var l=u(),h=g.getEndPoint(l,new p(c.x,c.y),i);o.params[o.params.length-1]=h,n[a].draw(t),g.makeArrow(t,l,h,i),o.params[o.params.length-1]=c}}else n[a].draw(t)}}}),t.exports=s},function(t,e,n){var u=n(1),i=n(8),s=n(9),r=function(t){r.superclass.constructor.call(this,t)};r.ATTRS={points:null,lineWidth:1},u.extend(r,i),u.augment(r,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this.__attrs,e=t.points,n=t.lineWidth;if(!e||0===e.length)return null;var i=1/0,r=1/0,a=-1/0,s=-1/0;u.each(e,function(t){var e=t[0],n=t[1];e<i&&(i=e),a<e&&(a=e),n<r&&(r=n),s<n&&(s=n)});var o=n/2;return{minX:i-o,minY:r-o,maxX:a+o,maxY:s+o}},isPointInPath:function(t,e){var n=this,i=n.hasFill(),r=n.hasStroke();return i&&r?n.__isPointInFill(t,e)||n.__isPointInStroke(t,e):i?n.__isPointInFill(t,e):!!r&&n.__isPointInStroke(t,e)},__isPointInFill:function(t,e){var n=this.get("context");return this.createPath(),n.isPointInPath(t,e)},__isPointInStroke:function(t,e){var n=this.__attrs,i=n.points;if(i.length<2)return!1;var r=n.lineWidth,a=i.slice(0);return 3<=i.length&&a.push(i[0]),s.polyline(a,r,t,e)},createPath:function(n){var t=this.__attrs,e=t.points;e.length<2||((n=n||this.get("context")).beginPath(),u.each(e,function(t,e){0===e?n.moveTo(t[0],t[1]):n.lineTo(t[0],t[1])}),n.closePath())}}),t.exports=r},function(t,e,n){var u=n(1),i=n(8),a=n(9),c=n(23),l=n(51),r=n(4),h=r.Vector2,s=function(t){s.superclass.constructor.call(this,t)};s.ATTRS={points:null,lineWidth:1,arrow:!1,tCache:null},u.extend(s,i),u.augment(s,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function(){return{lineWidth:1,arrow:!1}},calculateBox:function(){var t=this.__attrs,e=t.lineWidth,n=t.points;if(!n||0===n.length)return null;var i=1/0,r=1/0,a=-1/0,s=-1/0;u.each(n,function(t){var e=t[0],n=t[1];e<i&&(i=e),a<e&&(a=e),n<r&&(r=n),s<n&&(s=n)});var o=e/2;return{minX:i-o,minY:r-o,maxX:a+o,maxY:s+o}},__setTcache:function(){var n,i,t=this.__attrs,r=t.points,a=0,s=0,o=[];r&&0!==r.length&&(u.each(r,function(t,e){r[e+1]&&(a+=l.len(t[0],t[1],r[e+1][0],r[e+1][1]))}),a<=0||(u.each(r,function(t,e){r[e+1]&&((n=[])[0]=s/a,i=l.len(t[0],t[1],r[e+1][0],r[e+1][1]),s+=i,n[1]=s/a,o.push(n))}),this.tCache=o))},isPointInPath:function(t,e){var n=this.__attrs;if(this.hasStroke()){var i=n.points;if(i.length<2)return!1;var r=n.lineWidth;return a.polyline(i,r,t,e)}return!1},createPath:function(t){var e,n,i=this.__attrs,r=i.points,a=i.arrow,s=i.lineWidth;if(!(r.length<2)){for((t=t||this.get("context")).beginPath(),t.moveTo(r[0][0],r[0][1]),n=1,e=r.length-1;n<e;n++)t.lineTo(r[n][0],r[n][1]);if(a){var o=new h(r[e][0]-r[e-1][0],r[e][1]-r[e-1][1]),u=c.getEndPoint(o,new h(r[e][0],r[e][1]),s);t.lineTo(u.x,u.y),c.makeArrow(t,o,u,s)}else t.lineTo(r[e][0],r[e][1])}},getPoint:function(n){var i,r,t=this.__attrs,e=t.points,a=this.tCache;return a||(this.__setTcache(),a=this.tCache),u.each(a,function(t,e){n>=t[0]&&n<=t[1]&&(i=(n-t[0])/(t[1]-t[0]),r=e)}),{x:l.at(e[r][0],e[r+1][0],i),y:l.at(e[r][1],e[r+1][1],i)}}}),t.exports=s},function(t,e,n){var c=n(1),i=n(8),o=n(9),l=n(23),h=n(52),f=n(4).Vector2,r=function(t){r.superclass.constructor.call(this,t)};r.ATTRS={p1:null,p2:null,p3:null,lineWidth:1,arrow:!1},c.extend(r,i),c.augment(r,{canStroke:!0,type:"quadratic",getDefaultAttrs:function(){return{lineWidth:1,arrow:!1}},calculateBox:function(){var t,e,n=this.__attrs,i=n.p1,r=n.p2,a=n.p3;if(c.isNull(i)||c.isNull(r)||c.isNull(a))return null;var s=n.lineWidth/2,o=h.extrema(i[0],r[0],a[0]);for(t=0,e=o.length;t<e;t++)o[t]=h.at(i[0],r[0],a[0],o[t]);o.push(i[0],a[0]);var u=h.extrema(i[1],r[1],a[1]);for(t=0,e=u.length;t<e;t++)u[t]=h.at(i[1],r[1],a[1],u[t]);return u.push(i[1],a[1]),{minX:Math.min.apply(Math,o)-s,maxX:Math.max.apply(Math,o)+s,minY:Math.min.apply(Math,u)-s,maxY:Math.max.apply(Math,u)+s}},isPointInPath:function(t,e){var n=this.__attrs,i=n.p1,r=n.p2,a=n.p3,s=n.lineWidth;return o.quadraticline(i[0],i[1],r[0],r[1],a[0],a[1],s,t,e)},createPath:function(t){var e=this.__attrs,n=e.p1,i=e.p2,r=e.p3,a=e.lineWidth,s=e.arrow;if(!(c.isNull(n)||c.isNull(i)||c.isNull(r)))if((t=t||this.get("context")).beginPath(),t.moveTo(n[0],n[1]),s){var o=new f(r[0]-i[0],r[1]-i[1]),u=l.getEndPoint(o,new f(r[0],r[1]),a);t.quadraticCurveTo(i[0],i[1],u.x,u.y),l.makeArrow(t,o,u,a)}else t.quadraticCurveTo(i[0],i[1],r[0],r[1])},getPoint:function(t){var e=this.__attrs;return{x:h.at(e.p1[0],e.p2[0],e.p3[0],t),y:h.at(e.p1[1],e.p2[1],e.p3[1],t)}}}),t.exports=r},function(t,e,n){var i=n(1),r=n(8),l=n(9),a=function(t){a.superclass.constructor.call(this,t)};a.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},i.extend(a,r),i.augment(a,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,radius:0}},calculateBox:function(){var t=this.__attrs,e=t.x,n=t.y,i=t.width,r=t.height,a=t.lineWidth,s=a/2;return{minX:e-s,minY:n-s,maxX:e+i+s,maxY:n+r+s}},isPointInPath:function(t,e){var n=this.hasFill(),i=this.hasStroke();return n&&i?this.__isPointInFill(t,e)||this.__isPointInStroke(t,e):n?this.__isPointInFill(t,e):!!i&&this.__isPointInStroke(t,e)},__isPointInFill:function(t,e){var n=this.get("context");return!!n&&(this.createPath(),n.isPointInPath(t,e))},__isPointInStroke:function(t,e){var n=this.__attrs,i=n.x,r=n.y,a=n.width,s=n.height,o=n.radius,u=n.lineWidth;if(0!==o)return l.line(i+o,r,i+a-o,r,u,t,e)||l.line(i+a,r+o,i+a,r+s-o,u,t,e)||l.line(i+a-o,r+s,i+o,r+s,u,t,e)||l.line(i,r+s-o,i,r+o,u,t,e)||l.arcline(i+a-o,r+o,o,1.5*Math.PI,2*Math.PI,!1,u,t,e)||l.arcline(i+a-o,r+s-o,o,0,.5*Math.PI,!1,u,t,e)||l.arcline(i+o,r+s-o,o,.5*Math.PI,Math.PI,!1,u,t,e)||l.arcline(i+o,r+o,o,Math.PI,1.5*Math.PI,!1,u,t,e);var c=u/2;return l.line(i-c,r,i+a+c,r,u,t,e)||l.line(i+a,r-c,i+a,r+s+c,u,t,e)||l.line(i+a+c,r+s,i-c,r+s,u,t,e)||l.line(i,r+s+c,i,r-c,u,t,e)},createPath:function(t){var e=this.__attrs,n=e.x,i=e.y,r=e.width,a=e.height,s=e.radius;(t=t||this.get("context")).beginPath(),0===s?t.rect(n,i,r,a):(t.moveTo(n+s,i),t.lineTo(n+r-s,i),t.arc(n+r-s,i+s,s,-Math.PI/2,0,!1),t.lineTo(n+r,i+a-s),t.arc(n+r-s,i+a-s,s,0,Math.PI/2,!1),t.lineTo(n+s,i+a),t.arc(n+s,i+a-s,s,Math.PI/2,Math.PI,!1),t.lineTo(n,i+s),t.arc(n+s,i+s,s,Math.PI,3*Math.PI/2,!1),t.closePath())}}),t.exports=a},function(t,e,n){var g=n(1),i=n(8),r=n(9),o=n(93),a=function(t){a.superclass.constructor.call(this,t)};a.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},g.extend(a,i),g.augment(a,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},__assembleFont:function(){var t=this.__attrs,e=t.fontSize,n=t.fontFamily,i=t.fontWeight,r=t.fontStyle,a=t.fontVariant;t.font=[r,a,i,e+"px",n].join(" ")},__afterSetAttrFontSize:function(){this.__assembleFont()},__afterSetAttrFontFamily:function(){this.__assembleFont()},__afterSetAttrFontWeight:function(){this.__assembleFont()},__afterSetAttrFontStyle:function(){this.__assembleFont()},__afterSetAttrFontVariant:function(){this.__assembleFont()},__afterSetAttrFont:function(){},__afterSetAttrText:function(){var t,e=this.__attrs,n=e.text;if(g.isString(n)&&-1!==n.indexOf("\n")){var i=(t=n.split("\n")).length;e.lineCount=i,e.textArr=t}},__getTextHeight:function(){var t=this.__attrs,e=t.lineCount,n=t.fontSize;if(1<e){var i=this.__getSpaceingY();return n*e+i*(e-1)}return n},__afterSetAttrAll:function(t){("fontSize"in t||"fontWeight"in t||"fontStyle"in t||"fontVariant"in t||"fontFamily"in t)&&this.__assembleFont(),"text"in t&&this.__afterSetAttrText(t.text)},isHitBox:function(){return!1},calculateBox:function(){var t=this.__attrs,e=t.x,n=t.y,i=this.measureText();if(!i)return{minX:e,minY:n,maxX:e,maxY:n};var r=this.__getTextHeight(),a=t.textAlign,s=t.textBaseline,o=t.lineWidth,u={x:e,y:n-r};a&&("end"===a||"right"===a?u.x-=i:"center"===a&&(u.x-=i/2)),s&&("top"===s?u.y+=r:"middle"===s&&(u.y+=r/2)),this.set("startPoint",u);var c=o/2;return{minX:u.x-c,minY:u.y-c,maxX:u.x+i+c,maxY:u.y+r+c}},__getSpaceingY:function(){var t=this.__attrs,e=t.lineHeight,n=t.fontSize;return e?e-n:.14*n},isPointInPath:function(t,e){var n=this.getBBox();if(this.hasFill()||this.hasStroke())return r.box(n.minX,n.maxX,n.minY,n.maxY,t,e)},drawInner:function(n){var t=this.__attrs,e=t.text;if(e){var i,r,a=t.textArr,s=t.fontSize,o=this.__getSpaceingY(),u=t.x,c=t.y,l=t.textBaseline;if(a){var h=this.getBBox();i=h.maxY-h.minY}if(n.beginPath(),this.hasFill()){var f=t.fillOpacity;g.isNull(f)||1===f||(n.globalAlpha=f),a?g.each(a,function(t,e){r=c+e*(o+s)-i+s,"middle"===l&&(r+=i-s-(i-s)/2),"top"===l&&(r+=i-s),n.fillText(t,u,r)}):n.fillText(e,u,c)}this.hasStroke()&&(a?g.each(a,function(t,e){r=c+e*(o+s)-i+s,"middle"===l&&(r+=i-s-(i-s)/2),"top"===l&&(r+=i-s),n.strokeText(t,u,r)}):n.strokeText(e,u,c))}},measureText:function(){var e,t=this.__attrs,n=t.text,i=t.font,r=t.textArr,a=0;if(!g.isNull(n)){var s=o.backupContext;return s.save(),s.font=i,r?g.each(r,function(t){e=s.measureText(t).width,a<e&&(a=e),s.restore()}):(a=s.measureText(n).width,s.restore()),a}}}),t.exports=a},function(t,e,n){var s=n(1),i=n(292),r=n(291),a=n(45);s.mix(s,r,{mixin:function(n,t){var i=n.CFG?"CFG":"ATTRS";if(n&&t){n._mixins=t,n[i]=n[i]||{};var r={};s.each(t,function(t){s.augment(n,t);var e=t[i];e&&s.mix(r,e)}),n[i]=s.mix(r,n[i])}},isPositiveNum:function(t){return/^[0-9]*[1-9][0-9]*$/.test(t)},getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},getWidth:function(t){var e=s.getStyle(t,"width");return"auto"===e&&(e=t.offsetWidth),parseFloat(e)},getHeight:function(t){var e=s.getStyle(t,"height");return"auto"===e&&(e=t.offsetHeight),parseFloat(e)},getOuterHeight:function(t){var e=s.getHeight(t),n=parseFloat(s.getStyle(t,"borderTopWidth"))||0,i=parseFloat(s.getStyle(t,"paddingTop")),r=parseFloat(s.getStyle(t,"paddingBottom")),a=parseFloat(s.getStyle(t,"borderBottomWidth"))||0;return e+n+a+i+r},parsePathString:a.toArray,path2string:a.toString,path2curve:a.toCurve,pathToAbsolute:a.toAbsolute,catmullRom2bezier:a.catmullRomToBezier,parsePathArray:function(t){return s.path2string(t)},path2Absolute:function(t){return s.pathToAbsolute(t)}}),s.MatrixUtil=i,t.exports=s},function(t,e,n){"use strict";var i=n(300),r=n(299),a=n(305),s=n(306),o=n(304),u=n(303),c=n(301),l={initEvent:function(t){var e=new c({chart:t});e.bindEvents(),t.set("eventAssist",e)},initScale:function(t){var e=new a;t.set("scaleAssist",e)},initCoord:function(t){var e=new i({chart:t});t.set("coordAssist",e)},initAxis:function(t){var e=new r({chart:t});t.set("axisAssist",e)},initLegend:function(t){var e=new o({chart:t});t.set("legendAssist",e)},initTooltip:function(t){var e=new s({chart:t});t.set("tooltipAssist",e)},initGuide:function(t){var e=t.get("options");e.guides||(e.guides=[]);var n=new u({options:e.guides});t.set("guideAssist",n)}};t.exports=l},function(t,e,n){"use strict";function m(t,e){var n,i,r=t.points||t.get("origin").points,a=function(t){if(!t||!t.length)return null;var e=t[0],n=e.x,i=e.x,r=e.y,a=e.y;return l.each(t,function(t){n=n>t.x?t.x:n,i=i<t.x?t.x:i,r=r>t.y?t.y:r,a=a<t.y?t.y:a}),{minX:n,maxX:i,minY:r,maxY:a,centerX:(n+i)/2,centerY:(r+a)/2}}(r),s=e.get("startAngle"),o=e.get("endAngle"),u=o-s;return i=e.isTransposed?(n=a.maxY*u,a.minY*u):(n=a.maxX*u,a.minX*u),{startAngle:i+=s,endAngle:n+=s}}function x(t){var e=t.x,n=t.y,i=t.rs,r=t.re,a=t.startAngle,s=t.endAngle;(s-a)%Math.PI==0&&(s-=1e-6);var o={x:Math.cos(a)*i+e,y:Math.sin(a)*i+n},u={x:Math.cos(a)*r+e,y:Math.sin(a)*r+n},c={x:Math.cos(s)*i+e,y:Math.sin(s)*i+n},l={x:Math.cos(s)*r+e,y:Math.sin(s)*r+n},h=s-a>=Math.PI?1:0;return 0===i?[["M",o.x,o.y],["L",u.x,u.y],["A",r,r,0,h,1,l.x,l.y],["L",c.x,c.y],["Z"]]:[["M",o.x,o.y],["L",u.x,u.y],["A",r,r,0,h,1,l.x,l.y],["L",c.x,c.y],["A",i,i,0,h,0,o.x,o.y],["Z"]]}function y(t,e,n,i){var r={};return t.delay&&(i.delay=l.isFunction(t.delay)?t.delay(e,n):t.delay),r.easing=l.isFunction(t.easing)?t.easing(e,n):t.easing,r.duration=l.isFunction(t.duration)?t.duration(e,n):t.duration,r}function i(t,e){var n,i,r=t.getBBox(),a=t.get("origin").points,s=(r.minX+r.maxX)/2,o=t.id||t.get("id"),u=t.get("origin")&&t.get("origin").index||0;n=a[0].y-a[1].y<=0?r.maxY:r.minY,i=new f(s,n,1),t.apply(i),t.transform([["t",-i.x,-i.y],["s",1,.01],["t",i.x,i.y]]);var c={transform:[["t",-i.x,-i.y],["s",1,100],["t",i.x,i.y]]},l=y(e,u,o,c);t.animate(c,l.duration,l.easing)}function r(t,e){var n,i,r=t.getBBox(),a=t.get("origin").points,s=(r.minY+r.maxY)/2,o=t.id||t.get("id"),u=t.get("origin")&&t.get("origin").index||0;n=0<a[0].y-a[1].y?r.maxX:r.minX,i=new f(n,s,1),t.apply(i),t.transform([["t",-i.x,-i.y],["s",.01,1],["t",i.x,i.y]]);var c={transform:[["t",-i.x,-i.y],["s",100,1],["t",i.x,i.y]]},l=y(e,u,o,c);t.animate(c,l.duration,l.easing)}function a(t,e){var n=t.getBBox(),i=(n.minX+n.maxX)/2,r=(n.minY+n.maxY)/2,a=new f(i,r,1),s=t.id||t.get("id"),o=t.get("origin")&&t.get("origin").index||0;t.apply(a),t.transform([["t",-a.x,-a.y],["s",.01,.01],["t",a.x,a.y]]);var u={transform:[["t",-a.x,-a.y],["s",100,100],["t",a.x,a.y]]},c=y(e,o,s,u);t.animate(u,c.duration,c.easing)}function s(t,e){if("path"===t.get("type")){var n=t.id||t.get("id"),i=t.get("origin")&&t.get("origin").index||0,r=l.pathToAbsolute(t.attr("path"));t.attr("path",[r[0]]);var a={path:r},s=y(e,i,n,a);t.animate(a,s.duration,s.easing)}}function o(t,e,n,i,r){var a,s=function(t,e){var n,i,r,a,s,o=t.get("start"),u=t.get("end"),c=t.getWidth(),l=t.getHeight();return t.isPolar?(a=t.getRadius(),r=t.getCenter(),n=t.get("startAngle"),i=t.get("endAngle"),(s=new g.Fan({attrs:{x:r.x,y:r.y,rs:0,re:a+200,startAngle:n,endAngle:e?n:i}})).endState={endAngle:e?i:n}):(s=new g.Rect({attrs:{x:o.x-200,y:u.y-200,width:e?0:c+400,height:l+400}})).endState={width:e?c+400:0},s.isClip=!0,s}(n,!0),o=t.get("canvas"),u=t.id||t.get("id"),c=t.get("origin")&&t.get("origin").index||0;a=i?(s.attr("startAngle",i),s.attr("endAngle",i),{endAngle:r}):s.endState,s.set("canvas",o),t.attr("clip",s);var l=y(e,c,u,a);s.animate(a,l.duration,l.easing,function(){t&&!t.get("destroyed")&&t.attr("clip",null)&&s.destroy()})}function u(t,e){var n=t.id||t.get("id"),i=t.get("origin")&&t.get("origin").index||0,r=l.isNull(t._getAttr("fillOpacity"))?1:t._getAttr("fillOpacity"),a=l.isNull(t._getAttr("strokeOpacity"))?1:t._getAttr("strokeOpacity");t.attr("fillOpacity",0),t.attr("strokeOpacity",0);var s={fillOpacity:r,strokeOpacity:a},o=y(e,i,n,s);t.animate(s,o.duration,o.easing)}function c(t,e,n){var i=m(t,n),r=i.endAngle,a=i.startAngle;o(t,e,n,a,r)}var l=n(2),h=n(6),f=h.Matrix.Vector3,g=h.G,p={line:{appear:function(){return p.animation.appear.clipIn},enter:function(){return p.animation.enter.clipIn},leave:function(){return p.animation.leave.lineWidthOut},cfg:{appear:{duration:900,easing:"easeInOutQuart"}}},path:{appear:function(){return p.animation.appear.clipIn},enter:function(){return p.animation.enter.clipIn},leave:function(){return p.animation.leave.lineWidthOut},cfg:{appear:{duration:900,easing:"easeInOutQuart"}}},area:{appear:function(){return p.animation.appear.clipIn},enter:function(){return p.animation.enter.fadeIn},leave:function(){return p.animation.leave.fadeOut},cfg:{appear:{duration:900,easing:"easeInOutQuart"},enter:{easing:"easeInQuart"},leave:{easing:"easeOutQuart",duration:600}}},polygon:{appear:function(){return p.animation.appear.zoomIn},enter:function(){return p.animation.enter.zoomIn},leave:function(){return p.animation.leave.zoomOut}},edge:{appear:function(){return p.animation.appear.pathIn},enter:function(){return p.animation.enter.pathIn},leave:function(){return p.animation.leave.pathOut}},interval:{appear:function(t){var e=p.animation.appear.pathIn;return t.isRect?e=t.isTransposed?p.animation.appear.scaleInX:p.animation.appear.scaleInY:(t.isTransposed&&t.isPolar||"theta"===t.type)&&(e=p.animation.appear.fanIn),e},enter:function(t){return t.isRect||t.isTransposed||"theta"===t.type?p.animation.enter.fadeIn:p.animation.enter.pathIn},leave:function(t){return t.isRect||t.isTransposed||"theta"===t.type?p.animation.leave.fadeOut:p.animation.leave.pathOut},update:function(t){if("theta"===t.type)return p.animation.update.fanUpdate},cfg:{appear:{duration:450},leave:{easing:"easeOutQuart"},enter:{easing:"easeInQuart"}}},point:{appear:function(){return p.animation.appear.zoomIn},enter:function(){return p.animation.enter.zoomIn},leave:function(){return p.animation.leave.zoomOut}},schema:null,contour:null,heatmap:null,label:{appear:function(){return p.animation.appear.fadeIn},enter:function(){return p.animation.enter.fadeIn},leave:function(){return p.animation.leave.fadeOut},cfg:{appear:{duration:900}}},axisLine:{},gridLine:{},labelLine:{appear:function(){return p.animation.appear.pathIn},enter:function(){return p.animation.enter.pathIn},leave:function(){return p.animation.leave.pathOut}}};p.animation={enter:{clipIn:o,zoomIn:a,pathIn:s,scaleInY:i,scaleInX:r,fanIn:c,fadeIn:u},leave:{lineWidthOut:function(t,e){var n={lineWidth:0,destroy:!0},i=t.id||t.get("id"),r=t.get("index")||t.get("origin")&&t.get("origin").index||0,a=y(e,r,i,n);t.animate(n,a.duration,a.easing)},zoomOut:function(t,e){var n=t.getBBox(),i=(n.minX+n.maxX)/2,r=(n.minY+n.maxY)/2,a=new f(i,r,1),s=t.id||t.get("id"),o=t.get("index")||t.get("origin")&&t.get("origin").index||0;t.apply(a);var u={transform:[["t",-a.x,-a.y],["s",.1,.1],["t",a.x,a.y]],destroy:!0},c=y(e,o,s,u);t.animate(u,c.duration,c.easing)},pathOut:function(t,e){if("path"===t.get("type")){var n=t.id||t.get("id"),i=t.get("index")||t.get("origin")&&t.get("origin").index||0,r={path:[l.pathToAbsolute(t.attr("path"))[0]],destroy:!0},a=y(e,i,n,r);t.animate(r,a.duration,a.easing)}},fadeOut:function(t,e){var n=t.id||t.get("id"),i=t.get("index")||t.get("origin")&&t.get("origin").index||0,r=t._getAttr("strokeOpacity")||0,a=t._getAttr("fillOpacity")||0,s={onUpdate:function(t,e){t.attrs.strokeOpacity=r*(1-e),t.attrs.fillOpacity=a*(1-e)}},o=y(e,i,n,s);t.animate(s,o.duration,o.easing,function(){t.remove(!0)})}},appear:{clipIn:o,zoomIn:a,pathIn:s,scaleInY:i,scaleInX:r,fanIn:c,fadeIn:u},update:{fanUpdate:function(t,e,n,i){var r=m(t,i),a=m(e,i),s=r.endAngle,o=r.startAngle,u=a.endAngle,c=a.startAngle,l=i.getRadius(),h=i.get("inner"),f=i.getCenter(),g=t.id||t.get("id"),p=void 0===t.index?t.get("origin")&&t.get("origin").index:t.index;e.__attrs.path=t.attrs.path;var d={onUpdate:function(t,e){var n={x:f.x,y:f.y,rs:l*h,re:l,startAngle:o+(c-o)*e,endAngle:s+(u-s)*e};t.attrs.path=x(n)}},v=y(n,p,g,d);e.animate(d,v.duration,v.easing)}}},p.defaultCfg={update:{duration:600,easing:"easeInOutQuart"},enter:{duration:610,easing:"easeInOutQuart"},leave:{duration:300,easing:"easeInQuart"},appear:{duration:450,easing:"easeOutQuart"}},p.getAnimation=function(t,e,n){var i=this[t];if(i){var r=i[n];if(l.isFunction(r))return r(e)}return!1},p.getAnimateCfg=function(t,e){var n=this.defaultCfg[e];return l.simpleMix({},n,this[t]&&this[t].cfg&&this[t].cfg[e])},p.registAnimation=function(t,e,n){this.animation[t]||(this.animation[t]={}),this.animation[t][e]=n},t.exports=p},function(t,e,n){"use strict";function o(e,t){if(w.isArray(e)&&!1!==t.get("animate")){var n=t.get("children");w.each(n,function(t){t.isGroup?o(e,t):t.isShape&&e.push(t)})}}function v(t,e){for(var n=0;n<e.length;n++)if(e[n].id===t)return e[n];return!1}function m(n){var i={},t=n.__attrs;return w.each(t,function(t,e){i[e]=n.attr(e)}),i}function u(t){var n=[];return w.each(t,function(t){if(t.id&&!t.isClip){var e=function(t){var e={};return w.isFunction(t.getParent)&&t.getParent().get("geom")&&(e=t.getParent().get("geom").get("animateCfg")),e}(t);n.push({id:t.id,stash:!0,type:t.get("type"),attrs:m(t),matrix:t.getMatrix().clone(),animateType:t.animateType,realShape:t,isStash:!0,points:t.get("origin")&&t.get("origin").points||[],index:t.get("origin")&&t.get("origin").index||0,animateCfg:e})}}),n}function x(t){return w.isObject(t)&&"matrix3"===t.type&&function(t){for(var e=0;e<t.length;e++)if(0!==t[e]&&!t[e]||!w.isNumber(t[e]))return!1;return!0}(t.elements)}function y(t,e){var n,i,r,a;return!!(t&&e&&(n=t.attrs,i=m(e),r=t.matrix,a=e.getMatrix(),x(r)&&x(a)&&function(t,n){var i=!0;return w.each(t,function(t,e){if((void 0===t?"undefined":s(t))!==s(n[e]))return i=!1}),i}(n,i)))}function _(t,e,n,i){return i?h.animation[n][i]:h.getAnimation(t,e,n)}function b(t,e,n){var i=h.getAnimateCfg(t,e),r=n.animateCfg;if(!r&&w.isFunction(n.getParent)){var a=n.getParent().get("geom");a&&(r=a.get("animateCfg"))}return r?w.simpleMix({},i,r[e]):i}function c(e,n,i,r,t){var a,s,o,u,c,l,h,f,g,p,d=e.concat(n);return 1500<d.length?void i.draw():void(t?w.each(d,function(t){if(!t.isStash&&t.realShape&&t.realShape.isTem)t.realShape.remove(!0);else if(t.isTem&&!t.get("destroyed")&&t.remove(!0),u=t.id){if(o=t.isStash?(s=t,v(u,n)):(s=v(u,e),t),s&&o&&!o.get("destroyed")){if(!y(s,o))return;if(p=b(s.animateType,"update",s),l=_(s.animateType,r,"update",p.animation),w.isFunction(l))l=l(s,o,p,r);else{if(h=o.getMatrix(),c=function(n,i){var r,a,s,o,t=n.length,e=i.length>t?i:n,u={attrs1:{},attrs2:{}},c=!1;return w.each(e,function(t,e){r=n[e],a=i[e],w.isObject(r)||w.isObject(a)||"path"===e&&(r=w.parsePathString(r),a=w.parsePathString(a),s=w.path2string(r),o=w.path2string(a),s===o||-1!==s.indexOf("NaN")||-1!==o.indexOf("NaN"))||w.isArray(r)&&w.isArray(a)&&w.equalsArray(r,a)||r===a||M[e]||(u.attrs1[e]=r,u.attrs2[e]=a,c=!0)}),!!c&&u}(s.attrs,m(o)),g=S.equal(s.matrix,h),!c&&g)return;f=c&&g?(o.attr(c.attrs1),c.attrs2):c||g?(o.attr(c.attrs1),o.setMatrix(s.matrix),w.simpleMix({matrix:h},c.attrs2)):(o.setMatrix(s.matrix),{matrix:h}),o.animate(f,p.duration,p.easing)}}else if(s&&!o){if(!x(s.matrix))return;p=b(s.animateType,"leave",s),l=_(s.animateType,r,"leave",p.animation),w.isFunction(l)?(a=i.addShape(s.type,{attrs:s.attrs,points:s.points,index:s.index,id:s.id,animateCfg:s.animateCfg}),-1===s.animateType.indexOf("label")&&s.matrix.multiply(r.get("matrix")),a.setMatrix(s.matrix),a.isTem=!0,l(a,p,r)):i&&!i.get("destroyed")&&i.draw()}else if(!s&&o&&!o.get("destroyed")){if(!x(o.getMatrix()))return;p=b(o.animateType,"enter",o),l=_(o.animateType,r,"enter",p.animation),w.isFunction(l)?l(o,p,r):i&&!i.get("destroyed")&&i.draw()}}else i&&!i.get("destroyed")&&i.draw()}):w.each(n,function(t){x(t.getMatrix())&&(p=b(t.animateType,"appear",t),l=_(t.animateType,r,"appear",p.animation),w.isFunction(l)?l(t,p,r):i&&!i.get("destroyed")&&i.draw())}))}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w=n(2),i=n(6),l=n(271),h=n(113),S=i.Matrix.Matrix3,M={text:"text",elements:"elements",rotate:"rotate",textAlign:"textAlign",textBaseline:"textBaseline",fontStyle:"fontStyle",font:"font",fontWeight:"fontWeight",fontFamily:"fontFamily",points:"points"};t.exports={shapeAnimation:function(t,e,n,i){var r=n||!i,a=t.get("shapesStash"),s=[];a=a||[],o(s,t),t.set("shapesStash",u(s)),r&&c(a,s,t,e,n),t.draw()},getGroupAnimation:function(t){var e=t.geom,n=t.fn,i=e.get("coord"),r=l[t.animateCfg.animation];if(!r&&!w.isFunction(r))return!1;var a=i.get("start"),s=i.get("end"),o=i.get("width"),u=i.get("height"),c={group:e.get("group"),rect:{x:a.x,y:s.y,width:o,height:u},before:n};return w.simpleMix(c,t.animateCfg),i.isPolar&&w.simpleMix(c,{circle:{center:i.getCenter(),startAngle:i.get("startAngle"),endAngle:i.get("endAngle"),r:Math.max(o,u)/2}}),new r(c)}}},function(t,e,n){"use strict";var i=n(19);i.Interval=n(317),i.Schema=n(318),i.Heatmap=n(316),i.Contour=n(314),i.Edge=n(315),t.exports=i},function(t,e,n){"use strict";var c=n(5),i={getDefalutSize:function(){var t,e=this.getCoord(),n=this.getXScale(),i=n.values;if(n.isLinear&&1<i.length){var r=Math.abs(i[1]-i[0]);t=(n.max-n.min)/r,i.length>t&&(t=i.length)}else t=i.length;var a=1/t,s=1;this.isInCircle()&&"schema"!==this.get("type")?e.isTransposed&&1<t&&(s=c.widthRatio.multiplePie):s=c.widthRatio.column,a*=s;var o=this.get("adjusts");if(o&&-1!==o.indexOf("Dodge")){var u=this.get("frames");a/=u.length}return a}};t.exports=i},function(t,e,n){"use strict";var r=n(2),i=n(118),a=n(18),s=function t(e){t.superclass.constructor.call(this,e)};r.extend(s,i),r.augment(s,{getPointRauis:function(t,e){return a.getPointRadius(t,e)},getCirclePoint:function(t,e,n){var i=this.get("coord"),r=i.getCenter(),a=this._isEmitLabels(),s=this.getPointRauis(i,n);if(i.isTransposed&&e<s&&!a){var o=Math.asin(e/(2*s));t+=2*o}else s+=e;return{x:r.x+s*Math.cos(t),y:r.y+s*Math.sin(t),angle:t,r:s}},getArcPoint:function(t,e){var n;return e=e||0,n=r.isArray(t.x)||r.isArray(t.y)?{x:r.isArray(t.x)?t.x[e]:t.x,y:r.isArray(t.y)?t.y[e]:t.y}:t,this.transLabelPoint(n),n},getPointAngle:function(t){var e=this.get("coord");return a.getPointAngle(e,t)},getMiddlePoint:function(t){var e=this.get("coord"),n=t.length,i={x:0,y:0};return r.each(t,function(t){i.x+=t.x,i.y+=t.y}),i.x/=n,i.y/=n,i=e.convert(i)},_isToMiddle:function(t){return 2<t.x.length},getLabelPoint:function(t,e,n){var i,r=t[n],a=1;i=this._isToMiddle(e)?this.getMiddlePoint(e.points):(1===t.length&&0===n?n=1:0===n&&(a=-1),this.getArcPoint(e,n));var s=this.getDefaultOffset();s*=a;var o=this.getPointAngle(i),u=this.getCirclePoint(o,s,i);return u.text=r,u.angle=o,u.color=e.color,u.rotate=this.getLabelRotate(o,s,e),u},_isEmitLabels:function(){var t=this.get("labels");return t.labelEmit},getLabelRotate:function(t){var e;return e=180*t/Math.PI,e+=90,this._isEmitLabels()&&(e-=90),e&&(90<e?e-=180:e<-90&&(e+=180)),e/180*Math.PI},getLabelAlign:function(t){var e,n=this.get("coord");if(this._isEmitLabels())e=t.angle<=Math.PI/2&&t.angle>-Math.PI/2?"left":"right";else if(n.isTransposed){var i=n.getCenter(),r=this.getDefaultOffset();e=Math.abs(t.x-i.x)<1?"center":t.angle>Math.PI||t.angle<=0?0<r?"left":"right":0<r?"right":"left"}else e="center";return e}}),t.exports=s},function(t,e,n){"use strict";var i=n(6),r=n(26),a=r.Labels,s=i.Group,g=n(2),o=n(5),u=["line","point","path"],c=function t(e){t.superclass.constructor.call(this,e)};c.CFG={labels:o.labels,labelsCfg:null,coord:null,geomType:null,zIndex:6},g.extend(c,s),g.mixin(c,[a.ShowLabels]),g.augment(c,{_renderUI:function(){c.superclass._renderUI.call(this),this.initLabelsCfg(),this.renderLabels()},_getLabelValue:function(t){var e,n=t._origin,i=this.get("labelsCfg"),r=i.scales,a=i.callback;if(a){var s=[];g.each(r,function(t){s.push(n[t.dim])}),e=a.apply(null,s)}else{var o=r[0];if(e=n[o.dim],g.isArray(e)){var u=[];g.each(e,function(t){u.push(o.getText(t))}),e=u}else e=o.getText(e)}return e},initLabelsCfg:function(){var t=this.getDefaultLabelCfg(),e=this.get("labelsCfg");g.mix(!0,t,e.cfg),this.set("labels",t)},getDefaultLabelCfg:function(){var t=this.get("labelsCfg").cfg,e=this.get("geomType");return"polygon"===e||t&&t.offset<0&&-1===g.indexOf(u,e)?g.mix(!0,{},o.innerLabels):this.get("labels")},getLabelsItems:function(t){var o,u=this,c=[],l=u.get("labels"),e=u.get("geom"),h=e?e.getXDim():"x",f=e?e.getYDim():"y";return g.each(t,function(r){o=r._origin;var a=u._getLabelValue(r);g.isArray(a)||(a=[a]);var s=a.length;g.each(a,function(t,e){var n,i=u.getLabelPoint(a,r,e);i&&(i=g.mix({},o,i),n=l&&l.label&&l.label.textAlign?l.label.textAlign:u.getLabelAlign(i,e,s),i.textAlign=n,i.id=u.get("id")+"LabelText"+o[h]+" "+o[f]+i.text,c.push(i))})}),c},adjustItems:function(t){return t},drawLines:function(){},getLabelPoint:function(n,t,e){function i(t,e){return g.isArray(t)&&(t=1===n.length?t.length<=2?t[t.length-1]:function(t){var e=0;return g.each(t,function(t){e+=t}),e/t.length}(t):t[e]),t}var r={x:i(t.x,e),y:i(t.y,e),text:n[e]},a=this.getLabelOffset(r,e,n.length);return this.transLabelPoint(r),r.x+=a.x,r.y+=a.y,r},transLabelPoint:function(t){var e=this.get("coord"),n=e.trans(t.x,t.y,1);t.x=n.x,t.y=n.y},getOffsetVector:function(){var t=this.get("labels"),e=t.offset||0,n=this.get("coord");return n.isTransposed?n.trans(e,0):n.trans(0,e)},getDefaultOffset:function(){var t=this.get("coord"),e=this.getOffsetVector();return t.isTransposed?e.x:e.y},getLabelOffset:function(t,e,n){var i=this.getDefaultOffset(),r=this.get("coord"),a=r.isTransposed,s=a?"x":"y",o=a?1:-1,u={x:0,y:0};return u[s]=0<e||1===n?i*o:i*o*-1,u},getLabelAlign:function(t,e,n){var i="center",r=this.get("coord");if(r.isTransposed){var a=this.getDefaultOffset();i=a<0?"right":0===a?"center":"left",1<n&&0===e&&("right"===i?i="left":"left"===i&&(i="right"))}return i},showLabels:function(t){var e=this.getLabelsItems(t),n=this.get("labels");e=this.adjustItems(e),this.resetLabels(e),n.labelLine&&this.drawLines(e,n.labelLine)},destroy:function(){this.removeLabels(),c.superclass.destroy.call(this)}}),t.exports=c},function(t,e,n){"use strict";var i=n(14);n(327),n(328),n(329),n(330),n(325),n(331),n(326),i.Path=i.Line,t.exports=i},function(t,e,n){"use strict";function a(){this.elements=[1,0,0,0,1,0,0,0,1]}var i=n(1),o=n(7);a.multiply=function(t,e){var n=t.elements,i=e.elements,r=new a;return r.set(n[0]*i[0]+n[3]*i[1]+n[6]*i[2],n[0]*i[3]+n[3]*i[4]+n[6]*i[5],n[0]*i[6]+n[3]*i[7]+n[6]*i[8],n[1]*i[0]+n[4]*i[1]+n[7]*i[2],n[1]*i[3]+n[4]*i[4]+n[7]*i[5],n[1]*i[6]+n[4]*i[7]+n[7]*i[8],n[2]*i[0]+n[5]*i[1]+n[8]*i[2],n[2]*i[3]+n[5]*i[4]+n[8]*i[5],n[2]*i[6]+n[5]*i[7]+n[8]*i[8])},a.equal=function(t,e){for(var n=t.elements,i=e.elements,r=!0,a=0,s=n.length;a<s;a++)if(!o.equal(n[a],i[a])){r=!1;break}return r},i.augment(a,{type:"matrix3",set:function(t,e,n,i,r,a,s,o,u){var c=this.elements;return c[0]=t,c[3]=e,c[6]=n,c[1]=i,c[4]=r,c[7]=a,c[2]=s,c[5]=o,c[8]=u,this},get:function(t,e){return t--,e--,this.elements[3*e+t]},identity:function(){return this.set(1,0,0,0,1,0,0,0,1)},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},det:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],s=t[5],o=t[6],u=t[7],c=t[8];return e*a*c-e*s*u-n*r*c+n*s*o+i*r*u-i*a*o},inverse:function(t){return this.copy(this.getInverse(t))},getInverse:function(t){var e=this.det();if(0===e){if(t)throw"matrix exception: get inverse matrix with 0 det";return console.warn("matrix cannot inverse"),new a}var n=this.elements,i=(n[0],n[3],n[6],n[1],n[4],n[7],n[2],n[5],n[8],new a);return i.set(n[4]*n[8]-n[7]*n[5],-(n[3]*n[8]-n[6]*n[5]),n[3]*n[7]-n[6]*n[4],-(n[1]*n[8]-n[7]*n[2]),n[0]*n[8]-n[6]*n[2],-(n[0]*n[7]-n[6]*n[1]),n[1]*n[5]-n[4]*n[2],-(n[0]*n[5]-n[3]*n[2]),n[0]*n[4]-n[3]*n[1]),i.multiplyScalar(1/e),i},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},multiply:function(t){return this.copy(a.multiply(this,t))},translate:function(t,e){var n=new a;return n.set(1,0,t,0,1,e,0,0,1),this.copy(a.multiply(n,this))},rotate:function(t){var e=new a;return e.set(Math.cos(t),-Math.sin(t),0,Math.sin(t),Math.cos(t),0,0,0,1),this.copy(a.multiply(e,this))},scale:function(t,e){var n=new a;return n.set(t,0,0,0,e,0,0,0,1),this.copy(a.multiply(n,this))},equal:function(t){return a.equal(this,t)},copy:function(t){for(var e=t.elements,n=this.elements,i=0,r=e.length;i<r;i++)n[i]=e[i];return this},clone:function(){for(var t=new a,e=t.elements,n=this.elements,i=0,r=n.length;i<r;i++)e[i]=n[i];return t},to2DObject:function(){var t=this.elements;return{a:t[0],b:t[1],c:t[3],d:t[4],e:t[6],f:t[7]}},from2DObject:function(t){var e=this.elements;return e[0]=t.a,e[1]=t.b,e[3]=t.c,e[4]=t.d,e[6]=t.e,e[7]=t.f,this}}),t.exports=a},function(t,e,n){"use strict";function r(t,e){if(1===arguments.length){var n=t;t=n[0],e=n[1]}this.x=t||0,this.y=e||0}var i=n(1),a=n(7);r.add=function(t,e){return new r(t.x+e.x,t.y+e.y)},r.sub=function(t,e){return new r(t.x-e.x,t.y-e.y)},r.lerp=function(t,e,n){return new r(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},r.angle=function(t,e){var n=t.dot(e)/(t.length()*e.length());return Math.acos(a.clamp(n,-1,1))},r.direction=function(t,e){return t.x*e.y-e.x*t.y},i.augment(r,{type:"vector2",set:function(t,e){return this.x=t,this.y=e,this},setComponent:function(t,e){switch(t){case 0:return this.x=e,this;case 1:return this.y=e,this;default:throw new Error("the index out of range:"+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("the index out of range:"+t)}},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t){return this.copy(r.add(this,t))},sub:function(t){return this.copy(r.sub(this,t))},subBy:function(t){return this.copy(r.sub(t,this))},multiplyScaler:function(t){return this.x*=t,this.y*=t,this},divideScaler:function(t){if(0!==t){var e=1/t;this.x*=e,this.y*=e}else this.x=0,this.y=0;return this},min:function(t){return this.x>t.x&&(this.x=t.x),this.y>t.y&&(this.y=t.y),this},max:function(t){return this.x<t.x&&(this.x=t.x),this.y<t.y&&(this.y=t.y),this},clamp:function(t,e){return this.x<t.x?this.x=t.x:this.x>e.x&&(this.x=e.x),this.y<t.y?this.y=t.y:this.y>e.y&&(this.y=e.y),this},clampScale:function(){var n,i;return function(t,e){return void 0===n&&(n=new r,i=new r),n.set(t,t),i.set(e,e),this.clamp(n,i)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.lengthSq())},normalize:function(){return this.divideScaler(this.length())},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},angleTo:function(t,e){var n=this.angle(t),i=0<=r.direction(this,t);return e?i?2*Math.PI-n:n:i?n:2*Math.PI-n},vertical:function(t){return t?new r(this.y,-this.x):new r(-this.y,this.x)},angle:function(t){return r.angle(this,t)},setLength:function(t){var e=this.length();return 0!==e&&t!==e&&this.multiplyScaler(t/e),this},isZero:function(){return 0===this.x&&0===this.y},lerp:function(t,e){return this.copy(r.lerp(this,t,e))},equal:function(t){return a.equal(this.x,t.x)&&a.equal(this.y,t.y)},clone:function(){return new r(this.x,this.y)},rotate:function(t){var e=this.x*Math.cos(t)-this.y*Math.sin(t),n=this.x*Math.sin(t)+this.y*Math.cos(t);return this.x=e,this.y=n,this}}),t.exports=r},function(t,e,n){"use strict";function u(t,e,n){if(1===arguments.length)if(a.isArray(t)){var i=t;t=i[0],e=i[1],n=i[2]}else if("vector2"===t.type){var r=t;t=r.x,e=r.y,n=1}this.x=t||0,this.y=e||0,this.z=n||0}var a=n(1),i=n(7);u.add=function(t,e){return new u(t.x+e.x,t.y+e.y,t.z+e.z)},u.sub=function(t,e){return new u(t.x-e.x,t.y-e.y,t.z-e.z)},u.lerp=function(t,e,n){return new u(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n,t.z+(e.z-t.z)*n)},u.cross=function(t,e){var n=t.x,i=t.y,r=t.z,a=e.x,s=e.y,o=e.z;return new u(i*o-r*s,r*a-n*o,n*s-i*a)},u.angle=function(t,e){var n=t.dot(e)/(t.length()*e.length());return Math.acos(i.clamp(n,-1,1))},a.augment(u,{type:"vector3",set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setComponent:function(t,e){switch(t){case 0:return this.x=e,this;case 1:return this.y=e,this;case 2:return this.z=e,this;default:throw new Error("index is out of range:"+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range:"+t)}},add:function(t){return this.copy(u.add(this,t))},sub:function(t){return this.copy(u.sub(this,t))},subBy:function(t){return this.copy(u.sub(t,this))},multiplyScaler:function(t){return this.x*=t,this.y*=t,this.z*=t,this},divideScaler:function(t){if(0!==t){var e=1/t;this.x*=e,this.y*=e,this.z*=e}else this.x=0,this.y=0,this.z=0;return this},min:function(t){return this.x>t.x&&(this.x=t.x),this.y>t.y&&(this.y=t.y),this.z>t.z&&(this.z=t.z),this},max:function(t){return this.x<t.x&&(this.x=t.x),this.y<t.y&&(this.y=t.y),this.z<t.z&&(this.z=t.z),this},clamp:function(t,e){return this.x<t.x?this.x=t.x:this.x>e.x&&(this.x=e.x),this.y<t.y?this.y=t.y:this.y>e.y&&(this.y=e.y),this.z<t.z?this.z=t.z:this.z>e.z&&(this.z=e.z),this},clampScale:function(){var n,i;return function(t,e){return void 0===n&&(n=new u,i=new u),n.set(t,t,t),i.set(e,e,e),this.clamp(n,i)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.lengthSq())},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScaler(this.length())},setLength:function(t){var e=this.length();return 0!==e&&t!==e&&this.multiplyScaler(t/e),this},lerp:function(t,e){return this.copy(u.lerp(this,t,e))},cross:function(t){return this.copy(u.cross(this,t))},angle:function(t){return u.angle(this,t)},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},applyMatrix:function(t){var e=t.elements,n=e[0]*this.x+e[3]*this.y+e[6]*this.z,i=e[1]*this.x+e[4]*this.y+e[7]*this.z,r=e[2]*this.x+e[5]*this.y+e[8]*this.z;return this.x=n,this.y=i,this.z=r,this},copy:function(t){return this.x=t.x,this.y=t.y,this.z=void 0!==t.z?t.z:1,this},equal:function(t){return i.equal(this.x,t.x)&&i.equal(this.y,t.y)&&i.equal(this.z,t.z)},clone:function(){return new u(this.x,this.y,this.z)}}),t.exports=u},function(t,e,n){var i=n(124);t.exports=i},function(t,e,n){function g(t,e,n,i){var r,a,s,o,u=[],c=!!i;if(c){s=new M(1/0,1/0),o=new M(-1/0,-1/0);for(var l=0,h=t.length;l<h;l++){var f=w(t[l]);s.min(f),o.max(f)}s.min(w(i[0])),o.max(w(i[1]))}for(var l=0,g=t.length;l<g;l++){var f=w(t[l]);if(n)r=w(t[l?l-1:g-1]),a=w(t[(l+1)%g]);else{if(0===l||l===g-1){u.push([f.x,f.y]);continue}r=w(t[l-1]),a=w(t[l+1])}var p=M.sub(a,r);S(p,e);var d=f.distanceTo(r),v=f.distanceTo(a),m=d+v;0!==m&&(d/=m,v/=m);var x=S(p.clone(),-d),y=S(p.clone(),v),_=M.add(f,x),b=M.add(f,y);c&&(_.max(s),_.min(o),b.max(s),b.min(o)),u.push([_.x,_.y]),u.push([b.x,b.y])}return n&&u.push(u.shift()),u}function w(t){return new M(t[0],t[1])}function S(t,e){return t.x*=e,t.y*=e,t}var i=n(4),M=i.Vector2;t.exports={catmullRom2bezier:function(t,e,n){for(var i=!!e,r=[],a=0,s=t.length;a<s;a+=2)r.push([t[a],t[a+1]]);var o,u,c,l=g(r,.4,i,n),h=r.length,f=[];for(a=0;a<h-1;a++)o=l[2*a],u=l[2*a+1],c=r[a+1],f.push(["C",o[0],o[1],u[0],u[1],c[0],c[1]]);return i&&(o=l[h],u=l[h+1],c=r[0],f.push(["C",o[0],o[1],u[0],u[1],c[0],c[1]])),f}}},function(t,e,n){"use strict";var i=n(1),r=function(t,e,n,i){this.type=t,this.target=null,this.currentTarget=null,this.bubbles=n,this.cancelable=i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=e};i.augment(r,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return i.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),t.exports=r},function(t,e,n){"use strict";function i(t){i.superclass.constructor.call(this,t)}var g=n(2),r=n(15),a=n(56),s=n(55);g.extend(i,r),g.mixin(i,[a,s]),i.ATTRS={type:"area"},g.augment(i,{sortFrames:function(t){return this.sort(t)},drawFrame:function(t,e){var i,r,a,s,o=this,n=t.toJSON(),u=this.splitData(n),c=this.get("container"),l=this.get("shapeObj"),h=n[0];h.index=e,(i=this.getDrawCfg(h)).origin=n;var f=o.getShapeData(t);o.get("shapeDatas").push(f),g.each(u,function(t,e){i.splitedIndex=e,a=[];for(var n=0;n<t.length;n++)s=t[n],a.push(s.points);0!==a.length&&(i.points=a,r=o.getDrawShape(i.shape),l.drawShape(r,i,c))})},_getJoinIdAttr:function(){var t=this.get("attrs"),e=[];return g.each(t,function(t){"position"!==t.type&&e.push(t)}),e}}),t.exports=i},function(t,e,n){"use strict";function i(t){i.superclass.constructor.call(this,t)}var r=n(2),a=n(15);i.ATTRS={type:"interval"},r.extend(i,a),r.mixin(i),r.augment(i,{getDrawCfg:function(t){var e=i.superclass.getDrawCfg.call(this,t),n=this.getCoord();return n.isPolar&&(e.z=!0,e.center=n.get("center")),e}}),t.exports=i},function(t,e,n){"use strict";function i(t){i.superclass.constructor.call(this,t)}var r=n(2),a=n(57);r.extend(i,a),i.ATTRS={type:"line"},r.augment(i,{sortFrames:function(t){return this.sort(t)}}),t.exports=i},function(t,e,n){"use strict";var i=n(2),r=n(66);t.exports={sort:function(t){var e=this.getXDim(),n=[];return i.each(t,function(t){n.push(r.sort(t,e))}),n}}},function(t,e,n){"use strict";function i(t){i.superclass.constructor.call(this,t)}var r=n(2),a=n(15);r.extend(i,a),i.ATTRS={type:"point"},t.exports=i},function(t,e,n){"use strict";function i(t){i.superclass.constructor.call(this,t)}var f=n(2),g=n(15);f.extend(i,g),i.ATTRS={type:"polygon"},f.augment(i,{getShapePointInfo:function(t){var e,n=g.prototype.getShapePointInfo.call(this,t),i=n.x,r=n.y;if(!f.isArray(i)||!f.isArray(r)){var a=this.getXScale(),s=this.getYScale(),o=a.values?a.values.length:a.ticks.length,u=s.values?s.values.length:s.ticks.length,c=.5/o,l=.5/u;a.isCategory&&s.isCategory?(i=[i-c,i-c,i+c,i+c],r=[r-l,r+l,r+l,r-l]):f.isArray(i)?(i=[(e=i)[0],e[0],e[1],e[1]],r=[r-l/2,r+l/2,r+l/2,r-l/2]):f.isArray(r)&&(r=[(e=r)[0],e[1],e[1],e[0]],i=[i-c/2,i-c/2,i+c/2,i+c/2])}var h=f.mix({},t,{x:i,y:r});return h}}),t.exports=i},function(t,e,n){"use strict";function i(t){i.superclass.constructor.call(this,t)}var r=n(2),a=n(15);r.extend(i,a),i.ATTRS={type:"schema"},t.exports=i},function(t,e,n){var i=n(58);i.Squarify=n(134),t.exports=i},function(t,e,n){"use strict";var d=n(1),i=n(58),r=function(t){r.superclass.constructor.call(this,t)};d.extend(r,i),d.augment(r,{mode:"squarify",ratio:.5*(1+Math.sqrt(5)),processNodes:function(t,e,n){var i=this;if(d.isArray(t)&&t.length){var r,a,s,o=[],u=t[0],c=i.mode,l=i.valueField,h=i.childrenField,f=t.slice(),g=1/0,p="slice"===c?e.dx:"dice"===c?e.dy:"slice-dice"===c?u.depth%2?e.dy:e.dx:Math.min(e.dx,e.dy);for(i.scale(f,e.dx*e.dy/n),o.area=0;0<(s=f.length);)o.push(r=f[s-1]),o.area+=r.area,g="squarify"!==c||(a=i.worst(o,p))<=g?(f.pop(),a):(o.area-=o.pop().area,i.position(o,p,e,!1),p=Math.min(e.dx,e.dy),o.length=o.area=0,1/0);o.length&&(i.position(o,p,e,!0),o.length=o.area=0),t.forEach(function(t){i.processNodes(t[h],i.pad(t),t[l])})}},worst:function(t,e){for(var n,i=t.area,r=0,a=1/0,s=-1,o=t.length;++s<o;)(n=t[s].area)&&(n<a&&(a=n),r<n&&(r=n));return e*=e,(i*=i)?Math.max(e*r*this.ratio/i,i/(e*a*this.ratio)):1/0}}),t.exports=r},function(t,e,n){var i=n(138);t.exports={interpolation:i.interpolation,unInterpolation:i.unInterpolation}},function(t,e,n){"use strict";var s=n(31),o=n(1);t.exports={array:function t(e,n){for(var i=[],r=Math.min(e.length,n.length),a=0;a<r;a++)o.isArray(e[a])&&o.isArray(n[a])?i[a]=t(e[a],n[a]):i[a]=s.singular(e[a],n[a]);return function(t){for(var e=[],n=0;n<r;n++)e[n]=i[n](t);return e}},unArray:function t(e,n){for(var a=[],i=Math.min(e.length,n.length),r=0;r<i;r++)o.isArray(e[r])&&o.isArray(n[r])?a[r]=t(e[r],n[r]):a[r]=s.unSingular(e[r],n[r]);return function(t){for(var e=Math.min(a.length,t.length),n=0,i=0,r=0;r<e;r++)n+=a[r](t[r]),i++;return 0===i?0:n/i}}}},function(t,e,n){"use strict";var S=n(32);t.exports={color:function(t,e){switch(e.getType()){case"rgb":return g=e,p=(f=t).getR(),d=f.getG(),v=f.getB(),m=f.getA(),x=g.getR()-p,y=g.getG()-d,_=g.getB()-v,b=g.getA(),void 0===m&&void 0===b||(b=(void 0===b?1:b)-(m=m||1)),function(t){var e=new S;return e.setRGB(p+x*t,d+y*t,v+_*t,void 0!==m&&void 0!==b?m+b*t:void 0),e.getRGBStyle()};case"hsl":return i=e,r=(n=t).getH(),a=n.getS(),s=n.getL(),o=n.getA(),u=i.getH()-r,c=i.getS()-a,l=i.getL()-s,h=i.getA(),void 0===o&&void 0===h||(h=(void 0===h?1:h)-(o=o||1)),function(t){var e=new S;return e.setHSL(r+u*t,a+c*t,s+l*t,void 0!==o&&void 0!==h?o+h*t:void 0),e.getHSLStyle()}}var n,i,r,a,s,o,u,c,l,h,f,g,p,d,v,m,x,y,_,b},unColor:function(t,e){switch(e.getType()){case"rgb":return a=e,d=(r=t).getR(),v=r.getG(),m=r.getB(),x=r.getA(),y=a.getR()-d,_=a.getG()-v,b=a.getB()-m,w=a.getA(),void 0===x&&void 0===w||(w=(void 0===w?1:w)-(x=x||1)),function(t){if(!(t=new S(t)).getType())return 0;var e=t.getR(),n=t.getG(),i=t.getB(),r=t.getA();r=r||1;var a=0,s=0;return 0!=y&&(a+=(e-d)/y,s++),0!=_&&(a+=(n-v)/_,s++),0!=b&&(a+=(i-m)/b,s++),0!==w&&w&&(a+=(r-x)/w,s++),0===s?0:a/s};case"hsl":return i=e,o=(n=t).getH(),u=n.getS(),c=n.getL(),l=n.getA(),h=i.getH()-o,f=i.getS()-u,g=i.getL()-c,p=i.getA(),void 0===l&&void 0===p||(p=(void 0===p?1:p)-(l=l||1)),function(t){if(!(t=new S(t)).getType())return 0;var e=t.getH(),n=t.getS(),i=t.getL(),r=t.getA();r=r||1;var a=0,s=0;return 0!=h&&(a+=(e-o)/h,s++),0!=f&&(a+=(n-u)/f,s++),0!=g&&(a+=(i-c)/g,s++),0!==p&&p&&(a+=(r-l)/p,s++),0===s?0:a/s}}var n,i,o,u,c,l,h,f,g,p,r,a,d,v,m,x,y,_,b,w}}},function(t,e,n){"use strict";var i=n(1),r=n(142),a=n(136),s=n(141),o=n(31),u=n(139),c=n(4);c.Matrix3,t.exports={interpolation:function(t,e){return i.isObject(t)&&i.isObject(e)?"matrix3"===t.type&&"matrix3"===e.type?u.matrix(t,e):"path"===t.type&&"path"===e.type?r.path(t,e):s.object(t,e):i.isArray(t)&&i.isArray(e)?a.array(t,e):o.singular(t,e)},unInterpolation:function(t,e){return"matrix3"===t.type&&"matrix3"===e.type?u.unMatrix(t,e):i.isArray(t)&&i.isArray(e)?a.unArray(t,e):i.isObject(t)&&i.isObject(e)?s.unObject(t,e):o.unSingular(t,e)}}},function(t,e,n){"use strict";var o=n(31),i=n(4),s=i.Matrix3;t.exports={matrix:function(t,e){for(var r=[],n=t.elements,i=e.elements,a=0;a<9;a++)r[a]=o.singular(n[a],i[a]);return function(t){for(var e=new s,n=e.elements,i=0;i<9;i++)n[i]=r[i](t);return e}},unMatrix:function(t,e){for(var s=[],n=t.elements,i=e.elements,r=0;r<9;r++)s[r]=o.unSingular(n[r],i[r]);return function(t){for(var e=t.elements,n=0,i=0,r=0;r<9;r++){var a=s[r](e[r]);0!==a&&(n+=a,i++)}return n/i}}}},function(t,e){"use strict";t.exports={number:function(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}},unNumber:function(e,n){return n-=e,function(t){return 0===n?0:(t-e)/n}}}},function(t,e,n){"use strict";var a=n(31);t.exports={object:function(t,e){var i={};for(var n in t)n in e&&(i[n]=a.singular(t[n],e[n]));return function(t){var e={};for(var n in i)e[n]=i[n](t);return e}},unObject:function(t,e){var r={};for(var n in t)n in e&&(r[n]=a.unSingular(t[n],e[n]));return function(t){var e=0,n=0;for(var i in r)i in t&&(e+=r[i](t[i]),n++);return 0===n?0:e/n}}}},function(t,e,n){"use strict";var i=n(45);t.exports={path:function(r,a){var t=i.toCurve(r.path,a.path),s=t[0],o=t[1];return function(t){var e=[];if(1<=t)return a.path;if(t<=0)return r.path;for(var n=0;n<s.length;n++){e[n]=[s[n][0]];for(var i=1;i<s[n].length;i++)e[n][i]=(o[n][i]-s[n][i])*t+s[n][i]}return e}}}},function(t,e,n){"use strict";function i(t){this.space={},r.isString(t)?this.setStyle(t):t instanceof i&&this.copy(t)}var r=n(1),a=(n(7),n(145)),s=n(146),o=n(144),u={hex:/^#([A-Fa-f0-9]{3}|[A-Fa-f0-9]{6})$/,space:/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)$/,rgbNum:/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*$/,rgbaNum:/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([0-9]*\.?[0-9]+)\s*$/,rgbPre:/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*$/,rgbaPre:/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*([0-9]*\.?[0-9]+)\s*$/,hsl:/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*$/,hsla:/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*([0-9]*\.?[0-9]+)\s*$/};r.augment(i,{getType:function(){return this.space.type},toRGB:function(){var t=this.space;if("rgb"!==t.type){var e=t.toRGB();this.setRGB(e.r,e.g,e.b,e.a)}},toHSL:function(){var t=this.space;if("hsl"!==t.type){var e=t.toHSL();this.setHSL(e.h,e.s,e.l,e.a)}},getR:function(){return this.toRGB(),this.space.r},getG:function(){return this.toRGB(),this.space.g},getB:function(){return this.toRGB(),this.space.b},getH:function(){return this.toHSL(),this.space.h},getS:function(){return this.toHSL(),this.space.s},getL:function(){return this.toHSL(),this.space.l},getA:function(){return this.space.a},multiplyA:function(t){return void 0===t||(void 0===this.space.a&&(this.space.a=1),this.space.a*=t),this},getRGBStyle:function(){return this.toRGB(),this.space.getStyle()},getRGBPreStyle:function(){return this.toRGB(),this.space.getPreStyle()},getHSLStyle:function(){return this.toHSL(),this.space.getStyle()},getHex:function(){return this.toRGB(),this.space.getHex()},setRGB:function(t,e,n,i){return this.space=new s,this.space.setRGB(t,e,n,i),this},setHSL:function(t,e,n,i){return this.space=new a,this.space.setHSL(t,e,n,i),this},setHex:function(t){return this.space=new s,t=Math.floor(t),this.space.r=(t>>16&255)/255,this.space.g=(t>>8&255)/255,this.space.b=(255&t)/255,this},setStyle:function(t){var e;if(e=u.hex.exec(t)){var n=e[1],i=n.length;if(3===i)return this.setRGB(parseInt(n.charAt(0)+n.charAt(0),16)/255,parseInt(n.charAt(1)+n.charAt(1),16)/255,parseInt(n.charAt(2)+n.charAt(2),16)/255),this;if(6===i)return this.setRGB(parseInt(n.charAt(0)+n.charAt(1),16)/255,parseInt(n.charAt(2)+n.charAt(3),16)/255,parseInt(n.charAt(4)+n.charAt(5),16)/255),this}else if(e=u.space.exec(t)){var r,a=e[1],s=e[2];switch(a){case"rgb":if(r=u.rgbNum.exec(s))return this.setRGB(parseInt(r[1],10)/255,parseInt(r[2],10)/255,parseInt(r[3],10)/255),this;if(r=u.rgbPre.exec(s))return this.setRGB(parseInt(r[1],10)/100,parseInt(r[2],10)/100,parseInt(r[3],10)/100),this;break;case"rgba":if(r=u.rgbaNum.exec(s))return this.setRGB(parseInt(r[1],10)/255,parseInt(r[2],10)/255,parseInt(r[3],10)/255,parseFloat(r[4])),this;if(r=u.rgbaPre.exec(s))return this.setRGB(parseInt(r[1],10)/100,parseInt(r[2],10)/100,parseInt(r[3],10)/100,parseFloat(r[4])),this;break;case"hsl":if(r=u.hsl.exec(s))return this.setHSL(parseInt(r[1],10)/360,parseInt(r[2],10)/100,parseInt(r[3],10)/100),this;break;case"hsla":if(r=u.hsla.exec(s))return this.setHSL(parseInt(r[1],10)/360,parseInt(r[2],10)/100,parseInt(r[3],10)/100,parseFloat(r[4])),this}}else t=t.toLowerCase(),void 0!==o[t]?this.setHex(o[t]):this.setHex(o.black)},copy:function(t){this.space=t.space.clone()},clone:function(){return new i(this)}}),t.exports=i},function(t,e){t.exports={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074}},function(t,e,n){"use strict";var i=n(1),r=n(7),a=function(){this.h=0,this.s=0,this.l=0};i.augment(a,{type:"hsl",setHSL:function(t,e,n,i){this.h=r.mod(t,1),this.s=r.clamp(e,0,1),this.l=r.clamp(n,0,1),this.a=void 0!==i?r.clamp(i,0,1):void 0},toRGB:function(){function a(t,e,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function(){var t=this.h,e=this.s,n=this.l;if(0===e)return{r:n,g:n,b:n,a:this.a};var i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;return{r:a(r,i,t+1/3),g:a(r,i,t),b:a(r,i,t-1/3),a:this.a}}}(),clone:function(){var t=new a;return t.h=this.h,t.s=this.s,t.l=this.l,t.a=this.a,t},copy:function(t){return this.h=t.h,this.s=t.s,this.l=t.l,this.a=t.a,this},getStyle:function(){return void 0===this.a?"hsl("+Math.round(360*this.h)+", "+Math.round(100*this.s)+"%, "+Math.round(100*this.l)+"%)":"hsla("+Math.round(360*this.h)+", "+Math.round(100*this.s)+"%, "+Math.round(100*this.l)+"%, "+this.a+")"}}),t.exports=a},function(t,e,n){"use strict";var i=n(1),r=n(7),a=function(){this.r=0,this.g=0,this.b=0,this.type="rgb"};i.augment(a,{type:"rgb",setRGB:function(t,e,n,i){this.r=r.clamp(t,0,1),this.g=r.clamp(e,0,1),this.b=r.clamp(n,0,1),this.a=void 0!==i?r.clamp(i,0,1):void 0},toHSL:function(){var t,e,n=this.r,i=this.g,r=this.b,a=Math.max(n,i,r),s=Math.min(n,i,r),o=(s+a)/2;if(s===a)e=t=0;else{var u=a-s;switch(e=o<=.5?u/(a+s):u/(2-a-s),a){case n:t=(i-r)/u+(i<r?6:0);break;case i:t=(r-n)/u+2;break;case r:t=(n-i)/u+4}t/=6}return{h:t,s:e,l:o,a:this.a}},getHex:function(){var t=255*this.r<<16^255*this.g<<8^255*this.b<<0;return"#"+("000000"+t.toString(16)).slice(-6)},getStyle:function(){return void 0===this.a?"rgb("+Math.round(255*this.r).toString()+", "+Math.round(255*this.g).toString()+", "+Math.round(255*this.b).toString()+")":"rgba("+Math.round(255*this.r).toString()+", "+Math.round(255*this.g).toString()+", "+Math.round(255*this.b).toString()+", "+this.a+")"},getPreStyle:function(){return void 0===this.a?"rgb("+Math.round(100*this.r).toString()+"%, "+Math.round(100*this.g).toString()+"%, "+Math.round(100*this.b).toString()+"%)":"rgba("+Math.round(100*this.r).toString()+"%, "+Math.round(100*this.g).toString()+"%, "+Math.round(100*this.b).toString()+"%, "+this.a+")"},clone:function(){var t=new a;return t.r=this.r,t.g=this.g,t.b=this.b,t.a=this.a,t},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this}}),t.exports=a},function(t,e,n){"use strict";var i=n(16),r={dot:n(148),rect:n(149)};i.tree=r,t.exports=r},function(t,e,n){"use strict";var i=n(60);t.exports=function(t){return new i({dims:t})}},function(t,e,n){"use strict";var i=n(1),r=n(60);t.exports=function(t){return new r({dims:t,getStatObject:function(t,e){var n=i.mix({},t);return n["..x"]=[e.start.x,e.start.x,e.end.x,e.end.x],n["..y"]=[e.start.y,e.end.y,e.end.y,e.start.y],n}})}},function(t,e,n){"use strict";function i(t,e,n){return new r({dims:t,ratio:e=e||1,mode:n})}var r=n(151),a=function(t,e){return i(t,e,"squarify")};a.squarify=function(t,e){return i(t,e,"squarify")},a.sliceDice=function(t,e){return i(t,e,"slice-dice")},t.exports=a},function(t,e,n){"use strict";function s(t){return 1-t}var o=n(1),i=n(16),r=n(133),a=n(3),u="..x",c="..y",l=function(t){l.superclass.constructor.call(this,t)};o.extend(l,i),o.augment(l,{type:"treemap",mode:"squarify",ratio:1,getValueField:function(){var t=this.getDims();return t[3]||"_value"},getChildrenField:function(){var t=this.getDims();return t[2]},initDims:function(t){t.unshift(c),t.unshift(u)},_copyObject:function(t){var e=o.mix({},t);return e},_extractData:function(t,e){for(var n=t.length-1;0<=n;n--){var i=t[n],r=this._copyObject(i);r[u]=[],r[c]=[],r[u].push(i.x),r[c].push(s(i.y+i.dy)),r[u].push(i.x),r[c].push(s(i.y)),r[u].push(i.x+i.dx),r[c].push(s(i.y)),r[u].push(i.x+i.dx),r[c].push(s(i.y+i.dy)),e.push(r);var a=this.getChildrenField();o.isArray(i[a])&&this._extractData(i[a],e)}},exec:function(t){var e=[],n=a.merge.apply(null,t);return e.push(this.execFrame(n)),e},execFrame:function(t){var e=t.toJSON(),n=(this.getDims(),new r.Squarify({nodes:e,mode:this.mode,childrenField:this.getChildrenField(),valueField:this.getValueField(),ratio:this.ratio})),i=n.getNodes(),e=[];this._extractData(i,e);var t=new a(e);return t}}),t.exports=l},function(t,e,n){var i=n(153);i.Tween=n(63),i.Ease=n(61),t.exports=i},function(t,e,n){"use strict";var u=n(1),i=n(11),r=n(154),a=function(t){a.superclass.constructor.call(this,t),this._init()};a.ATTRS={time:0,createTime:null,playTime:null,pauseTimeSpace:0,available:!1,canvases:[],tweens:[],endTime:0,autoPlay:!1,status:"silent",autoDraw:!0},u.extend(a,i),u.augment(a,{_init:function(){var t=this.get("autoPlay");this.set("createTime",+new Date),t&&this.play()},_trySetEndTime:function(t){var n=this;u.isObject(t)?n._setEndTime(t):u.isArray(t)&&u.each(t,function(t,e){n._setEndTime(t)})},_trySetCanvases:function(t){var n=this;u.isObject(t)?n._setCanvases(t):u.isArray(t)&&u.each(t,function(t,e){n._setCanvases(t)})},_setEndTime:function(t){var e=this.get("endTime"),n=t.endTime;e<n&&this.set("endTime",n)},_setCanvases:function(t){var e=t.canvas,n=this.get("canvases");-1===n.indexOf(e)&&n.push(e)},_resetTweens:function(){var t=this.get("tweens");t.sort(function(t,e){return e.get("startTime")-t.get("startTime")}),u.each(t,function(t){t.reset()})},_getTime:function(){var t=this.get("playTime"),e=this.get("pauseTimeSpace");return+new Date-t+e},_refresh:function(t){for(var e,n,i=this.get("tweens"),r=(this.get("canvases"),this.get("autoDraw")),a=[],s=[],o=0;o<i.length;o++)n=i[o],e=n.canvas,n.needsDestroy?n.destroy():n.destroyed||n.needsDestroy||n.tryStep(t),n.destroyed||a.push(n),u.inArray(s,e)||n.destroyed||s.push(e);r&&this.draw(),this.set("canvases",s),this.set("tweens",a)},_update:function(){if(this.get("available")){var t,e=this,n=e.get("tweens");0<n.length&&(t=e._getTime(),e._refresh(t)),e.fire("update"),u.requestAnimationFrame(function(){e._update()})}},animate:function(t,e){var n=new r({target:t,timeline:this,startTime:e||0});return n},add:function(t){var e,n=this.get("tweens");return u.isArray(t)?e=n.concat(t):u.isObject(t)&&"tween"===t.type?(n.push(t),e=n):console.error("Timeline not Support this type"),this.set("tweens",e),this._trySetCanvases(t),this._trySetEndTime(t),this},getNow:function(){var t=this.get("playTime");return t?+new Date-t:0},getTime:function(){var t=this.get("playTime");return t?+new Date-t:0},play:function(){var t=this.get("status");return"silent"===t&&(this.set("playTime",+new Date),this.set("available",!0),this.set("status","playing"),this._update()),this},stop:function(){this.set("status","silent"),this.set("available",!1),this.set("pauseTimeSpace",0),this._resetTweens(),this._refresh(0),this.draw()},pause:function(){var t=this.get("available");return t&&this.set("pauseTimeSpace",+new Date-this.get("playTime")),this.set("available",!1),this.set("status","silent"),this},reset:function(){this.set("status","silent"),this.set("available",!1),this.set("pauseTimeSpace",0),this.set("playTime",0),this.set("endTime",0),this.set("tweens",[]),this.set("canvases",[])},draw:function(){for(var t,e=this.get("canvases"),n=0;n<e.length;n++)(t=e[n]).get("destroyed")||t.draw()}}),t.exports=a},function(t,e,n){"use strict";var g=n(1),p=n(62),d=(n(11),n(63)),i=function(t){g.mix(this,t)};g.augment(i,{target:null,timeline:null,startTime:null,append:function(t,e,n,i){var r,a=g.guid("tween_"),s=this.target,o=(this.tweens,this.timeline),u=this.startTime,c=p.getKeyFrameByProps(s,e),l=c[0],h=c[1],f=p.getInterpolations(l,h);return t=t||u,e&&e.delay&&(t+=e.delay),r=new d({id:a,canvas:s.get("canvas"),startTime:t,target:s,easing:n,callBack:i,startKeyFrame:l,endKeyFrame:h,interpolations:f,duration:e.duration?e.duration:1e3,repeat:!!e.repeat&&e.repeat,destroyTarget:!!e.destroy&&e.destroy}),o&&o.add(r),this}}),t.exports=i},function(M,t,e){!function(){function e(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e}function h(t){return 0===t.length?null:e(t)/t.length}function t(t){if(0===t.length)return null;for(var e=0,n=0;n<t.length;n++)e+=Math.pow(t[n],2);return Math.sqrt(e/t.length)}function n(t){if(0===t.length)return null;for(var e=h(t),n=[],i=0;i<t.length;i++)n.push(Math.pow(t[i]-e,2));return h(n)}function a(t){return 0===t.length?null:Math.sqrt(n(t))}function r(t,e){for(var n=h(t),i=0,r=0;r<t.length;r++)i+=Math.pow(t[r]-n,e);return i}function u(t){if(t.length<=1)return null;var e=r(t,2);return e/(t.length-1)}function s(t){return t.length<=1?null:Math.sqrt(u(t))}function o(t,e){if(t.length<=1||t.length!=e.length)return null;for(var n=h(t),i=h(e),r=0,a=0;a<t.length;a++)r+=(t[a]-n)*(e[a]-i);return r/(t.length-1)}function c(t){if(0===t.length)return null;var e=t.slice().sort(function(t,e){return t-e});if(e.length%2==1)return e[(e.length-1)/2];var n=e[e.length/2-1],i=e[e.length/2];return(n+i)/2}function i(t,e){e=e||Math.random;for(var n,i,r=t.length;0<r;)i=Math.floor(e()*r--),n=t[r],t[r]=t[i],t[i]=n;return t}function l(t,e){return i((t=t.slice()).slice(),e)}function f(t,e){if(0===t.length)return null;var n=t.slice().sort(function(t,e){return t-e});if(e.length){for(var i=[],r=0;r<e.length;r++)i[r]=g(n,e[r]);return i}return g(n,e)}function g(t,e){var n=t.length*e;return e<0||1<e?null:1===e?t[t.length-1]:0===e?t[0]:n%1!=0?t[Math.ceil(n)-1]:t.length%2==0?(t[n-1]+t[n])/2:t[n]}function p(t){return 0===t.length?null:f(t,.75)-f(t,.25)}function d(t){if(!t||0===t.length)return null;for(var e=c(t),n=[],i=0;i<t.length;i++)n.push(Math.abs(t[i]-e));return c(n)}function v(t,e){var n,i,r=[],a=[],s=0;for(n=0;n<t.length+1;n++){var o=[],u=[];for(i=0;i<e+1;i++)o.push(0),u.push(0);r.push(o),a.push(u)}for(n=1;n<e+1;n++)for(r[1][n]=1,a[1][n]=0,i=2;i<t.length+1;i++)a[i][n]=1/0;for(var c=2;c<t.length+1;c++){for(var l=0,h=0,f=0,g=0,p=1;p<c+1;p++){var d=c-p+1,v=t[d-1];if(s=(h+=v*v)-(l+=v)*l/++f,0!=(g=d-1))for(i=2;i<e+1;i++)a[c][i]>=s+a[g][i-1]&&(r[c][i]=d,a[c][i]=s+a[g][i-1])}r[c][1]=1,a[c][1]=s}return{lower_class_limits:r,variance_combinations:a}}function m(t,e,n){var i=t.length-1,r=[],a=n;for(r[n]=t[t.length-1],r[0]=t[0];1<a;)r[a-1]=t[e[i][a]-2],i=e[i][a]-1,a--;return r}function x(t){if(t<0)return null;for(var e=1,n=2;n<=t;n++)e*=n;return e}function y(t,e){if(e<0||1<e||t<=0||t%1!=0)return null;for(var n,i,r,a=0,s=0,o={};o[a]=(n=a,r=e,x(i=t)/(x(n)*x(i-n))*(Math.pow(r,n)*Math.pow(1-r,i-n))),s+=o[a],a++,s<1-w;);return o}var _={};M.exports=_;var b=[.5,.504,.508,.512,.516,.5199,.5239,.5279,.5319,.5359,.5398,.5438,.5478,.5517,.5557,.5596,.5636,.5675,.5714,.5753,.5793,.5832,.5871,.591,.5948,.5987,.6026,.6064,.6103,.6141,.6179,.6217,.6255,.6293,.6331,.6368,.6406,.6443,.648,.6517,.6554,.6591,.6628,.6664,.67,.6736,.6772,.6808,.6844,.6879,.6915,.695,.6985,.7019,.7054,.7088,.7123,.7157,.719,.7224,.7257,.7291,.7324,.7357,.7389,.7422,.7454,.7486,.7517,.7549,.758,.7611,.7642,.7673,.7704,.7734,.7764,.7794,.7823,.7852,.7881,.791,.7939,.7967,.7995,.8023,.8051,.8078,.8106,.8133,.8159,.8186,.8212,.8238,.8264,.8289,.8315,.834,.8365,.8389,.8413,.8438,.8461,.8485,.8508,.8531,.8554,.8577,.8599,.8621,.8643,.8665,.8686,.8708,.8729,.8749,.877,.879,.881,.883,.8849,.8869,.8888,.8907,.8925,.8944,.8962,.898,.8997,.9015,.9032,.9049,.9066,.9082,.9099,.9115,.9131,.9147,.9162,.9177,.9192,.9207,.9222,.9236,.9251,.9265,.9279,.9292,.9306,.9319,.9332,.9345,.9357,.937,.9382,.9394,.9406,.9418,.9429,.9441,.9452,.9463,.9474,.9484,.9495,.9505,.9515,.9525,.9535,.9545,.9554,.9564,.9573,.9582,.9591,.9599,.9608,.9616,.9625,.9633,.9641,.9649,.9656,.9664,.9671,.9678,.9686,.9693,.9699,.9706,.9713,.9719,.9726,.9732,.9738,.9744,.975,.9756,.9761,.9767,.9772,.9778,.9783,.9788,.9793,.9798,.9803,.9808,.9812,.9817,.9821,.9826,.983,.9834,.9838,.9842,.9846,.985,.9854,.9857,.9861,.9864,.9868,.9871,.9875,.9878,.9881,.9884,.9887,.989,.9893,.9896,.9898,.9901,.9904,.9906,.9909,.9911,.9913,.9916,.9918,.992,.9922,.9925,.9927,.9929,.9931,.9932,.9934,.9936,.9938,.994,.9941,.9943,.9945,.9946,.9948,.9949,.9951,.9952,.9953,.9955,.9956,.9957,.9959,.996,.9961,.9962,.9963,.9964,.9965,.9966,.9967,.9968,.9969,.997,.9971,.9972,.9973,.9974,.9974,.9975,.9976,.9977,.9977,.9978,.9979,.9979,.998,.9981,.9981,.9982,.9982,.9983,.9984,.9984,.9985,.9985,.9986,.9986,.9987,.9987,.9987,.9988,.9988,.9989,.9989,.9989,.999,.999],w=1e-4,S={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}};_.linear_regression=function(){var i={},h=[];return i.data=function(t){return arguments.length?(h=t.slice(),i):h},i.mb=function(){var t,e,n=h.length;if(1===n)e=h[t=0][1];else{for(var i,r,a,s=0,o=0,u=0,c=0,l=0;l<n;l++)s+=r=(i=h[l])[0],o+=a=i[1],u+=r*r,c+=r*a;e=o/n-(t=(n*c-s*o)/(n*u-s*s))*s/n}return{m:t,b:e}},i.m=function(){return i.mb().m},i.b=function(){return i.mb().b},i.line=function(){var t=i.mb(),e=t.m,n=t.b;return function(t){return n+e*t}},i},_.standard_deviation=a,_.r_squared=function(t,e){if(t.length<2)return 1;for(var n,i=0,r=0;r<t.length;r++)i+=t[r][1];n=i/t.length;for(var a=0,s=0;s<t.length;s++)a+=Math.pow(n-t[s][1],2);for(var o=0,u=0;u<t.length;u++)o+=Math.pow(t[u][1]-e(t[u][0]),2);return 1-o/a},_.median=c,_.mean=h,_.mode=function(t){if(0===t.length)return null;if(1===t.length)return t[0];for(var e,n=t.slice().sort(function(t,e){return t-e}),i=n[0],r=0,a=1,s=1;s<n.length+1;s++)n[s]!==i?(r<a&&(r=a,e=i),a=1,i=n[s]):a++;return e},_.min=function(t){for(var e,n=0;n<t.length;n++)(t[n]<e||void 0===e)&&(e=t[n]);return e},_.max=function(t){for(var e,n=0;n<t.length;n++)(t[n]>e||void 0===e)&&(e=t[n]);return e},_.sum=e,_.quantile=f,_.quantile_sorted=g,_.iqr=p,_.mad=d,_.chunk=function(t,e){var n=[];if(e<=0)return null;for(var i=0;i<t.length;i+=e)n.push(t.slice(i,i+e));return n},_.shuffle=l,_.shuffle_in_place=i,_.sample=function(t,e,n){return l(t,n).slice(0,e)},_.sample_covariance=o,_.sample_correlation=function(t,e){var n=o(t,e),i=s(t),r=s(e);return null===n||null===i||null===r?null:n/i/r},_.sample_variance=u,_.sample_standard_deviation=s,_.sample_skewness=function(t){if(t.length<3)return null;var e=t.length,n=Math.pow(s(t),3),i=r(t,3);return e*i/((e-1)*(e-2)*n)},_.geometric_mean=function(t){if(0===t.length)return null;for(var e=1,n=0;n<t.length;n++){if(t[n]<=0)return null;e*=t[n]}return Math.pow(e,1/t.length)},_.harmonic_mean=function(t){if(0===t.length)return null;for(var e=0,n=0;n<t.length;n++){if(t[n]<=0)return null;e+=1/t[n]}return t.length/e},_.root_mean_square=t,_.variance=n,_.t_test=function(t,e){var n=h(t),i=a(t),r=Math.sqrt(t.length);return(n-e)/(i/r)},_.t_test_two_sample=function(t,e,n){var i=t.length,r=e.length;if(!i||!r)return null;n||(n=0);var a=h(t),s=h(e),o=((i-1)*u(t)+(r-1)*u(e))/(i+r-2);return(a-s-n)/Math.sqrt(o*(1/i+1/r))},_.jenksMatrices=v,_.jenksBreaks=m,_.jenks=function(t,e){if(e>t.length)return null;var n=v(t=t.slice().sort(function(t,e){return t-e}),e).lower_class_limits;return m(t,n,e)},_.bayesian=function(){var t={},o=0,u={};return t.train=function(t,e){for(var n in u[e]||(u[e]={}),t){var i=t[n];void 0===u[e][n]&&(u[e][n]={}),void 0===u[e][n][i]&&(u[e][n][i]=0),u[e][n][t[n]]++}o++},t.score=function(t){var e,n={};for(var i in t){var r=t[i];for(e in u)void 0===n[e]&&(n[e]={}),u[e][i]?n[e][i+"_"+r]=(u[e][i][r]||0)/o:n[e][i+"_"+r]=0}var a={};for(e in n)for(var s in n[e])void 0===a[e]&&(a[e]=0),a[e]+=n[e][s];return a},t},_.epsilon=w,_.factorial=x,_.bernoulli_distribution=function(t){return t<0||1<t?null:y(1,t)},_.binomial_distribution=y,_.poisson_distribution=function(t){if(t<=0)return null;for(var e,n,i=0,r=0,a={};a[i]=(e=i,n=t,Math.pow(Math.E,-n)*Math.pow(n,e)/x(e)),r+=a[i],i++,r<1-w;);return a},_.chi_squared_goodness_of_fit=function(t,e,n){for(var i,r,a=h(t),s=0,o=e(a),u=[],c=[],l=0;l<t.length;l++)void 0===u[t[l]]&&(u[t[l]]=0),u[t[l]]++;for(l=0;l<u.length;l++)void 0===u[l]&&(u[l]=0);for(r in o)r in u&&(c[r]=o[r]*t.length);for(r=c.length-1;0<=r;r--)c[r]<3&&(c[r-1]+=c[r],c.pop(),u[r-1]+=u[r],u.pop());for(r=0;r<u.length;r++)s+=Math.pow(u[r]-c[r],2)/c[r];return i=u.length-1-1,S[i][n]<s},_.z_score=function(t,e,n){return(t-e)/n},_.cumulative_std_normal_probability=function(t){var e=Math.abs(t),n=Math.floor(10*e),i=10*(Math.floor(100*e)/10-Math.floor(100*e/10)),r=Math.min(10*n+i,b.length-1);return 0<=t?b[r]:+(1-b[r]).toFixed(4)},_.standard_normal_table=b,_.average=h,_.interquartile_range=p,_.mixin=function(t){function e(e){return function(){var t=Array.prototype.slice.apply(arguments);return t.unshift(this),_[e].apply(_,t)}}if(!Object.defineProperty||!Object.defineProperties)throw new Error("without defineProperty, simple-statistics cannot be mixed in");var n,i=["median","standard_deviation","sum","sample_skewness","mean","min","max","quantile","geometric_mean","harmonic_mean","root_mean_square"];n=t?t.slice():Array.prototype;for(var r=0;r<i.length;r++)Object.defineProperty(n,i[r],{value:e(i[r]),configurable:!0,enumerable:!1,writable:!0});return n},_.median_absolute_deviation=d,_.rms=t}()},function(t,e,n){var i;i={albers:n(157),mercator:n(158),orthographic:n(159)},t.exports=i},function(t,e,n){"use strict";var i=n(1),r=n(43),a=function(t){a.superclass.constructor.call(this,t),this._init()};i.extend(a,r),i.augment(a,{"λ0":0,"φ0":0,"φ1":0,"φ2":0,basic:[0,0,0,60],_init:function(){this.λ0=this.toRadians(this.basic[0]),this.φ0=this.toRadians(this.basic[1]),this.φ1=this.toRadians(this.basic[2]),this.φ2=this.toRadians(this.basic[3])},project:function(t,e){var n=this.λ0,i=(this.φ0,this.φ1),r=this.φ2,a=.5*(Math.sin(i)+Math.sin(r)),s=Math.cos(i),o=s*s+2*a*Math.sin(i),u=Math.sqrt(o-2*a*Math.sin(n))/a,c=a*(this.toRadians(t)-n),l=Math.sqrt(o-2*a*Math.sin(this.toRadians(e)))/a;return{x:this.toDegrees(l*Math.sin(c)),y:this.toDegrees(u-l*Math.cos(c))}},invert:function(t){var e=this.λ0,n=(this.φ0,this.φ1),i=this.φ2,r=this.toRadians(t.x),a=this.toRadians(t.y),s=.5*(Math.sin(n)+Math.sin(i)),o=Math.cos(n),u=o*o+2*s*Math.sin(n),c=Math.sqrt(u-2*s*Math.sin(e))/s,l=Math.atan(r/(c-a)),h=Math.sqrt(r*r+Math.pow(c-a,2));return{x:this.toDegrees(e+l/s),y:this.toDegrees(Math.asin((u-h*h*s*s)/(2*s)))}}}),t.exports=a},function(t,e,n){"use strict";var i=n(1),r=n(43),a=function(t){a.superclass.constructor.call(this,t),this._init()};i.extend(a,r),i.augment(a,{"λ0":0,_init:function(){this.λ0=this.toRadians(this.λ0)},project:function(t,e){return t=this.toRadians(t),e=this.toRadians(e),{x:this.toDegrees(t-this.λ0),y:this.toDegrees(Math.log(Math.tan(Math.PI/4+e/2)))}},invert:function(t){var e=this.toRadians(t.x),n=this.toRadians(t.y);return{x:this.toDegrees(e+this.λ0),y:this.toDegrees(2*Math.atan(Math.exp(n))-Math.PI/2)}}}),t.exports=a},function(t,e,n){"use strict";var i=n(1),r=n(43),a=function(t){a.superclass.constructor.call(this,t),this._init()};i.extend(a,r),i.augment(a,{"λ0":110,"φ1":25,_init:function(){this.λ0=this.toRadians(this.λ0),this.φ1=this.toRadians(this.φ1)},project:function(t,e){t=this.toRadians(t),e=this.toRadians(e);var n=Math.cos(e)*Math.sin(t-this.λ0),i=Math.cos(φ1)*Math.sin(e)-Math.sin(φ1)*Math.cos(e)*Math.cos(t-λ0);return{x:this.toDegrees(n),y:this.toDegrees(i)}},invert:function(t){var e=this.toRadians(t.x),n=this.toRadians(t.y),i=Math.sqrt(e*e+n*n),r=Math.asin(i),a=this.λ0+Math.atan(e*Math.sin(r)/(i*Math.cos(this.φ1)*Math.cos(r)-n*Math.sin(this.φ11)*Math.sin(r))),s=Math.asin(Math.cos(r)*Math.sin(this.φ1)+n*Math.sin(r)*Math.cos(this.φ1)/i);return{x:this.toDegrees(a),y:this.toDegrees(s)}}}),t.exports=a},function(t,e,n){"use strict";function r(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}var a=n(77);a.mix(a,{mixin:function(n,t){if(n&&t){n._mixins=t,n.ATTRS=n.ATTRS||{};var i={};a.each(t,function(t){a.augment(n,t);var e=t.ATTRS;e&&a.mix(i,e)}),n.ATTRS=a.mix(i,n.ATTRS)}},map:function(t,n){var i=[];return a.each(t,function(t,e){i.push(n(t,e))}),i},filter:function(t,n){var i=[];return a.each(t,function(t,e){n(t,e)&&i.push(t)}),i},guid:function(){var e={};return function(t){return e[t=t||"g"]?e[t]+=1:e[t]=1,t+e[t]}}(),inArray:function(t,e){return-1!==a.indexOf(t,e)},indexOf:function(t,e){var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var i=-1,r=0;r<t.length;r++)if(t[r]===e){i=r;break}return i},remove:function(t,e){var n=a.indexOf(t,e);-1!==n&&t.splice(n,1)},empty:function(t){if(!(t instanceof Array))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0},equalsArray:function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=!0,i=0;i<t.length;i++)if(t[i]!==e[i]){n=!1;break}return n},wrapBehavior:function(e,n){var t=function(t){e[n](t)};return e["_wrap_"+n]=t},getWrapBehavior:function(t,e){return t["_wrap_"+e]},fixedBase:function(t,e){return function(t,e){var n=e.toString(),i=n.indexOf(".");if(-1===i)return Math.round(t);var r=n.substr(i+1).length;return 20<r&&(r=20),parseFloat(t.toFixed(r))}(t,e)},length:function(t){if(a.isArray(t))return t.length;if(a.isObject(t)){var e=0;return a.each(t,function(){e++}),e}return 0},clone:function(t){if("object"!=typeof t||null===t)return t;var e;if(a.isArray(t)){e=[];for(var n=0,i=t.length;n<i;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=a.clone(t[n]):e[n]=t[n]}else for(var r in e={},t)"object"==typeof t[r]&&null!=t[r]?e[r]=a.clone(t[r]):e[r]=t[r];return e},simpleMix:function(t,e,n,i){return e&&r(t,e),n&&r(t,n),i&&r(t,i),t}}),t.exports=a},function(t,e,n){var i=n(33);i.Facet=n(25),i.Rect=n(65),i.List=n(64),i.Circle=n(162),i.Tree=n(164),i.Mirror=n(163),t.exports=i},function(t,e,n){"use strict";function c(t,e,n){return{x:t.x+e*Math.cos(n),y:t.y+e*Math.sin(n)}}var i=n(1),r=n(33),g=n(3),p=n(25),a=function(t){a.superclass.constructor.call(this,t)};i.extend(a,r),i.augment(a,{getRegion:function(t,e){var n=this.plotRange,i=Math.min(n.getWidth(),n.getHeight())/2,r=2*Math.PI/t,a=-1*Math.PI/2+r*e,s=i/(1+1/Math.sin(r/2)),o=this.getCenter(),u=c(o,i-s,a);return this.getFacetRegion(u,s)},getFacetRegion:function(t,e){var n=3*Math.PI/4,i=-1*Math.PI*1/4;return{start:c(t,e,n),end:c(t,e,i)}},getCenter:function(){var t=this.plotRange,e=t.tl,n=t.getWidth(),i=t.getHeight(),r={x:e.x+n/2,y:e.y+i/2};return r},generateFacets:function(s){var o=this,t=o.dims,u=t[0];if(!u)throw new Error("Please specify for the field for facet!");var c=o.getDimValues(u,s),l=c.length,h=[],f=0;return i.each(c,function(t,e){var n=[{dim:u,value:t,values:c}],i=o.getFilter(n),r=g.filter(s,i),a=new p({type:o.type,xValue:t,xDim:u,colIndex:e,cols:l,rows:1,rowIndex:0,frame:r,region:o.getRegion(l,e),index:f++});h.push(a)}),h}}),t.exports=a},function(t,e,n){"use strict";var a=n(1),i=n(64),r=function(t){r.superclass.constructor.call(this,t),this._init()};a.extend(r,i),a.augment(r,{type:"mirror",transpose:!1,drawTitles:function(t,e){var n=this,i=n.dims,r=n.transpose?"col":"row";a.each(t,function(t){n.drawFacetTitle(r,t,e)}),n.drawDimTitle(r,i[0],e)},_init:function(){var t=this.dims,e=t[0];if(!e)throw new Error("Please specify for the field for facet!");this.transpose?(this.cols=2,this.rows=1):(this.cols=1,this.rows=2)},getRegion:function(t,e,n,i){var r,a,s=this.plotRange,o=this.margin,u=s.tl,c=s.br;a=1<e?(r=(c.x-u.x-o)/e,c.y-u.y):(r=c.x-u.x,(c.y-u.y-o)/t);var l={x:u.x+r*n+n*o,y:u.y+a*(i+1)+o*i},h={x:l.x+r,y:l.y-a};return{start:l,end:h}}}),t.exports=r},function(t,e,n){"use strict";var g=n(1),i=n(33),p=n(3),d=n(25),r=function(t){r.superclass.constructor.call(this,t)};g.extend(r,i),g.augment(r,{rootTitle:"",line:{stroke:"red"},smooth:!1,generateFacets:function(t){var e=this.dims;if(!e.length)throw new Error("Please specify for the fields for facet!");var n=[],i=this.getRootFacet(t);return n.push(i),i.children=this.getChildFacets(t,1,n),this.setRegion(n),n},getRows:function(){return this.dims.length+1},drawTitles:function(t,e){var n=this;n.drawLines(t,e),g.each(t,function(t){n.drawFacetTitle("col",t,e)})},drawLines:function(t,e){var n=this,i=e.addGroup();g.each(t,function(t){if(!n.isLeaf(t)){var e=t.children;n._addFacetLines(t,e,i)}})},_addFacetLines:function(t,e,a){var s=this,n=t.region,o={x:n.start.x+(n.end.x-n.start.x)/2,y:n.start.y};g.each(e,function(t){var e=t.region,n={x:e.start.x+(e.end.x-e.start.x)/2,y:e.end.y},i={x:o.x,y:o.y+(n.y-o.y)/2},r={x:n.x,y:i.y};s._drawLine([o,i,r,n],a)})},_getPath:function(t){var i="",e=this.smooth;if(e){var n=[];n.push(["M",t[0].x,t[0].y]),n.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]),i=n.join(" ")}else g.each(t,function(t,e){var n=0===e?"M {x} {y}":"L {x} {y}";i+=g.substitute(n,t)});return i},_drawLine:function(t,e){var n=this._getPath(t),i=this.line;e.addShape("Path",{attrs:g.mix({path:n},i)})},getRootFacet:function(t){var e=new d({type:this.type,rows:this.getRows(),rowIndex:0,colIndex:0,xValue:this.rootTitle,frame:t,index:0});return e},getChildFacets:function(s,o,u){var c=this,l=[],t=c.dims,e=t.length;if(e<o)return[];var h=t[o-1],f=c.getDimValues(h,s);return g.each(f,function(t,e){var n=[{dim:h,value:t,values:f}],i=c.getFilter(n),r=p.filter(s,i);if(r.rowCount()){var a=new d({type:c.type,xValue:t,xDim:h,colIndex:e,rows:c.getRows(),rowIndex:o,frame:r,children:c.getChildFacets(r,o+1,u),index:u.length});l.push(a),u.push(a)}}),l},getFacetsByLevel:function(t,e){var n=[];return g.each(t,function(t){t.rowIndex===e&&n.push(t)}),n},getRegion:function(t,e,n,i){var r=this.plotRange,a=this.margin,s=r.bl,o=r.tr,u=(o.x-s.x)/e,c=(o.y-s.y)/t,l={x:s.x+u*n+a,y:s.y+c*i-a},h={x:l.x+u-a,y:l.y+2*c/3+a};return{start:l,end:h}},getRegionIndex:function(t){var e=t[0],n=t[t.length-1];return(n.colIndex-e.colIndex)/2+e.colIndex},setRegion:function(t){var e=this;e.forceColIndex(t),g.each(t,function(t){t.region=e.getRegion(t.rows,t.cols,t.colIndex,t.rows-t.rowIndex-1)})},isLeaf:function(t){return!t.children||!t.children.length},forceColIndex:function(t){var e=this,n=[],i=0;g.each(t,function(t){e.isLeaf(t)&&(n.push(t),t.colIndex=i,i++)}),g.each(n,function(t){t.cols=n.length});for(var r=e.dims.length,a=r-1;0<=a;a--)for(var s=e.getFacetsByLevel(t,a),o=0;o<s.length;o++){var u=s[o];e.isLeaf(u)||(u.originColIndex=u.colIndex,u.colIndex=e.getRegionIndex(u.children),u.cols=n.length)}}}),t.exports=r},function(t,e,n){var h=n(1),s=n(20);h.augment(s,{row:function(t){var e=this.colNames(),n=[];return n.push(this._getObject(t,e)),new s(n,{names:e.slice(0)})},addRow:function(n){var t=this.colNames(),i=this.arr;h.each(t,function(t,e){i[e].push(n[t])})},rows:function(t){var e=this.colNames(),n=this.data,i=[];if(n)for(var r=0;r<t.length;r++)i.push(this._getObject(r,e));return new s(i,{names:e.slice(0)})},_getColArray:function(t,e,n){var i=this.arr,r=this.colNames(),a=[],s=this.rowCount(),o=h.map(t,function(t){return h.indexOf(r,t)});e=e||0,n=h.isNull(n)?s:n;for(var u=0;u<o.length;u++){var c=i[o[u]]||[],l=c.slice(e,n);a.push(l)}return a},col:function(t){var e,n=this.colNames();h.isString(t)?(e=t,t=h.indexOf(n,e)):e=n[t];var i=this._getColArray([e]);return new s(i,{names:[e]})},cols:function(t){for(var e=0;e<t.length;e++){var n=t[e];h.isNumber(n)&&(t[e]=this.names[n])}var i=this._getColArray(t);return new s(i,{names:t})},cell:function(t,e){var n=this.colNames(),i=this.arr;return h.isString(e)&&(e=h.indexOf(n,e)),i[e]?i[e][t]:void 0},clone:function(){var t=this.colNames(),e=this.toJSON();return new s(e,{names:t.slice(0)})},sub:function(t,e,n,i){var r,a=this.colNames();return t=t||0,e?e+=1:e=void 0,a=a.slice(t,e),h.isNull(n)||(i?i+=1:i=this.rowCount-1),r=this._getColArray(a,n,i),new s(r,{names:a})},toString:function(){var t=[],e=this.arr,n=this.colNames(),i=this.rowCount();t.push(n.join("\t"));for(var r=0;r<i;r++){for(var a=[],s=0;s<e.length;s++)a.push(e[s][r]);t.push(a.join("\t"))}return t.join("\n")},s:function(){return this.toString()}}),t.exports=s},function(t,e,n){function i(){var n,t=o.toArray(arguments);n=o.isString(t[0])?t.shift():"type";var i=[];return o.each(t,function(t,e){o.each(t,function(t){t[n]=e}),i=i.concat(t)}),new c(i)}function r(t,e,i,r,a){if(r=r||"type",o.isString(a)&&(a=[a]),!a){a=[];var n=t.colNames();o.each(n,function(t){-1===o.indexOf(e,t)&&a.push(t)})}var s=[];return t.each(function(n){o.each(e,function(t){var e={};e[i]=n[t],e[r]=t,u.mixIf(e,n,a),s.push(e)})}),new c(s)}function a(){var t=o.toArray(arguments),e=[],n=[];return o.each(t,function(t){e=e.concat(t.colNames()),n=n.concat(t.toArray())}),new c(n,{names:e})}var o=n(1),u=n(68),c=n(20),s=n(155);o.mix(c,{mean:function(t,e){var n=t.colArray(e);return n=u.formatArray(n),n=u.filterNull(n),s.mean(n)},geometric_mean:function(t,e){var n=t.colArray(e);return n=u.formatArray(n),n=u.filterNull(n),s.geometric_mean(n)},median:function(t,e){var n=t.colArray(e);return n=u.formatArray(n),n=u.filterNull(n),s.median(n)},max:function(t,e){var n=t.colArray(e);return n=u.formatArray(n),n=u.filterNull(n),s.max(n)},min:function(t,e){var n=t.colArray(e);return n=u.formatArray(n),n=u.filterNull(n),s.min(n)},mode:function(t,e){var n=t.colArray(e);return n=u.formatArray(n),n=u.filterNull(n),s.mode(n)},range:function(t,e){var n=c.max(t,e),i=c.min(t,e);return[i,n]},sum:function(t,e){var n=t.colArray(e);return n=u.formatArray(n),n=u.filterNull(n),s.sum(n)},quantile:function(t,e,n){var i=t.colArray(e);return i=u.formatArray(i),i=u.filterNull(i),s.quantile(i,n)},variance:function(t,e){var n=t.colArray(e);return n=u.formatArray(n),n=u.filterNull(n),s.variance(n)},sample_variance:function(t,e){var n=t.colArray(e);return n=u.formatArray(n),n=u.filterNull(n),s.sample_variance(n)},standard_deviation:function(t,e){var n=t.colArray(e);return n=u.formatArray(n),n=u.filterNull(n),s.standard_deviation(n)},sd:function(t,e){return c.standard_deviation(t,e)},se:function(t,e){var n=t.colArray(e);n=u.formatArray(n),n=u.filterNull(n);var i=s.sample_variance(n);return Math.sqrt(i)/Math.sqrt(n.length)},sortBy:function(t,e){return u.sort(t,e)},filter:function(t,n){var i=[];return n?(t.each(function(t,e){n(t,e)&&i.push(t)}),new c(i)):t},cumulative:function(t,e){var n=t.colArray(e);n=u.filterNull(n);var i=[],r=0;return o.each(n,function(t){r+=t,i.push(r)}),i},complement:function(t,e){var n=t.colNames().slice(0);return o.each(e,function(t){o.remove(n,t)}),t.cols(n)},forceMerge:function(){var t=o.toArray(arguments),n=[],i=[];return o.each(t,function(t){var e=t.colNames();o.each(e,function(t){-1===o.indexOf(n,t)&&n.push(t)})}),o.each(t,function(t){var e=t.toJSON();i=i.concat(e)}),new c(i,{names:n})},combine:a,combin:a,combineColumns:r,combinColumns:r,combineArray:i,combinArray:i}),c.Array={repeat:function(t,e){for(var n=[],i=0;i<e;i++)n.push(t);return n}},t.exports=c},function(t,e,n){"use strict";var i,r=n(1);i=function(t){(function t(e){if(!e._attrs&&e!==i){var n=e.superclass.constructor;n&&!n._attrs&&t(n),e._attrs={},r.mix(!0,e._attrs,n._attrs),r.mix(!0,e._attrs,e.ATTRS)}})(this.constructor),this._attrs={},this.events={};var e=this.getDefaultCfg();r.mix(this._attrs,e,t)},r.augment(i,{getDefaultCfg:function(){var t=this.constructor,e=t._attrs,n=r.mix(!0,{},e);return n},set:function(t,e){var n="_onRender"+r.ucfirst(t);return this[n]&&this[n](e,this._attrs[t]),this._attrs[t]=e,this},get:function(t){return this._attrs[t]},on:function(t,e){var n=this.events,i=n[t];return i||(i=n[t]=[]),i.push(e),this},fire:function(t,e){var n=this.events,i=n[t];i&&r.each(i,function(t){t(e)})},off:function(t,e){var n=this.events,i=n[t];return t?i&&r.remove(i,e):this.events={},this},destroy:function(){var t=this.destroyed;return t?this:(this._attrs={},this.events={},void(this.destroyed=!0))}}),t.exports=i},function(t,e){"use strict";function i(t,e,n){var i=new Date(n);switch(isNaN(i)&&(i=new Date),e=parseInt(e,10),t){case"s":i=new Date(i.getTime()+1e3*e);break;case"n":i=new Date(i.getTime()+6e4*e);break;case"h":i=new Date(i.getTime()+36e5*e);break;case"d":i=new Date(i.getTime()+864e5*e);break;case"w":i=new Date(i.getTime()+6048e5*e);break;case"m":i=new Date(i.getFullYear(),i.getMonth()+e,i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds());break;case"y":i=new Date(i.getFullYear()+e,i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds())}return i}var n=/^(?:(?!0000)[0-9]{4}([-\/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-\/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,r=function(){var p=/w{1}|d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,d=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,v=/[^-+\dA-Z]/g,m=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t},x={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUTCDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",localShortDate:"yy年mm月dd日",localShortDateTime:"yy年mm月dd日 hh:MM:ss TT",localLongDate:"yyyy年mm月dd日",localLongDateTime:"yyyy年mm月dd日 hh:MM:ss TT",localFullDate:"yyyy年mm月dd日 w",localFullDateTime:"yyyy年mm月dd日 w hh:MM:ss TT"},y={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","星期日","星期一","星期二","星期三","星期四","星期五","星期六"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};return function(t,e,n){if(1!==arguments.length||"[object String]"!==Object.prototype.toString.call(t)||/\d/.test(t)||(e=t,t=void 0),t=t||0===t?new Date(t):new Date,isNaN(t))throw SyntaxError("invalid date");"UTC:"===(e=String(x[e]||e||x.default)).slice(0,4)&&(e=e.slice(4),n=!0);var i=n?"getUTC":"get",r=t[i+"Date"](),a=t[i+"Day"](),s=t[i+"Month"](),o=t[i+"FullYear"](),u=t[i+"Hours"](),c=t[i+"Minutes"](),l=t[i+"Seconds"](),h=t[i+"Milliseconds"](),f=n?0:t.getTimezoneOffset(),g={d:r,dd:m(r,void 0),ddd:y.dayNames[a],dddd:y.dayNames[a+7],w:y.dayNames[a+14],m:s+1,mm:m(s+1,void 0),mmm:y.monthNames[s],mmmm:y.monthNames[s+12],yy:String(o).slice(2),yyyy:o,h:u%12||12,hh:m(u%12||12,void 0),H:u,HH:m(u,void 0),M:c,MM:m(c,void 0),s:l,ss:m(l,void 0),l:m(h,3),L:m(99<h?Math.round(h/10):h,void 0),t:u<12?"a":"p",tt:u<12?"am":"pm",T:u<12?"A":"P",TT:u<12?"AM":"PM",Z:n?"UTC":(String(t).match(d)||[""]).pop().replace(v,""),o:(0<f?"-":"+")+m(100*Math.floor(Math.abs(f)/60)+Math.abs(f)%60,4),S:["th","st","nd","rd"][3<r%10?0:(r%100-r%10!=10)*r%10]};return e.replace(p,function(t){return t in g?g[t]:t.slice(1,t.length-1)})}}(),a={add:function(t,e,n){return i(t,e,n)},addHour:function(t,e){return i("h",t,e)},addMinute:function(t,e){return i("n",t,e)},addSecond:function(t,e){return i("s",t,e)},addDay:function(t,e){return i("d",t,e)},addWeek:function(t,e){return i("w",t,e)},addMonths:function(t,e){return i("m",t,e)},addYear:function(t,e){return i("y",t,e)},isDateEquals:function(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()},isEquals:function(t,e){return t===e||!(!t||!e)&&!(!t.getTime||!e.getTime)&&t.getTime()===e.getTime()},isDateString:function(t){return n.test(t)},format:function(t,e,n){return r(t,e,n)},parse:function(t){return"string"==typeof t&&(t=t.replace(/-/g,"/")),function(t){return t instanceof Date?t:new Date(t)}(t)},today:function(){var t=new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate())},getDate:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())}};t.exports=a},function(t,e){"use strict";function g(t,e,n){var i=T,r=A,a=[];t?r--:i--;for(var s=0;s<i;s++){a[s]=[];for(var o=0;o<r;o++){var u,c;if(a[s][o]={},u=e[s][o][2],c=t?e[s][o+1][2]:e[s+1][o][2],p(u,c))a[s][o].rate=-2,a[s][o].have_iso_point=!1;else{var l=p(n,u),h=p(n,c),f=(n-u)*(n-c);if(l||h){l?u+=C:c+=C;var g=a[s][o].rate=(n-u)/(c-u);a[s][o].have_iso_point=0<g&&g<1}else 0<f?(a[s][o].rate=-2,a[s][o].have_iso_point=!1):f<0&&(a[s][o].rate=(n-u)/(c-u),a[s][o].have_iso_point=!0)}}}return a}function p(t,e){return Math.abs(t-e)<1e-9}function d(t,e,n,i){var r=0,a=0,s=y(),o=y();for(r=0;r<T-1;r++)e[r][0].have_iso_point&&(s=y(r,-1,!1),o=y(r,0,!1),u(s,o,n,i,t,e));for(a=0;a<A-1;a++)t[T-1][a].have_iso_point&&(s=y(T,a,!0),o=y(T-1,a,!0),u(s,o,n,i,t,e));for(r=0;r<T-1;r++)e[r][A-1].have_iso_point&&(s=y(r,A,!1),o=y(r,A-1,!1),u(s,o,n,i,t,e));for(a=0;a<A-1;a++)t[0][a].have_iso_point&&(s=y(-1,a,!0),o=y(0,a,!0),u(s,o,n,i,t,e))}function u(t,e,n,i,r,a){var s=!1,o={value:n,path:[]};for(_(e,r,a),o.path.push(x(e,r,a));!s&&l(e,t,r,a,o);)s=!e.row&&e.isHorizon||!e.col&&!e.isHorizon||e.row==T-1||e.col==A-1;i.push(o)}function x(t,e,n){var i=t.row,r=t.col,a=t.isHorizon,s=m+i*w,o=S+r*M;return a?o+=e[i][r].rate*M:s+=n[i][r].rate*w,[s,o]}function y(t,e,n){return{row:t||0,col:e||0,isHorizon:n||0,clone:i}}function i(t){this.row=t.row,this.col=t.col,this.isHorizon=t.isHorizon}function _(t,e,n){var i=t.row,r=t.col,a=t.isHorizon;return a?e[i][r].have_iso_point=!1:n[i][r].have_iso_point=!1,t}function l(t,e,n,i,r){var a,s,o,u,c,l=y(),h=y(),f=y();!function(t,e,n,i,r){i.row>r.row?(t.clone(i),t.isHorizon=!1,e.clone(t),e.col+=1,n.clone(i),n.row+=1):i.col>r.col?(e.clone(i),e.isHorizon=!0,t.clone(e),t.row+=1,n.clone(i),n.col+=1):i.isHorizon?(e.clone(i),e.row-=1,e.isHorizon=!1,t.clone(e),t.col+=1,n.clone(i),n.row-=1):(t.clone(i),t.col-=1,t.isHorizon=!0,e.clone(t),e.row+=1,n.clone(i),n.col-=1)}(l,h,f,t,e);for(var g=[l,h,f],p=[],d={},v=!1,m=0;m<3;m++)p[m]=(a=n,s=i,u=(o=g[m]).row,c=o.col,o.isHorizon?a[u][c].have_iso_point:s[u][c].have_iso_point);if(p[0]&&p[1]&&p[2])d=b(t,g[0],n,i)<b(t,g[1],n,i)?_(g[0],n,i):_(g[1],n,i),v=!0;else for(var m=0;m<3;m++)if(p[m]){d=_(g[m],n,i),v=!0;break}return v&&(r.path.push(x(d,n,i)),e.clone(t),t.clone(d)),v}function b(t,e,n,i){var r=x(t,n,i),a=x(e,n,i),s=r.x-a.x,o=r.y-a.y;return Math.sqrt(s*s+o*o)}function v(t,e,n,i){var r,a,s=y(),o=y();for(a=0;a<A-1;a++)for(r=0;r<T-1;r++)e[r][a].have_iso_point&&(s=y(r,0,!1),o=y(r,a,!1),c(s,o,t,e,n,i))}function c(t,e,n,i,r,a){var s=e.row,o=e.col,u=!1,c={value:r,path:[]};for(c.path.push(x(e,n,i));!u&&l(e,t,n,i,c);)u=e.row==s&&e.col==o&&!e.isHorizon;a.push(c)}var m,w,S,M,T=0,A=0,C=.001;t.exports=function(t,e){var n,i,r,a,s,o,u=[],c=[],l=[];(T=(i=t).length)&&(A=i[0].length),1<T&&1<A&&(m=i[0][0][0],S=i[0][0][1],w=i[1][0][0]-i[0][0][0],M=i[0][1][1]-i[0][0][1]);for(var h=0;h<e.length;h++){n=e[h];var f=(s=g(!void 0,r=r=t,a=a=n),o=g(!1,r,a),[s,o]);u=f[0],c=f[1],d(u,c,n,l),v(u,c,n,l)}return l}},[339,171,70],function(t,e,n){"use strict";function c(t,e,n,i){var r=t[i]+(e[i]-t[i])*n;return r}var l=n(70),i=n(1);t.exports={calColor:function(t,e,n){var i,r=t.length-1,a=Math.floor(r*e),s=r*e-a,o=t[a],u=a===r?o:t[a+1];return i="hsl"===n?l.hsl2Rgb([c(o,u,s,0),c(o,u,s,1),c(o,u,s,2)]):(i={r:c(o,u,s,0),g:c(o,u,s,1),b:c(o,u,s,2)},"#"+l.toHex(i.r)+l.toHex(i.g)+l.toHex(i.b))},lightness:function(t,e){var n=[[e=e||0,1,.9],[e,1,.5]];return this.calColor(n,t,"hsl")},red:function(t){return this.lightness(t,0)},blue:function(t){return this.lightness(t,.66)},green:function(t){return this.lightness(t,.33)},gradient:function(t){var e=this,n=[];return i.isString(t)&&(t=t.split("-")),i.each(t,function(t){-1===t.indexOf("#")&&(t=l.toRGB(t)),n.push(l.rgb2arr(t))}),function(t){return e.calColor(n,t)}},gradientHsl:function(t){var e=this,n=[];return i.isString(t)&&(t=t.split("-")),i.each(t,function(t){-1===t.indexOf("#")&&(t=l.toRGB(t)),n.push(l.rgb2hsl(t))}),function(t){return e.calColor(n,t,"hsl")}},saturation:function(t,e){var n=[[e=e||0,0,.5],[e,1,.5]];return this.calColor(n,t,"hsl")},hue:function(t){return this.calColor([[0,1,.5],[1,1,.5]],t,"hsl")},brightness:function(t){return this.calColor([[255,255,255],[0,0,0]],t)},heat:function(t){return this.calColor([[255,255,255],[255,127.5,0],[0,0,0]],t)},rainbow:function(t){return this.calColor([[0,255,255],[0,0,255],[0,255,0],[255,0,0]],t)},circular:function(t){return this.calColor([[0,0,255],[0,255,0],[255,255,0],[255,0,0],[0,0,255]],t)},bipolar:function(t){return this.calColor([[0,255,0],[0,0,0],[255,0,0]],t)}}},function(t,e,n){"use strict";var r=n(2),i=n(34),a=n(4),s=n(7),o=a.Vector2,u=function(t){u.superclass.constructor.call(this,t)};r.extend(u,i),u.CFG={type:"circle",tickInterval:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,grid:{line:{lineWidth:1,stroke:"#C0D0E0"}},labelOffset:5},r.augment(u,{parseTick:function(t,e,n){return{text:t,value:e/n}},_getCirclePoint:function(t,e){var n=this.get("center");return e=e||this.get("radius"),{x:n.x+Math.cos(t)*e,y:n.y+Math.sin(t)*e}},getTickPoint:function(t){var e=this.get("startAngle"),n=this.get("endAngle"),i=e+(n-e)*t;return this._getCirclePoint(i)},getSideVector:function(t,e){var n=this.get("center"),i=new o(e.x-n.x,e.y-n.y);return t&&i.setLength(t),i},getSidePoint:function(t,e){var n=this.getSideVector(e,t);return{x:t.x+n.x,y:t.y+n.y}},getTickEnd:function(t,e){var n=this.get("tickLine");return e=e||n.value,this.getSidePoint(t,e)},getTextAnchor:function(t){var e;return s.equal(t.x,0)?e="center":0<t.x?e="left":t.x<0&&(e="right"),e},getLinePath:function(){var t=this.get("center"),e=t.x,n=t.y,i=this.get("radius"),r=i,a=this.get("startAngle"),s=this.get("endAngle"),o=this.get("inner"),u=[];if(Math.abs(s-a)===2*Math.PI)u=[["M",e,n],["m",0,-r],["a",i,r,0,1,1,0,2*r],["a",i,r,0,1,1,0,-2*r],["z"]];else{var c=this._getCirclePoint(a),l=this._getCirclePoint(s),h=Math.abs(s-a)>Math.PI?1:0,f=s<a?0:1;if(o){var g=this.getSideVector(o*i,c),p=this.getSideVector(o*i,l),d={x:g.x+e,y:g.y+n},v={x:p.x+e,y:p.y+n};u=[["M",d.x,d.y],["L",c.x,c.y],["A",i,r,0,h,f,l.x,l.y],["L",v.x,v.y],["A",i*o,r*o,0,h,Math.abs(f-1),d.x,d.y]]}else u=[["M",e,n],["L",c.x,c.y],["A",i,r,0,h,f,l.x,l.y],["L",e,n]]}return u},addLabel:function(t,e,n,i){var r=this.get("labelOffset")||.001;e=this.getSidePoint(e,r),u.superclass.addLabel.call(this,t,e,n,i)},autoRotateLabels:function(){var a=this.get("ticks"),t=this.get("labelsGroup");if(t&&12<a.length){var e=this.get("radius"),s=this.get("startAngle"),n=this.get("endAngle"),o=n-s,i=o/(a.length-1),u=Math.sin(i/2)*e*2,c=this.getMaxLabelWidth(t);r.each(t.get("children"),function(t,e){var n=a[e],i=n.value*o+s,r=i%(2*Math.PI);c<u?(r<=0&&(i+=Math.PI),r>Math.PI&&(i-=Math.PI),i-=Math.PI/2,t.attr("textAlign","center")):r>Math.PI/2?i-=Math.PI:r<Math.PI/2*-1&&(i+=Math.PI),t.rotateAtStart(i)})}}}),t.exports=u},function(t,e,n){"use strict";function i(t){i.superclass.constructor.call(this,t)}var r=n(6).Group,h=n(2),o="x-chart-grid";h.extend(i,r),i.CFG={zIndex:1,elCls:o,type:"line",line:null,items:null,odd:null,even:null,animate:!1,matrix:null,duration:1e3},h.augment(i,{_renderUI:function(){i.superclass._renderUI.call(this),this._drawLines()},_drawLines:function(){var t=this.get("line"),e=this.get("items");e&&0<e.length&&(this._precessItems(e),this._drawGridLines(e,t,o+"-line"))},_precessItems:function(t){var n,i=this;h.each(t,function(t,e){n&&(i.get("odd")||i.get("even"))&&i._drawOddEven(t,n,e),n=t})},_drawGridLines:function(t,e,n){var i,r,a,s,o=this,u=this.get("type"),c=this.get("smooth"),l=this.get("start");"line"===u||"polygon"===u?h.each(t,function(t){l&&l.x===t[0].x&&t[0].y===l.y||(c?(r=[],h.each(t,function(t){r.push(t.x),r.push(t.y)}),(a=h.catmullRom2bezier(r)).unshift(["M",t[0].x,t[0].y])):(a=[],h.each(t,function(t,e){0===e?a.push(["M",t.x,t.y]):a.push(["L",t.x,t.y])})),s=h.mix({},e,{path:a}),(i=o.addShape("path",{elCls:n,attrs:s})).animateType="gridLine",i.id=t.id+"grid",o.set("gridLine"+n,i))}):h.each(t,function(t){l&&l.x===t[0].x&&t[0].y===l.y||(a=[],h.each(t,function(t,e){var n=t.radius;0===e?a.push(["M",t.x,t.y]):a.push(["A",n,n,0,0,t.flag,t.x,t.y])}),s=h.mix({},e,{path:a}),(i=o.addShape("path",{elCls:n,attrs:s})).animateType="gridLine",i.id=t.id+"grid",o.set("gridLine"+n,i))})},_drawOddEven:function(t,e,n){var i,r,a=this.get("odd"),s=this.get("even");n%2==0?s&&(r=this._getBackItem(e,t,s),i="even"):a&&(r=this._getBackItem(e,t,a),i="odd"),r&&this.addShape("Path",{elCls:o+"-"+i,attrs:r})},_getBackItem:function(t,e,n){var i=[],r=this.get("type");if("line"===r||"polygon"===r){h.each(t,function(t,e){0===e?i.push(["M",t.x,t.y]):i.push(["L",t.x,t.y])});for(var a=e.length-1;0<=a;a--){var s=e[a];i.push(["L",s.x,s.y])}i.push(["Z"])}else{var o=t[0].flag;h.each(t,function(t,e){var n=t.radius;0===e?i.push(["M",t.x,t.y]):i.push(["A",n,n,0,0,t.flag,t.x,t.y])});for(var u=e.length-1;0<=u;u--){var c=e[u],l=c.radius;u===e.length-1?i.push(["M",c.x,c.y]):i.push(["A",l,l,0,0,1===o?0:1,c.x,c.y])}}return n=h.mix({},n,{path:i})}}),t.exports=i},function(t,e,n){"use strict";var i=n(2),r=n(34),a=n(4),s=a.Vector2,o=function(t){o.superclass.constructor.call(this,t)};i.extend(o,r),o.CFG={type:"helix",grid:{line:{"stroke-width":1,stroke:"#C0D0E0"}},labelOffset:5,startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,a:0,center:null,axisStart:null,crp:[]},i.augment(o,{getLinePath:function(){var t=this.get("crp"),e=this.get("axisStart"),n=i.catmullRom2bezier(t);return n.unshift(["M",e.x,e.y]),n},getTickPoint:function(t){var e=this.get("startAngle"),n=this.get("endAngle"),i=e+(n-e)*t;return this._getHelixPoint(i)},_getHelixPoint:function(t){var e=this.get("center"),n=this.get("a"),i=n*t;return{x:e.x+Math.cos(t)*i,y:e.y+Math.sin(t)*i}},getSideVector:function(t,e){var n=this.get("center"),i=new s(e.x-n.x,e.y-n.y);return t&&i.setLength(t),i},getSidePoint:function(t,e){var n=this.getSideVector(e,t);return{x:t.x+n.x,y:t.y+n.y}},getTickEnd:function(t,e){var n=this.get("tickLine");return e=e||n.value,this.getSidePoint(t,e)}}),t.exports=o},function(t,e,n){var i=n(71);i.Abstract=n(34),i.Circle=n(172),i.MultLine=n(176),i.Helix=n(174),t.exports=i},function(t,e,n){"use strict";var a=n(2),i=n(71),r=n(4),u=r.Vector2,s=function(t){s.superclass.constructor.call(this,t)};s.CFG={type:"multLine"},a.extend(s,i),a.augment(s,{getLinePath:function(){var t=this.get("tickPoints"),e=this.get("start"),n=this.get("end"),i=[];i.push(e.x),i.push(e.y),a.each(t,function(t){i.push(t.x),i.push(t.y)}),i.push(n.x),i.push(n.y);var r=a.catmullRom2bezier(i);return r.unshift(["M",e.x,e.y]),r},getTickPoint:function(t,e){var n=this.get("tickPoints");return n[e]},getTickEnd:function(t,e,n){var i=this.get("tickLine"),r=e||i.value,a=this.getSideVector(r,t,n);return{x:t.x+a.x,y:t.y+a.y}},getSideVector:function(t,e,n){var i;if(0===n)i=this.get("start");else{var r=this.get("tickPoints");i=r[n-1]}var a=new u(e.x-i.x,e.y-i.y),s=a.normalize(),o=s.vertical(!1);return o.multiplyScaler(t)}}),t.exports=s},function(t,e,n){"use strict";var o=n(2),i=n(73),r=function(){};r.ATTRS={labels:null},o.augment(r,{renderLabels:function(){var t,e=this.get("labels");e&&(e.items||(e.items=[]),o.isNull(e.animate)&&(e.animate=this.get("animate")),t=this.addGroup(i,e),this.set("labelsGroup",t))},resetLabels:function(t){var i=this,e=i.get("labels");if(e){var r=i.get("labelsGroup"),a=r.getLabels(),s=a.length;t=t||e.items,o.each(t,function(t,e){if(e<s){var n=a[e];r.changeLabel(n,t)}else i.addLabel(t.text,t)});for(var n=s-1;n>=t.length;n--)a[n].remove()}},addLabel:function(t,e){var n,i=this.get("labelsGroup"),r={};return i&&(r.text=t,r.x=e.x,r.y=e.y,r.point=e,r.textAlign=e.textAlign,r.id=e.id,e.rotate&&(r.rotate=e.rotate),n=i.addLabel(r)),n},removeLabels:function(){var t=this.get("labelsGroup");t&&t.remove(),this.set("labelsGroup",null)}}),t.exports=r},function(t,e,n){"use strict";function c(t,e){var n=null;return d.each(t,function(t){if(t.name===e.get("value"))return n=t,!1}),n}var d=n(2),i=n(74),l=n(42),r=n(46),a=function(t){a.superclass.constructor.call(this,t)};a.CFG={type:"category-legend",items:null,spacingX:5,spacingY:10,wordSpaceing:2,itemsGroup:null,layout:"horizontal",leaveChecked:!0,backPadding:[0,0,0,0],checkable:!0,itemsbeginX:0,itemsbeginY:0,unChecked:"#CCC",back:null,itemWrap:!1,maxLength:100,formatter:null},d.extend(a,r),d.augment(a,i,{_formatPoint:function(t){var e=this.get("formatter");return e&&(t=e.call(this,t)),t},_beforeRenderUI:function(){a.superclass._beforeRenderUI.call(this),this.set("back",{})},_renderUI:function(){a.superclass._renderUI.call(this),this._renderTitle(),this._renderItems(),this._wrapItems(),this._renderBack(),this.setPosition()},_wrapItems:function(){var t=this.get("itemWrap"),e=this.get("layout"),n=this.get("maxLength");t&&0<n&&("horizontal"===e?this._warpHorizontal():"vertical"===e&&this._warpVertical())},_warpVertical:function(){var e,n,i,r,t=this.get("itemsGroup"),a=this.get("titleShape"),s=t.get("children"),o=this.get("maxLength"),u=this.get("spacingX"),c=this.get("spacingY"),l=a.getBBox().height+c,h=l,f=0,g=0,p=0;t.getBBox().height>o&&d.each(s,function(t){r=t.getBBox(),n=r.width+u,i=r.height+c,g=(f=g)<n?n:g,e=h,o<(h+=i)?(p+=f,h=i+l,f=g=0,t.move(p,l)):t.move(p,e)})},_warpHorizontal:function(){var e,n,i,t=this.get("itemsGroup"),r=t.get("children"),a=this.get("maxLength"),s=this.get("spacingX"),o=this.get("spacingY"),u=1,c=0,l=0;t.getBBox().width>a&&d.each(r,function(t){i=t.getBBox(),e=i.width+s,n=i.height+o,l=c,a<(c+=e)?(c=e,u++,t.move(0,u*n)):t.move(l,u*n)})},_bindUI:function(){this._bindOverOut(),this._bindClick()},_bindClick:function(){var t=this.get("checkable");t&&this.on("click",d.wrapBehavior(this,"_onClick"))},_bindOverOut:function(){this.on("mouseenter",d.wrapBehavior(this,"_onMouseenter")),this.on("mouseleave",d.wrapBehavior(this,"_onMouseleave"))},_onClick:function(t){var e,n,i,r,a=this.get("leaveChecked"),s=this._getLi(t.currentTarget),o=this.get("items");if(s){var u=c(o,s);if(r=s.get("checked"),(e=new l("itemclick",t)).item=u,this.trigger(e),a&&r&&1===this.getLeaveCount())return;r?((i=new l("itemunchecked",t)).item=u,i.currentTarget=s,this.trigger(i)):((n=new l("itemchecked",t)).item=u,n.currentTarget=s,this.trigger(n))}},_onMouseenter:function(t){var e=this.get("canvas"),n=this._getLi(t.currentTarget);if(n){var i=new l("itemover",t),r=t.currentTarget,a=r.get("canvas").get("el");i.item=n,this.trigger(i),d.modiCSS(a,{cursor:"pointer"});var s=this.get("items"),o=c(s,n);if(n.get("checked")){var u=new l("itemactived",t);u.item=o,u.currentTarget=n,this.trigger(u),e.draw()}}},_onMouseleave:function(t){var e=this.get("canvas"),n=this._getLi(t.currentTarget);if(n){var i=new l("itemout",t),r=e.get("el");if(i.item=n,this.trigger(i),d.modiCSS(r,{cursor:"default"}),n.get("checked")){var a=new l("itemunactived",t);this.trigger(a),e.draw()}}},_renderBack:function(){var t=this.get("itemsGroup"),e=this.get("backPadding"),n=this.get("back");t.renderBack(e,n)},_renderItems:function(){var n=this,t=n.get("items");d.each(t,function(t,e){n._addItem(t,e)})},_addItem:function(t){var e=this.get("itemsGroup"),n=this._getNextX(),i=this._getNextY(),r=this.get("unChecked"),a={words:[{text:this._formatPoint(t.name)}]};t.marker&&(t.checked||(t.marker.fill=r,t.marker.stroke&&(t.marker.stroke=r),d.isObject(t.word)||(t.word={}),t.word.fill=r),a.marker=t.marker),this.addEachItem(e,{word:t.word,wordSpaceing:this.get("wordSpaceing"),x:n,y:i,items:a,class:"legend-item",checked:t.checked,value:t.name})},_getNextX:function(){var t=this.get("layout"),e=this.get("spacingX"),n=this.get("itemsGroup"),i=n.get("children"),r=0;return"horizontal"===t&&d.each(i,function(t){r+=t.getBBox().width+e}),r},_getNextY:function(){var e=this.get("spacingY"),t=this.get("layout"),n=this.get("itemsGroup"),i=this.get("titleShape"),r=n.get("children"),a=i.getBBox().height+e;return"vertical"===t&&d.each(r,function(t){a+=t.getBBox().height+e}),a},_getLi:function(t){var e=t.get("parent");return"legend-item"===e.get("class")?e:null}}),t.exports=a},function(t,e,n){"use strict";var l=n(2),i=n(46),u=n(32),c=n(42),s=n(6).Group,o=n(76),h=function(t){h.superclass.constructor.call(this,t)};h.CFG={type:"continuous-legend",items:null,layout:"vertical",width:200,height:60,attrType:null,titleOffset:20,nameOffset:10,range:[0,100],outRange:{fill:"#ccc"},inRange:{fill:"#4E7CCC"},word:{fill:"#333",textAlign:"center",textBaseline:"middle"},middleAttr:{fill:"#fff",fillOpacity:0},checkable:!0,attr:null},l.extend(h,i),l.augment(h,{_calStartPoint:function(){var t=this.get("titleShape"),e=t.getBBox(),n=this.get("titleOffset"),i={x:0,y:e.height+n};return i},_beforeRenderUI:function(){var t=this.get("items");if(l.isArray(t)&&t.length){h.superclass._beforeRenderUI.call(this);var e=new s,n=new s,i=new s,r=this._calStartPoint(),a=this.addGroup(o,{minHandleElement:e,maxHandleElement:n,backgroundElement:i,middleAttr:this.get("middleAttr"),layout:this.get("layout"),range:this.get("range"),width:this.get("width"),height:this.get("height"),operable:this.get("checkable")});a.translate(r.x,r.y),this.set("rangeElement",a),this.set("firstItem",t[0]),this.set("lastItem",t[t.length-1])}},_bindUI:function(){var t=this.get("checkable");if(t){var o=this,e=o.get("rangeElement");e.on("rangeChange",function(t){var e=t.range,n=1*o.get("firstItem").name,i=1*o.get("lastItem").name,r=parseInt(n+e[0]/100*(i-n),10)+"",a=parseInt(n+e[1]/100*(i-n),10)+"";o._updateElement(r,a);var s=new c("itemfiltered",t);s.range=[r,a],o.trigger(s)})}},_updateElement:function(t,e){var n=this.get("minTextElement"),i=this.get("maxTextElement");if(n.attr("text",t),i.attr("text",e),"color"===this.get("attrType")){var r=this.get("attr"),a=this.get("minButtonElement"),s=this.get("maxButtonElement");a.attr("fill",r.mappingValues(t).join("")),s.attr("fill",r.mappingValues(e).join(""))}},_renderUI:function(){h.superclass._renderUI.call(this),this._renderBackground(),this._renderTrigger()},_renderBackground:function(){var t,e=this.get("attrType"),n=this.get("rangeElement"),i=n.get("middleHandleElement");"color"===e?t=this._renderGradient():"size"===e&&(t=this._renderTriangle()),t.attr("clip",i)},_renderGradient:function(){var e,t=this.get("rangeElement"),n=t.get("backgroundElement"),i=this.get("width"),r=this.get("height"),a=this.get("layout"),s=this.get("items"),o="";return"vertical"===a?(o+="l (90) ",l.each(s,function(t){e=new u(t.color).getRGBStyle(),o+=1-t.value+":"+e+" "})):(o+="l (0) ",l.each(s,function(t){e=new u(t.color).getRGBStyle(),o+=t.value+":"+e+" "})),this._addBackground(n,"Rect",{x:0,y:0,width:i,height:r,fill:o,strokeOpacity:0})},_renderTriangle:function(){var t=this.get("rangeElement"),e=t.get("backgroundElement"),n=this.get("width"),i=this.get("height"),r=this.get("inRange"),a=this.get("layout"),s="vertical"===a?[[0,0],[n,0],[n,i]]:[[0,i],[n,0],[n,i]];return this._addBackground(e,"Polygon",l.mix({points:s},r))},_addBackground:function(t,e,n){t.addShape(e,{attrs:l.mix({},n,this.get("outRange"))});var i=t.addShape(e,{attrs:n});return i},_renderTrigger:function(){var t,e,n,i,r=this.get("firstItem"),a=this.get("lastItem"),s=this.get("layout"),o=this.get("attrType"),u=this.get("word"),c=this.get("inRange");e="color"===o?(t={fill:r.color},{fill:a.color}):(t=l.mix({},c),l.mix({},c)),n=l.mix({text:r.name},u),i=l.mix({text:a.name},u),"vertical"===s?(this._addVerticalTrigger("min",t,n),this._addVerticalTrigger("max",e,i)):(this._addHorizontalTrigger("min",t,n),this._addHorizontalTrigger("max",e,i))},_addVerticalTrigger:function(t,e,n){var i=this.get("rangeElement"),r=i.get(t+"HandleElement"),a=this.get("width"),s=r.addShape("polygon",{attrs:l.mix({points:[[a/2+16,0],[a/2+1,0],[a/2+16,"min"===t?16:-16]]},e)}),o=r.addShape("text",{attrs:l.mix(n,{x:a+8,y:"max"===t?-8:8,textAlign:"start",textBaseline:"middle"})}),u=this.get("layout"),c="vertical"===u?"ns-resize":"ew-resize";s.set("cursor",c),o.set("cursor",c),this.set(t+"ButtonElement",s),this.set(t+"TextElement",o)},_addHorizontalTrigger:function(t,e,n){var i=this.get("rangeElement"),r=i.get(t+"HandleElement"),a=r.addShape("polygon",{attrs:l.mix({points:[[0,0],[0,-16],["min"===t?-16:16,-16]]},e)}),s=r.addShape("text",{attrs:l.mix(n,{x:"min"===t?-8:8,y:-24,textAlign:"min"===t?"end":"start",textBaseline:"middle"})}),o=this.get("layout"),u="vertical"===o?"ns-resize":"ew-resize";a.set("cursor",u),s.set("cursor",u),this.set(t+"ButtonElement",a),this.set(t+"TextElement",s)}}),t.exports=h},function(t,e,n){var i=n(46);i.Category=n(178),i.Continuous=n(179),t.exports=i},function(t,e,n){"use strict";var h=n(2),i=n(6).Group,f=n(75),r=function(t){r.superclass.constructor.call(this,t)};r.CFG={type:"plotBack",margin:null,border:null,plotRange:null,background:null},h.extend(r,i),h.augment(r,{_beforeRenderUI:function(){this._calculateRange()},_renderUI:function(){this._renderBorder(),this._renderBackground()},_renderBorder:function(){var t,e=this.get("border"),n=this.get("canvas"),i=this.get("borderShape");if(e){var r=this.get("width")||n.get("width"),a=this.get("height")||n.get("height");i?i.attr({x:0,y:0,width:r,height:a}):(t=h.mix({x:0,y:0,width:r,height:a},e),i=this.addShape("rect",{attrs:t}),this.set("borderShape",i))}},_renderBackground:function(){var t,e,n,i,r=this.get("background"),a=this.get("plotRange"),s=this.get("backShape");r&&(t=a.getWidth(),e=a.getHeight(),n=a.tl,i={x:n.x,y:n.y,width:t,height:e},s?s.attr(i):(s=r.image?(i.img=r.image,this.addShape("image",{attrs:i})):(h.mix(i,r),this.addShape("rect",{attrs:i})),this.set("backShape",s)))},_calculateRange:function(){var t,e,n=this.get("margin"),i=this.get("canvas"),r=this.get("width")||i.get("width"),a=this.get("height")||i.get("height"),s=this.get("plotRange"),o=0,u=0,c=0,l=0;h.isNumber(n)&&(o=u=c=l=n),h.isArray(n)&&(o=n[0],c=h.isNull(n[1])?n[0]:n[1],l=h.isNull(n[2])?n[0]:n[2],u=h.isNull(n[3])?c:n[3]),t={x:u,y:a-l},e={x:r-c,y:o},s?s.reset(t,e):(s=new f(t,e),this.set("plotRange",s))},repaint:function(){return this._calculateRange(),this._renderBorder(),this._renderBackground(),this}}),t.exports=r},function(t,e,n){"use strict";function u(t,e){return t.getElementsByClassName(e)[0]}var m=n(2),x=n(4),i=n(6).Group,r=n(74),o="ac-title",c="ac-list",f=[10,10,10,10],s=function(t){s.superclass.constructor.call(this,t)};s.CFG={zIndex:10,x:0,y:0,items:null,title:{},name:{},value:{},crossLine:{stroke:"#999",lineWidth:1},markerCfg:null,titleText:void 0,wordSpaceing:6,crosshairs:!1,titleShape:null,contentGroup:null,crossLineShapeX:null,crossLineShapeY:null,backShape:null,plotRange:null,shared:!1,offset:10,animate:!0,duration:50,visible:!1,valueSplit:"",valueSuffix:"",custom:!1,customDiv:null,customFollow:!0,timeStamp:0,html:'<div class="ac-tooltip" style="position:absolute;visibility: hidden;"><h4 class="'+o+'"></h4><ul class="'+c+'"></ul></div>',itemTpl:'<li><span style="color:{color}">{name}</span> : {value}</li>'},m.extend(s,i),m.augment(s,r,{_beforeRenderUI:function(){var t=this.get("custom"),e=this.get("crossLine"),n=this.addGroup({attrs:e}),i=this.addGroup({zIndex:10,attrs:{fill:"#fff",textAlign:"left"}});this.set("crossLineGroup",n),this.set("contentGroup",i),this.set("itemsGroup",i.addGroup()),t&&this._setCustomDiv()},_renderUI:function(){if(this.get("items")){var t=this.get("custom");t?this._renderCustom():this._renderContent()}this._renderCrossLine()},_renderContent:function(){var a=this,t=a.get("items"),e=a.get("title"),n=a.get("titleText"),s=a.get("name"),o=a.get("value"),u=a.get("valueSplit"),c=a.get("valueSuffix"),l=a.get("markerCfg"),h=this.get("itemsGroup");if(h&&h.clear(),e){var i=a.addEachItem(h,{x:f[3],y:f[0]+8,items:{words:[{text:n}],attrs:e}});this.set("titleShape",i.getFirst())}m.each(t,function(t,e){var n=m.mix({},s,{text:t.name?t.name+":":""}),i=m.mix({},o,{text:t.value+u+c});!0===t.marker&&(t.marker="circle");var r=t.marker?{symbol:t.marker,fill:t.color}:{};a.addEachItem(h,{x:f[3],y:20*(e+1)+f[0]+8,items:{color:t.color,words:[n,i],marker:m.mix(r,l)}})}),h.renderBack(f,{radius:6,fill:"#000",fillOpacity:.7})},_renderCrossLine:function(){var t=this.get("crosshairs"),e=this.get("canvas"),n=this.get("plotRange");if(t)switch(this.clearCrossLineGroup(),t.type){case"x":this._renderCrossLineX(e,n);break;case"y":this._renderCrossLineY(e,n);break;case"cross":this._renderCrossLineX(e,n),this._renderCrossLineY(e,n);break;default:this._renderCrossLineY(e,n)}},_renderCrossLineY:function(t,e){var n=m.mix({x1:0,y1:e?e.bl.y:t.get("height"),x2:0,y2:e?e.tl.y:0},this.get("crossLine"));"dash"===this.get("crosshairs").shape&&(n.lineDash="6 3"),this._addCrossLineShape(n,"Y")},_renderCrossLineX:function(t,e){var n=m.mix({x1:e?e.bl.x:t.get("width"),y1:0,x2:e?e.br.x:0,y2:0},this.get("crossLine"));"dash"===this.get("crosshairs").shape&&(n.lineDash="6 3"),this._addCrossLineShape(n,"X")},_addCrossLineShape:function(t,e){var n=this.get("crossLineGroup"),i=n.addShape("line",{attrs:t});return this.set("crossLineShape"+e,i),i},clearCrossLineGroup:function(){var t=this.get("crossLineGroup");this.set("crossLineShapeX",null),this.set("crossLineShapeY",null),t.clear()},setCross:function(t){this.set("crosshairs",{type:t}),this._renderCrossLine()},setContent:function(t,e){var n=this._isContentChange(t,e);if(n){var i=this.get("custom"),r=+new Date;this.set("items",e),this.set("titleText",t),this.set("timeStamp",r),i?this._renderCustom():this._renderContent()}return this},_isContentChange:function(t,e){var n=this.get("titleText"),i=this.get("items"),r=!(t===n&&i.length===e.length);return r||m.each(e,function(t,e){var n=i[e];if(r=t.value!==n.value||t.color!==n.color||t.name!==n.name||t.title!==n.title)return!1}),r},getTitle:function(){return this.get("titleShape")},setPosition:function(t,e){var n,i=this.get("canvas"),r=this.get("custom"),a=this.get("customDiv"),s=this.get("plotRange"),o=this.get("offset"),u=this.get("crossLineShapeX"),c=this.get("crossLineShapeY"),l=this.get("contentGroup"),h=l.getBBox(),f=this.get("animate"),g=!0,p=t,d=e;if(a&&this.get("customFollow")?(n=m.getWidth(a)+2*o,t-=n,e=e-m.getHeight(a)-2*o):(n=h.width+o,t-=n,e-=h.height),s&&(s.isInRange(t,e)||(s.isInHorizontal(t)||(s.tr.x-s.tl.x>=2*n?(t=Math.max(s.tl.x,p)+o,g=!1):(t=s.tl.x,e-=o)),s.isInVertical(e)||(e=s.tl.y))),this.get("x")!==t||this.get("y")!==e)if(c&&(g?c.move(p,0):c.move(t-o,0)),u&&u.move(0,d),r)this.moveCustom(t,e,g);else{var v=new x.Matrix3;v.translate(t,e),f&&this.get("visible")?l.animate({matrix:v},this.get("duration")):(l.setMatrix(v),this.get("visible")||this.show(),i.draw())}},_setCustomDiv:function(){var t,e,n=this.get("html"),i=this.get("canvas").get("el").parentNode;t=/^\#/.test(n)?(e=n.replace("#",""),document.getElementById(e)):m.createDom(n),this.set("customDiv",t),this.get("customFollow")&&(i.appendChild(t),i.style.position="relative")},_renderCustom:function(){var n=this,t=n.get("title"),e=n.get("titleText"),i=n.get("customDiv"),r=u(i,o),a=u(i,c),s=n.get("items");n._clearCustom(),r&&t&&(r.innerHTML=e),a&&(n.set("titleText",e),m.each(s,function(t,e){n.addCustomItem(t,e)}))},_clearCustom:function(){var t=this.get("customDiv"),e=u(t,o),n=u(t,c);e&&(e.innerHTML=""),n&&(n.innerHTML="")},addCustomItem:function(t,e){var n,i,r=this.get("customDiv"),a=u(r,c),s=this.get("itemTpl"),o=m.mix({index:e},t);n=m.substitute(s,o),i=m.createDom(n),a.appendChild(i)},moveCustom:function(t,e){var n=this.get("customDiv");n&&this.get("customFollow")&&(n.style.left=t+"px",n.style.top=e+"px")},show:function(){var t=this.get("crossLineShapeX"),e=this.get("crossLineShapeY"),n=this.get("customDiv"),i=this.get("hideHandler");i&&clearTimeout(i),t&&t.show(),e&&e.show(),s.superclass.show.call(this),n&&this.get("customFollow")&&(n.style.visibility="visible",this.get("canvas").draw())},hide:function(){var t=this,e=t.get("customDiv"),n=t.get("crossLineShapeX"),i=t.get("crossLineShapeY"),r=t.get("canvas"),a=setTimeout(function(){e&&t.get("customFollow")&&(e.style.visibility="hidden"),t.set("hideHandler",null),t.get("destroyed")||(s.superclass.hide.call(t),r.draw())},t.get("duration"));t.set("hideHandler",a),n&&n.hide(),i&&i.hide()},remove:function(){var t=this.get("crossLineShapeX"),e=this.get("crossLineShapeY"),n=this.get("customDiv"),i=this.get("html");t&&t.remove(),e&&e.remove(),s.superclass.remove.call(this),n&&!/^\#/.test(i)&&n.parentNode.removeChild(n)}}),t.exports=s},function(t,e){var u=function(t,e,n){var i,r,a,s,o=!0;for(i=0;i<n-1;i++){if(0==t[i][i]){o=!1;break}for(r=i+1;r<n;r++)for(s=-t[r][i]/t[i][i],e[r]=e[r]+s*e[i],a=i;a<n;a++)t[r][a]=t[r][a]+s*t[i][a]}for(i=0;i<n;i++)if(0==t[i][i]){o=!1;break}return o};t.exports=function(t,e){var n=[],i=t,r=e,a=r.length;if(u(i,r,a)){n[a-1]=r[a-1]/i[a-1][a-1];for(var s=a-2;0<=s;s--){n[s]=r[s];for(var o=s+1;o<a;o++)n[s]=n[s]-i[s][o]*n[o];n[s]=n[s]/i[s][s]}}else n=!1;return n}},function(t,e){"use strict";function a(t,e,n){for(var i in n=n||0,e)if(e.hasOwnProperty(i)){var r=e[i];null!==r&&o.isObject(r)?(o.isObject(t[i])||(t[i]={}),n<s?a(t[i],e[i],n+1):t[i]=e[i]):o.isArray(r)?(t[i]=[],t[i]=t[i].concat(r)):void 0!==r&&(t[i]=e[i])}}var n=Object.prototype,i=n.toString,s=5,o={substitute:function(t,n){return t&&n?t.replace(/\\?\{([^{}]+)\}/g,function(t,e){return"\\"===t.charAt(0)?t.slice(1):void 0===n[e]?"":n[e]}):t},ucfirst:function(t){return(t+="").charAt(0).toUpperCase()+t.substring(1)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},isBoolean:function(t){return"boolean"==typeof t},isFunction:function(t){return"function"==typeof t},isArray:"isArray"in Array?Array.isArray:function(t){return"[object Array]"===i.call(t)},isDate:function(t){return"[object Date]"===i.call(t)},isNull:function(t){return null==t},notNull:function(t){return!o.isNull(t)},isBlank:function(t){if(o.isArray(t))return 0===t.length;if(o.isObject(t)){var n=0;return o.each(t,function(t,e){n++}),0===n}return!1},isObject:"[object Object]"===i.call(null)?function(t){return null!=t&&"[object Object]"===i.call(t)&&void 0===t.ownerDocument}:function(t){return"[object Object]"===i.call(t)},extend:function(t,e,n,i){o.isFunction(e)||(n=e,e=t,t=function(){});var r=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var i=new n;return i.constructor=e,i},a=r(e.prototype,t);return t.prototype=o.mix(a,t.prototype),t.superclass=r(e.prototype,e),o.mix(a,n),o.mix(t,i),t},augment:function(t){for(var e=o.toArray(arguments),n=1;n<e.length;n++){var i=e[n];o.isFunction(i)&&(i=i.prototype),o.mix(t.prototype,i)}},toArray:function(t){return t&&t.length?Array.prototype.slice.call(t):[]},mix:function(){var t=o.toArray(arguments),e=t[0];if(!0===e){e=t[1];for(var n=2;n<t.length;n++){var i=t[n];a(e,i)}}else for(var n=1;n<t.length;n++){var i=t[n];for(var r in i)i.hasOwnProperty(r)&&"constructor"!==r&&(e[r]=i[r])}return e},each:function(t,e){if(t)if(o.isObject(t)){for(var n in t)if(t.hasOwnProperty(n)){var i=e(t[n],n);if(!1===i)break}}else if(t.length)for(var r=0;r<t.length;r++){var i=e(t[r],r);if(!1===i)break}},requestAnimationFrame:function(t){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,16)};return e(t)},cancelAnimationFrame:function(t){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||function(t){return clearTimeout(t)};return e(t)}};t.exports=o},function(t,e,n){var i=(n(1),n(16)),r=n(79);r.Weight=n(78),r.Sankey=n(186),i.link=function(t,e){return new r({dims:t,nodes:e})},i.link.weight=function(t,e){return new r.Weight({dims:t,nodes:e})},i.link.sankey=function(t,e){return new r.Sankey({dims:t,nodes:e})},t.exports=i},function(t,e,n){var l=n(1),r=n(3),i=n(78),a=function(t){i.superclass.constructor.call(this,t)};l.extend(a,i),l.augment(a,{type:"sankey",detachment:!0,_getValueField:function(){var t=this.getDims();return t[4]},initDims:function(t){t.unshift("..y"),t.unshift("..x"),this.valueField=this._getValueField()},edgeLayout:function(t,a,s){var o=this,e=o.nodes,n="in"===t?o.edgesSortByFromNodes:o.edgesSortByToNodes,u=t+"Edges",c=o.valueField;e.forEach(function(i){if(0<i[u].length){i[u].sort(n.bind(o));var r=i.x-.5*i.width;i[u].forEach(function(t){var e=t[c]*a,n=r+e;n-(i.x+.5*i.width)<o.PRECISION&&(l.isNull(t["..x"])&&(t["..x"]=[]),l.isNull(t["..y"])&&(t["..y"]=[]),t["..x"].push(r),t["..x"].push(n),t["..y"].push(i.y),t["..y"].push(i.y),s.push(t)),r=n})}})},exec:function(){var t=this.nodes,e=this.valueField,n=t[0].width/t[0][e],i=[];return this.edgeLayout("out",n,i),this.edgeLayout("in",n,i),[new r(i)]},edgesSortByToNodes:function(t,e){var n=this._getToField(),i=this._findObj(t[n]),r=this._findObj(e[n]);return i.x-r.x},edgesSortByFromNodes:function(t,e){var n=this._getFromField(),i=this._findObj(t[n]),r=this._findObj(e[n]);return i.x-r.x}}),t.exports=a},function(t,e,n){"use strict";function c(t,e,n,i){var r=t[i]+(e[i]-t[i])*n;return r}var l=n(81),i=n(1),r={calColor:function(t,e,n){var i,r=t.length-1,a=Math.floor(r*e),s=r*e-a,o=t[a],u=a===r?o:t[a+1];return i="hsl"===n?l.hsl2Rgb([c(o,u,s,0),c(o,u,s,1),c(o,u,s,2)]):(i={r:c(o,u,s,0),g:c(o,u,s,1),b:c(o,u,s,2)},"#"+l.toHex(i.r)+l.toHex(i.g)+l.toHex(i.b))},lightness:function(t,e){var n=[[e=e||0,1,.9],[e,1,.5]];return r.calColor(n,t,"hsl")},red:function(t){return r.lightness(t,0)},blue:function(t){return r.lightness(t,.66)},green:function(t){return r.lightness(t,.33)},gradient:function(t){var e=[];return i.isString(t)&&(t=t.split("-")),i.each(t,function(t){-1===t.indexOf("#")&&(t=l.toRGB(t)),e.push(l.rgb2arr(t))}),function(t){return r.calColor(e,t)}},gradientHsl:function(t){var e=[];return i.isString(t)&&(t=t.split("-")),i.each(t,function(t){-1===t.indexOf("#")&&(t=l.toRGB(t)),e.push(l.rgb2hsl(t))}),function(t){return r.calColor(e,t,"hsl")}},saturation:function(t,e){var n=[[e=e||0,0,.5],[e,1,.5]];return r.calColor(n,t,"hsl")},hue:function(t){return r.calColor([[0,1,.5],[1,1,.5]],t,"hsl")},brightness:function(t){return r.calColor([[255,255,255],[0,0,0]],t)},heat:function(t){return r.calColor([[255,255,255],[255,127.5,0],[0,0,0]],t)},rainbow:function(t){return r.calColor([[0,255,255],[0,0,255],[0,255,0],[255,0,0]],t)},circular:function(t){return r.calColor([[0,0,255],[0,255,0],[255,255,0],[255,0,0],[0,0,255]],t)},bipolar:function(t){return r.calColor([[0,255,0],[0,0,0],[255,0,0]],t)}};t.exports=r},function(t,e,n){"use strict";var c=n(1),h=n(170),i=function(t){c.mix(this,t)};c.augment(i,{get:function(t){return this[t]},set:function(t,e){this[t]=e},width:500,height:500,x:0,y:0,min:null,max:null,formatter:function(t){return t},radius:60,blur:0,colors:["rgb(0,0,255)","rgb(0,0,255)","rgb(0,255,0)","yellow","rgb(255,0,0)"],_mkcircle:function(t,e,n,i){var r=this.blur,a=this.radius,s=i.createRadialGradient(t,e,a*r,t,e,a);s.addColorStop(0,"rgba(0, 0, 0, 1)"),s.addColorStop(1,"rgba(0, 0, 0, 0)"),i.globalAlpha=n,i.fillStyle=s},_colorise:function(t){for(var e=this.width,n=this.height,i=t.getImageData(this.x,this.y,e,n),r=i.data,a=r.length,s=this.colors,o=h.gradient(s),u=3;u<a;u+=4){var c=r[u];if(c){var l=h.Util.rgb2arr(o(c/256));r[u-3]=l[0],r[u-2]=l[1],r[u-1]=l[2],r[u]=c}}return i},getData:function(t){for(var e=[],n=t.length-1;0<=n;n--)e.push(t[n][2]);var i=c.isNull(this.max)?Math.max.apply(null,e):this.max,r=c.isNull(this.min)?Math.min.apply(null,e):this.min;if(i===r)return!1;var a=document.createElement("canvas"),s=a.getContext("2d");a.width=this.width+this.x,a.height=this.height+this.y;for(var o=this.formatter,n=t.length-1;0<=n;n--){var u=(o(t[n][2])-o(r))/(o(i)-o(r));this._mkcircle(t[n][0],t[n][1],u,s),s.fillRect(0,0,this.width+this.x,this.height+this.y)}return this._colorise(s)}}),t.exports=i},function(t,e){"use strict";function a(t,e){var n=t.length;if(0===n)return NaN;var i=t[0];if(e<t[0])return NaN;if(e>=t[n-1])return t[n-1];for(var r=1;r<t.length&&!(e<t[r]);r++)i=t[r];return i}function s(t,e){var n,i=t.length;if(0===i)return NaN;if(t[0],e>t[i-1])return NaN;if(e<t[0])return t[0];for(var r=1;r<t.length;r++){if(e<=t[r]){n=t[r];break}t[r]}return n}var n={PRECISION:1e-5,equal:function(t,e){return Math.abs(t-e)<n.PRECISION},clamp:function(t,e,n){return t<e?e:n<t?n:t},snapTo:function(t,e){var n=a(t,e),i=s(t,e);if(isNaN(n)||isNaN(i)){if(t[0]>=e)return t[0];var r=t[t.length-1];if(r<=e)return r}return Math.abs(e-n)<Math.abs(i-e)?n:i},snapFloor:function(t,e){return a(t,e)},snapCeiling:function(t,e){return s(t,e)},degreeToRad:function(t){return Math.PI/180*t},radToDegree:function(t){return 180/Math.PI*t},mod:function(t,e){return(t%e+e)%e}};t.exports=n},function(t,e,n){var i=n(27);i.Dodge=n(191),i.Jitter=n(192),i.Stack=n(193),i.Symmetric=n(194),t.exports=i},function(t,e,n){"use strict";var c=n(1),i=n(27),a=n(3),r=function(t){r.superclass.constructor.call(this,t)};c.extend(r,i),c.augment(r,{marginRatio:.5,dodgeRatio:.5,_getDodgeDim:function(t){var e=this,n=null;return c.each(t,function(t){if(t!==e.xDim)return n=t,!1}),n},processAdjust:function(t){var e=a.merge.apply(null,t),n=this.groupDims,i=this._getDodgeDim(n);return i&&(t=a.group(e,i)),this.adjFrames=t,this.mergeFrame=e,t=this.adjustFrames(t,e),i&&(e=a.merge.apply(null,t),t=a.group(e,n)),this.adjFrames=null,this.mergeFrame=null,t},getDistribution:function(i){var t=this.adjFrames,r={};return c.each(t,function(t,e){var n=a.values(t,i);n.length||n.push(0),c.each(n,function(t){r[t]||(r[t]=[]),r[t].push(e)})}),r},adjustDim:function(a,n,t,e,s){var o=this,u=o.getDistribution(a),i=o.groupData(t,a);c.each(i,function(t,e){var r;e=parseFloat(e),r=1===n.length?{pre:-1,next:1}:o.getAdjustRange(a,e,n),c.each(t,function(t){var e=t[a],n=u[e],i=c.indexOf(n,s);t[a]=o.getDodgeOffset(r,i,n.length)})})},getDodgeOffset:function(t,e,n){var i=t.pre,r=t.next,a=r-i,s=a*this.dodgeRatio/n,o=this.marginRatio*s;return(i+r)/2+(.5*(a-n*s-(n-1)*o)+((e+1)*s+e*o)-.5*s-.5*a)}}),t.exports=r},function(t,e,n){"use strict";var s=n(1),i=n(27),r=function(t){r.superclass.constructor.call(this,t)};s.extend(r,i),s.augment(r,{getAdjustOffset:function(t,e){var n=Math.random(),i=e-t,r=.05*i;return t+r+.9*i*n},_adjustGroup:function(t,e,n,i){var r=this,a=r.getAdjustRange(e,n,i);s.each(t,function(t){t[e]=r.getAdjustOffset(a.pre,a.next)})},adjustDim:function(n,i,t){var r=this,e=r.groupData(t,n);s.each(e,function(t,e){e=parseFloat(e),r._adjustGroup(t,n,e,i)})}}),t.exports=r},function(t,e,n){"use strict";var d=n(1),v=n(3),i=n(27),r=function(t){r.superclass.constructor.call(this,t)};d.extend(r,i),d.augment(r,{height:null,size:10,reverseOrder:!1,adjustNames:["y"],processOneDimStack:function(t){var e=this.xDim,n=this.yDim||"y",i=this.height,r={},a=[];this.reverseOrder&&(t=t.slice(0).reverse());for(var s=0;s<t.length;s++){for(var o=t[s].toJSON(),u=0;u<o.length;u++){var c=o[u],l=c.size||this.size,h=2*l/i,f=c[e];r[f]||(r[f]=h/2),c[n]=r[f],r[f]+=h}a.push(new v(o))}return this.reverseOrder&&a.reverse(),a},processAdjust:function(t){return t=this.yDim?this.processStack(t):this.processOneDimStack(t)},processStack:function(t){var e=this.xDim,n=this.yDim,i=t.length,r=[],a={positive:{},negative:{}},s=[];this.reverseOrder&&(t=t.slice(0).reverse());for(var o=0;o<i;o++){for(var u=t[o].toJSON(),c=0;c<u.length;c++){var l=u[c],h=l[e],f=l[n]||0,g=h.toString(),p=0<=(f=d.isArray(f)?f[1]:f)?"positive":"negative";a[p][g]||(a[p][g]=0),l[n]=[a[p][g],f+a[p][g]],a[p][g]+=f}r.push(u)}return this.reverseOrder&&r.reverse(),d.each(r,function(t){var e=new v(t);s.push(e)}),s}}),t.exports=r},function(t,e,n){"use strict";var l=n(1),i=n(3),r=n(27),a=function(t){a.superclass.constructor.call(this,t)};l.extend(a,r),l.augment(a,{cacheMax:null,adjustNames:["y"],_getMax:function(t){var e=this.mergeFrame,n=i.max(e,t);return n},_getXValuesMax:function(){var r=this.yDim,a=this.xDim,s={},t=this.mergeFrame;return t.each(function(t){var e=t[a],n=t[r],i=l.isArray(n)?Math.max.apply(null,n):n;s[e]=s[e]||0,s[e]<i&&(s[e]=i)}),s},processAdjust:function(t){var e=i.merge.apply(null,t);return this.mergeFrame=e,t=this._processSymmetric(t),this.mergeFrame=null,t},_processSymmetric:function(t){var s,o=this.xDim,u=this.yDim,c=this._getMax(u),e=t[0].rowObject(0),n=[];return e&&l.isArray(e[u])&&(s=this._getXValuesMax()),l.each(t,function(t){var e=t.toJSON();l.each(e,function(t){var e,n=t[u];if(l.isArray(n)){var i=t[o],r=s[i];e=(c-r)/2;var a=[];l.each(n,function(t){a.push(e+t)}),t[u]=a}else e=(c-n)/2,t[u]=[e,n+e]}),n.push(new i(e))}),n}}),t.exports=a},function(t,e,n){var i={};i.Tree=n(198),i.Linear=n(82),i.Sankey=n(196),t.exports=i},function(t,e,n){"use strict";var l=n(1);n(199);var i=n(82),r=function(t){l.mix(this,t),this._init()};l.extend(r,i),l.augment(r,{hasWeight:!0,stepField:"step",totalStep:0,calculationTimes:2,_init:function(){var t=this.edges.slice(0);this.edges=t,this._initNode()},_initNode:function(){var t=this.nodes,e=this.stepField,n=this.valueField;l.isNull(t)?t=this._createNodes():(t=t.slice(0),this.nodes=t),this._initNodeMap(),l.isNull(t[0][e])&&this._calculateStep(),l.isNull(t[0][n])&&this._calculateValue()},_calculateStep:function(){var e=this,t=e.nodes,n=e.stepField;t.forEach(function(t){l.isNull(t[n])&&e._getStepFromEdges(t)});var i=t.filter(function(t){return 0===t.outEdges.length});i.map(function(t){t.step=e.totalStep-1})},_getValueFromEdges:function(t){var e=this.valueField,n=0,i=t.step;return 0===i?t.outEdges.forEach(function(t){n+=t[e]}):t.inEdges.forEach(function(t){n+=t[e]}),t.value=n},_getStepFromEdges:function(t){var i=this,r=i.sourceField,a=0;return 0<t.inEdges.length&&t.inEdges.forEach(function(t){var e,n=i._findObj(t[r]);e=l.isNull(n.step)?i._getStepFromEdges(n):n.step,a=Math.max(e+1,a)}),t.step=a,i.totalStep=Math.max(i.totalStep,a+1),a},_findObj:function(t){var e=this.nodesMap;return e[t]},getNodes:function(){var t=this,e=t.nodes,n=t.sourceField,i=t.targetField,r=t.stepField,a=t.valueField,s=[],o=[],u=[];e.forEach(function(t){var e=t[r];void 0===o[e]&&(o[e]=[]),o[e].push(t),l.isNull(s[e])?s[e]=t[a]:s[e]+=t[a]}),t.maxValue=Math.max.apply(null,s),t.totalStep=o.length,t._setMarginWidth(o[0]),t._layoutByWeight(o[0]),t._layoutNodes(o,n);for(var c=t.calculationTimes;0<c;c--)t._layoutNodes(o.reverse(),i),t._layoutNodes(o.reverse(),n);return o.forEach(function(t){u=u.concat(t)}),t.normalization(u),u},normalization:function(t){var e=1;t.forEach(function(t){t.x>e&&(e=t.x)}),1<e&&t.map(function(t){t.x=t.x/e,t.width=t.width/e})},_layoutNodes:function(t,e){if(2<=t.length){var n;for(n=1;n<t.length;n++)this.y=n/(this.totalStep-1),this._layoutHighStep(t[n],e),t[n].sort(function(t,e){return t.x-e.x}),this._handleConflict(t[n]);this._layoutX(t[n-1])}},_handleConflict:function(n){var i=this.margin;n.map(function(t,e){0<e&&t.x-.5*t.width<=n[e-1].x+.5*n[e-1].width+2*i&&(t.x=n[e-1].x+.5*n[e-1].width+2*i+.5*t.width)})},_layoutHighStep:function(t,a){var s=this,o=s.valueField,e=s.maxValue,u=s.thickness,c=s.marginWidth,l=s.y,h=a===s.sourceField?s.targetField:s.sourceField;t.map(function(n){var i,t=s._getEdgeOfCurNode(n,h),r=0;t.forEach(function(t){i=s._findObj(t[a]);var e=t[o];r+=i.x*e/n[o]}),n.x=r,n.weight=n[o]/e,n.width=n.weight*(1-c),n.height=u,n.y=void 0===n.y?l:n.y})},getEdges:function(){for(var t=this.calculationTimes;0<t;t--)this._layoutEdges();return this.edges},_layoutEdges:function(){var e=this,t=e.nodes,n=e.stepField,i=e.targetField,r=e.sourceField,a=e.totalStep;t.forEach(function(t){0!==t[n]&&e._edgeSort(t.inEdges,r)}),t.forEach(function(t){t[n]!==a&&e._edgeSort(t.outEdges,i)})},_edgeSort:function(a,s){var o=this,u=o.edges;a.sort(function(t,e){return o._findObj(t[s]).x-o._findObj(e[s]).x}),a.forEach(function(t,e){for(var n=0;n<e;n++){var i=o._findIndex(u,a[n]),r=o._findIndex(u,t);o._findObj(a[n][s]).x>o._findObj(t[s]).x?l.insertBefore(u,r,i):l.insertAfter(u,r,i)}})},_findIndex:function(t,e){var n=this.sourceField,i=this.targetField,r=t.findIndex(function(t){return t[n]===e[n]&&t[i]===e[i]});return r}}),t.exports=r},function(t,e,n){"use strict";var i=n(1),r=function(t){i.mix(this,t)};i.augment(r,{parent:null,level:0,children:null,x:0,y:0}),t.exports=r},function(t,e,n){"use strict";function g(t){return t/2}var y=n(1),_=n(197),i=function(t){y.mix(this,t),this._init()};y.augment(i,{nodes:null,childrenField:"children",collapsedField:"collapsed",width:1,height:1,_levels:1,idField:null,edgeFields:null,_preX:{},dx:0,dy:0,nodeAlign:"start",_totalLeafCount:0,_init:function(){var t=this.nodes.slice(0);this._traverseNodes(t),this.originDx=this.dx,this.originDy=this.dy,this.nodes=t,this._initDxDy()},_initDxDy:function(){var t=this,e=t.nodes,n=t._levels;t._preX={};var i=t._getAlignCount(e);t._totalLeafCount=i,t.originDx||(t.dx=t.width/(i+.5)),t.originDy||(t.dy=t.height/n)},reset:function(){this._initDxDy()},_traverseNodes:function(t,i){var r,a,s=this;a=i?(r=i.level+1,i.id):(r=0,"");var o=s.childrenField,u=s.idField;y.each(t,function(t,e){t.level=r,t.parent=i,u&&(t.id=t[u]),t.id||(t.id=a?a+"-"+e:e.toString());var n=t[o];n&&n.length?s._traverseNodes(t[o],t):r+1>s._levels&&(s._levels=r+1)})},_getAlignCount:function(t){var s=this,o=0,u=0,c=0,l=s.childrenField,h=t.length,f=s.collapsedField;return y.each(t,function(t,e){var n=t[l];if(n&&n.length&&!t[f]){var i=c/2;o+=i,1<i&&i<u&&(u-=i);var r=s._getAlignCount(n),a=g(r);u+=1,o+=Math.max(a,u),u=0,c=r,t._alignCount=r}else u+=1,e===h-1&&1!==h&&(u+=.5)}),u=Math.max(u,g(c)),o+=Math.abs(u)},_getMaxPreXParent:function(t){if(!t)return null;var e=this._preX,n=t.level,i=e[n]||0,r=i,a=n,s=t.parent,o=t;if(s&&s.children[0]===t||0===i)for(;0<a&&s;){var u=a-1,c=e[u]||0;if(r<c&&(r=c,o=s),a=u,s.parent&&s.parent.children[0]!==s)break;s=s.parent}return o},_layoutNodes:function(t,p){var d=this,v=d.childrenField,m=d.collapsedField,x=t.length;y.each(t,function(t,e){var n=t[v],i=t.level,r=d.dx,a=d.dy,s=new _(t);p.push(s),s.y=i*a,"middle"===d.nodeAlign?s.y+=.5*a:"end"===d.nodeAlign&&(s.y+=a);var o=d._preX[i]||0;if(n&&n.length&&!t[m]){d._layoutNodes(n,p);var u=n[0],c=n[n.length-1],l=(u.x+c.x)/2;s.x=Math.max(l,o+r),d._preX[i]=s.x}else{if(t.parent&&0===e){var h=d._getMaxPreXParent(t.parent),f=d._preX[i-1]||0;if(h)if(f=d._preX[h.level]||0,h===t.parent&&1===t.parent.children.length);else{var g=h._alignCount;f-=f<r?g*r/2-r/2:g*r/2-r}o=Math.max(o,f)}s.x=o+r,d._preX[i]=s.x,e===x-1&&1<x&&(d._preX[i]+=.5*r)}t.x=s.x,t.y=s.y})},_getEdges:function(t,i){var r=this,a=[],s=r.childrenField,e=r.collapsedField,o=r.edgeFields;return i&&i[e]||y.each(t,function(e){if(i){var n={source:i.id,target:e.id};o&&y.each(o,function(t){n[t]=e[t]}),a.push(n)}e[s]&&(a=a.concat(r._getEdges(e[s],e)))}),a},getNodes:function(){var t=this.nodes,e=[];return this._layoutNodes(t,e),this._fixedRange(e),e},_fixedRange:function(t){var e=0,n=this.width;if(3<this._totalLeafCount){y.each(this._preX,function(t){e<t&&(e=t)});var i=(n-this.dx/2)/e;y.each(t,function(t){t.x=t.x*i})}},getEdges:function(){var t=this.nodes;return this._getEdges(t)},_findBy:function(t,n){var i=this,r=null,a=i.childrenField;return y.each(t,function(t){var e=t[a];if(n(t)?r=t:e&&e.length&&(r=i._findBy(e,n)),r)return!1}),r},findNode:function(e){return this._findBy(this.nodes,function(t){return t.id.toString()===e.toString()})}}),t.exports=i},function(t,e,n){var i=n(1);i.mix(i,{insertBefore:function(t,e,n){if(!(e<=n)){var i=t.splice(e,1)[0];t.splice(n-1,0,i)}},insertAfter:function(t,e,n){if(!(n<=e)){var i=t.splice(e,1)[0];t.splice(n,0,i)}}}),t.exports=i},function(t,e,n){"use strict";function r(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}var a=n(77);a.mix(a,{mixin:function(n,t){if(n&&t){n._mixins=t,n.ATTRS=n.ATTRS||{};var i={};a.each(t,function(t){a.augment(n,t);var e=t.ATTRS;e&&a.mix(i,e)}),n.ATTRS=a.mix(i,n.ATTRS)}},map:function(t,n){var i=[];return a.each(t,function(t,e){i.push(n(t,e))}),i},filter:function(t,n){var i=[];return a.each(t,function(t,e){n(t,e)&&i.push(t)}),i},guid:function(){var e={};return function(t){return e[t=t||"g"]?e[t]+=1:e[t]=1,t+e[t]}}(),inArray:function(t,e){return-1!==a.indexOf(t,e)},indexOf:function(t,e){var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var i=-1,r=0;r<t.length;r++)if(t[r]===e){i=r;break}return i},remove:function(t,e){var n=a.indexOf(t,e);-1!==n&&t.splice(n,1)},empty:function(t){if(!(t instanceof Array))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0},equalsArray:function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=!0,i=0;i<t.length;i++)if(t[i]!==e[i]){n=!1;break}return n},wrapBehavior:function(e,n){var t=function(t){e[n](t)};return e["_wrap_"+n]=t},getWrapBehavior:function(t,e){return t["_wrap_"+e]},fixedBase:function(t,e){return function(t,e){var n=e.toString(),i=n.indexOf(".");if(-1===i)return Math.round(t);var r=n.substr(i+1).length;return 20<r&&(r=20),parseFloat(t.toFixed(r))}(t,e)},length:function(t){if(a.isArray(t))return t.length;if(a.isObject(t)){var e=0;return a.each(t,function(){e++}),e}return 0},clone:function(t){if("object"!=typeof t||null===t)return t;var e;if(a.isArray(t)){e=[];for(var n=0,i=t.length;n<i;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=a.clone(t[n]):e[n]=t[n]}else for(var r in e={},t)"object"==typeof t[r]&&null!=t[r]?e[r]=a.clone(t[r]):e[r]=t[r];return e},simpleMix:function(t,e,n,i){return e&&r(t,e),n&&r(t,n),i&&r(t,i),t}}),t.exports=a},function(t,e,n){var i=n(202);i.Group=n(203),t.exports=i},function(t,e,n){"use strict";var i=n(1),r=function(){};r.ATTRS={actived:!1},i.augment(r,{isActived:function(){return this.get("actived")},setActived:function(){this.setActiveStatus(!0),this.set("actived",!0)},setActiveStatus:function(){},clearActived:function(){this.setActiveStatus(!1),this.set("actived",!1),this.clearActivedItem&&this.clearActivedItem()}}),t.exports=r},function(t,e,n){"use strict";var i=n(1),r=function(){};r.ATTRS={multipleActive:!1},i.augment(r,{isItemActived:function(t){return t.isActived()},getActiveItems:function(){return this.get("children")},setItemActived:function(t,e){e?t.setActived():t.clearActived()},onActived:function(t){this.fire("itemactived",{item:t}),this.fireUpGroup&&this.fireUpGroup("actived",t)},onUnActived:function(t){this.fire("itemunactived",{item:t}),this.fireUpGroup&&this.fireUpGroup("unactived",t)},setActivedItem:function(t){var e=this.get("multipleActive");e||this.clearActivedItem(),t&&!this.isItemActived(t)&&(this.setItemActived(t,!0),this.onActived(t))},getActived:function(){var e=this,t=e.getActiveItems(),n=null;return i.each(t,function(t){if(e.isItemActived(t))return n=t,!1}),n},getAllActived:function(){var e=this,t=e.getActiveItems(),n=[];return i.each(t,function(t){e.isItemActived(t)&&n.push(t)}),n},clearAllActived:function(){var e=this,t=e.getAllActived();return i.each(t,function(t){e.setItemActived(t,!1),e.onUnActived(t)}),this},clearActivedItem:function(t){return(t=t||this.getActived())&&(this.setItemActived(t,!1),this.onUnActived(t)),this}}),t.exports=r},function(t,e,n){var c=n(1);t.exports=function(t){var e={},n=[],i=t.maxCount||8,r=function(t){var e=[];return c.each(t,function(t){c.isArray(t)?e=e.concat(t):e.push(t)}),e}(t.data);if(r.length<=i+i/2)n=[].concat(r);else{var a=r.length,s=parseInt(a/(i-1),10),o=r.map(function(t,e){return e%s==0?r.slice(e,e+s):null}).filter(function(t){return t});n.push(r[0]);for(var u=1;u<o.length&&u<i-1;u++)n.push(o[u][0]);n.push(r[a-1])}return e.categories=r,e.ticks=n,e}},function(t,e,n){var v=n(1),m=[0,1,2,3,4,5,10],x=v.isNull,y=n(83);t.exports=function(t){var e,n=t.min,i=t.max,r=t.interval,a=[],s=t.minCount||5,o=t.maxCount||7,u=(s+o)/2;if(v.isNull(n)&&(n=0),v.isNull(i)&&(i=0),i===n&&(0===n?i=r||1:0<n?n=r?i-r:0:i=r?i+r:0,i-n<5&&!r&&1<=i-n&&(r=1)),x(r)){var c=(i-n)/(u-1);r=y.snapFactorTo(c,m,"ceil"),o!==s?(e=parseInt((i-n)/r,10),o<e&&(e=o),e<s&&(e=s),r=y.snapFactorTo((i-n)/(e-1),m,"floor")):e=u}if(t.interval||o!==s)i=y.snapMultiple(i,r,"ceil"),n=y.snapMultiple(n,r,"floor"),e=Math.round((i-n)/r),n=v.fixedBase(n,r),i=v.fixedBase(i,r);else{u=parseInt(u,10);var l,h=(i+n)/2,f=y.snapMultiple(h,r,"ceil"),g=Math.floor((u-2)/2),p=f+g*r;p<i&&(p+=r),n<(l=u%2==0?f-g*r:f-(g+1)*r)&&(l-=r),i=v.fixedBase(p,r),n=v.fixedBase(l,r)}a.push(n);for(var d=1;d<e;d++)a.push(v.fixedBase(r*d+n,r));return a[a.length-1]<i&&a.push(i),{min:n,max:i,interval:r,count:e,ticks:a}}},function(t,e,n){function U(t){return new Date(t).getFullYear()}function J(t){return new Date(t).getMonth()}var Q=n(1),Z=[1,2,4,6,8,12],$=n(83);t.exports=function(t){var e,n,i,r,a,s,o,u,c,l,h,f,g,p,d,v=t.min,m=t.max,x=t.interval,y=t.minInterval,_=[];if(m===v&&(m=v+864e5),Q.isNull(x)){var b,w,S,M,T,A=m-v;x=parseInt(A/(t.maxCount||6),10),y&&x<y&&(x=y),b=x/31536e6;var C=U(v);if(.51<b){w=Math.ceil(b);for(var k=U(m),P=C;P<=k+w;P+=w)_.push((d=P,new Date(d,0,1).getTime()));x=null}else if(.0834<b){w=U(v),S=Math.ceil(b/.0834);for(var I=J(v),O=(l=m,void 0,h=U(c=v),f=U(l),g=J(c),p=J(l),12*(f-h)+(p-g)%12),D=0;D<=O+S;D+=S)_.push((o=C,u=D+I,new Date(o,u,1).getTime()));x=null}else if(432e5<x){M=new Date(v),w=M.getFullYear(),S=M.getMonth(v),T=Math.ceil(x/864e5);var L=M.getDate(),F=(a=v,s=m,Math.ceil((s-a)/864e5));x=864e5*T;for(var E=0;E<F+T;E+=T)_.push(new Date(w,S,L+E).getTime())}else if(36e5<x){M=new Date(v),w=M.getFullYear(),S=M.getMonth(v),T=M.getDate();var R=M.getHours(),N=$.snapTo(Z,Math.ceil(x/36e5)),B=(i=v,r=m,Math.ceil((r-i)/36e5));x=36e5*N;for(var j=0;j<=B+N;j+=N)_.push(new Date(w,S,T,R+j).getTime())}else if(6e4<x){var W=(e=v,n=m,Math.ceil((n-e)/6e4)),z=Math.ceil(x/6e4);x=6e4*z;for(var G=0;G<=W+z;G+=z)_.push(v+6e4*G)}else{x<1e3&&(x=1e3),v=1e3*Math.floor(v/1e3);var V=Math.ceil((m-v)/1e3),X=Math.ceil(x/1e3);x=1e3*X;for(var Y=0;Y<V+X;Y+=X)_.push(v+1e3*Y)}}if(!_.length){v=1e3*Math.floor(v/1e3);for(var H=((m=1e3*Math.ceil(m/1e3))-v)/x,q=0;q<=H;q++)_.push(Q.fixedBase(x*q+v,x))}return{max:m,min:v,interval:x,ticks:_,count:_.length}}},function(t,e,n){"use strict";var i=n(36);t.exports=function(t,e){return new i({dims:t,binWidth:e})}},function(t,e,n){"use strict";var i=n(36),v=n(1);t.exports=function(t,e,n){return new i({ratio:n||.5,dims:t,binWidth:e||.03,_getDimVaues:function(e,t,n){var i=this.getDimRange(t),r=i.max-i.min,a=[];return v.each(n,function(t){a.push(e+r*t)}),a},toBin:function(t){var e=this.getBinDims();if(e<2)throw"the bin.rect method only support 2 dimenssion!";var n,i,r,a,s,o,u,c=e[0],l=e[1],h=this.binWidth,f=this.ratio,g=this._center([t[c],t[l]]),p=(a=[-.5,-1.5,-.5,.5,1.5,.5],s=h,o=f,u=[],v.each(a,function(t){u.push(t*s*o/2)}),u),d=(n=[-1,0,1,1,0,-1],i=h,r=[],v.each(n,function(t){r.push(t*i/2)}),r);t[c]=this._getDimVaues(g[0],c,p),t[l]=this._getDimVaues(g[1],l,d)},_center:function(t){var e,n,i=this.binWidth,r=this.getBinDims(),a=r[0],s=this.getDimRange(a),o=i*(s.max-s.min)/2,u=r[1],c=this.getDimRange(u),l=i*(c.max-c.min)/2,h=this.ratio;return e=[t[0]/(o*h),t[1]/l],n=this._centerForBasis(e),[n[0]*o,n[1]*l]},_chkOdd:function(t){var e=parseInt(t);return e?!!(e%2):"0"},_aroundX:function(t){var e,n;return t=t<1?1:t,this._chkOdd(t)?e=n=parseInt(t)+.5:t%2==0?e=n=parseInt(t)-.5:(e=parseInt(t)-.5,n=e+2),[e,n]},_aroundY:function(t){var e;return t=t<1?1:t,e=parseInt(t),[e,e+1]},_shortPoint:function(t,e,n){var i,r,a=(t[1]-.5)%4;r=1==a?this._chkOdd(e[1])?(i=[t[0],e[0]],[t[1],e[1]]):(i=[t[1],e[0]],[t[0],e[1]]):this._chkOdd(e[0])?(i=[t[0],e[0]],[t[1],e[1]]):(i=[t[1],e[0]],[t[0],e[1]]);var s=Math.abs(n[0]-i[0])+Math.abs(n[1]-i[1]),o=Math.abs(n[0]-r[0])+Math.abs(n[1]-r[1]);return s===o?i[0]<r[0]?i:r:s<o?i:r},_centerForBasis:function(t){var e,n,i,r,a=this._aroundX(t[0]),s=this.ratio;return(e=a[0]===a[1]?(i=a[0],r=2<i&&this._chkOdd(i/2)?(t[1]=t[1]<1?1:t[1],this._chkOdd(parseInt(t[1]))?parseInt(t[1])+1:parseInt(t[1])):(t[1]=t[1]<1?1:t[1],this._chkOdd(parseInt(t[1]))?parseInt(t[1]):parseInt(t[1])-1),[i,r]):(t[1]=t[1]<1?1:t[1],n=this._aroundY(t[1]),this._shortPoint(a,n,t)))[0]=e[0]*s,e}})}},function(t,e,n){var i={dot:n(207),rect:n(212),hex:n(208),quantile:n(210)};t.exports=i},function(t,e,n){var i=n(84);i.letter=n(211),t.exports=i},function(t,e,n){"use strict";var i=n(84);t.exports=function(t,e){return new i({dims:t,binWidth:e,fractions:4})}},function(t,e,n){"use strict";var i=n(36);t.exports=function(t,e){return new i({dims:t,binWidth:e,toBin:function(t){var e=this.getBinDims();if(e.length<1)throw"the bin.rect method support for minimum one dimension!";if(1===e.length){var n=e[0];t[n]=this._getValueRange(n,t[n])}else{var i=e[0],r=e[1],a=this._getValueRange(i,t[i]),s=this._getValueRange(r,t[r]);t[i]=[a[0],a[0],a[1],a[1]],t[r]=[s[0],s[1],s[1],s[0]]}},_getValueRange:function(t,e){var n=this.binWidth,i=this.getDimRange(t),r=i.max-i.min,a=this.getCenterValue(e,i.max,i.min);return[a-r*n*1/2,a+r*n*1/2]}})}},function(t,e,n){"use strict";function i(t,e,n){return new r({dims:t,bandWidth:e=e||.01,kernelType:n})}var r=n(214),a=n(215),s={kernel:{}};s.kernel.uniform=function(t,e){return i(t,e,"uniform")},s.kernel.triangular=function(t,e){return i(t,e,"triangular")},s.kernel.epanechnikov=function(t,e){return i(t,e,"epanechnikov")},s.kernel.quartic=function(t,e){return i(t,e,"quartic")},s.kernel.triweight=function(t,e){return i(t,e,"triweight")},s.kernel.tricube=function(t,e){return i(t,e,"tricube")},s.kernel.gaussian=function(t,e){return i(t,e,"gaussian")},s.kernel.cosine=function(t,e){return i(t,e,"cosine")},s.normal=function(t,e){return new a({dims:t,bandWidth:e=e||.01})},t.exports=s},function(t,e,n){"use strict";var w=n(1),a=n(3),s=n(69),i=n(85),r=function(t){r.superclass.constructor.call(this,t)};w.extend(r,i),w.augment(r,{kernelType:"",execFrame:function(t){var e=this.kernelType;if(!e)return t;var n=s[e],i=this.getDims(),r=[];return 2===i.length?r=this._getOneDimDensity(t,n,i):3===i.length&&(r=this._getTwoDimDensity(t,n,i)),new a(r)},_getOneDimDensity:function(t,e,n){for(var i=n[n.length-2],r=t.colArray(i),a=this.getWindowWidth(t,i),s=this.getCoordinate(t,i,a),o=s.length,u=r.length,c=t.rowObject(0),l=[],h=0;h<o;h++){for(var f=0,g=s[h],p=0;p<u;p++)f+=e((g-r[p])/a);var d=1/(u*a)*f,v=w.mix({},c);v[i]=g,v["..density"]=d,l[h]=v}return l},_getTwoDimDensity:function(t,e,n){for(var i=n[n.length-3],r=n[n.length-2],a=this.getWindowWidth(t,i),s=this.getWindowWidth(t,r),o=this.getCoordinate(t,i,a),u=o.length,c=this.getCoordinate(t,r,s),l=c.length,h=t.rowCount(),f=t.rowObject(0),g=[],p=0;p<u;p++)for(var d=0;d<l;d++){for(var v=0,m=o[p],x=c[d],y=0;y<h;y++)v+=e((m-t.data[y][i])/a)*e((x-t.data[y][r])/s);var _=1/(h*a*s)*v,b=w.mix({},f);b[i]=m,b[r]=x,b["..density"]=_,g.push(b)}return g}}),t.exports=r},function(t,e,n){"use strict";var p=n(1),d=n(3),i=n(85),r=function(t){r.superclass.constructor.call(this,t)};p.extend(r,i),p.augment(r,{execFrame:function(t){for(var e=t.rowObject(0),n=this.getDims(),i=n[n.length-2],r=this.getWindowWidth(t,i),a=this.getCoordinate(t,i,r),s=a.length,o=d.mean(t,i),u=d.standard_deviation(t,i),c=[],l=0;l<s;l++){var h=a[l],f=this.getNormal(h,o,u),g=p.mix({},e);g[i]=h,g["..density"]=f,c.push(g)}return new d(c)},getNormal:function(t,e,n){var i=1/(Math.sqrt(2*Math.PI)*n)*Math.exp(-(t-e)*(t-e)/(2*n*n));return i}}),t.exports=r},function(t,e,n){var i={spread:{range:n(217),sd:n(218),se:n(219)},confi:{}};t.exports=i},function(t,e,n){"use strict";var i=n(47),r=n(3);t.exports=function(t){return new i({dims:t,transform:function(t,e){var n=t.rowObject(0);return n[e]=r.range(t,e),new r([n])}})}},function(t,e,n){"use strict";var i=n(47),a=n(3);t.exports=function(t){return new i({dims:t,transform:function(t,e){var n=t.rowObject(0),i=a.mean(t,e),r=a.sd(t,e);return n[e]=[i-r,i+r],new a([n])}})}},function(t,e,n){"use strict";var i=n(47),a=n(3);t.exports=function(t){return new i({dims:t,transform:function(t,e){var n=t.rowObject(0),i=a.mean(t,e),r=a.se(t,e);return n[e]=[i-r,i+r],new a([n])}})}},function(t,e,n){"use strict";var i=n(1),r=n(12),a=n(22),s=n(21);t.exports=function(t){return new r(i.mix({},s,{dims:t,regressionType:"cubic",getRegression:function(t){return a("polynomial",t,3)}}))}},function(t,e,n){"use strict";var i=n(1),r=n(12),a=n(22),s=n(21),o=n(3);t.exports=function(t){return new r(i.mix({},s,{dims:t,regressionType:"exp",preExecute:function(t){var n=this.getYDim();i.each(t,function(t){var e=o.min(t,n);if(e<0)throw"the field "+n+" has value less than 0,you can't use this regression!"})},getRegression:function(t){return a("exponential",t)}}))}},function(t,e,n){"use strict";function r(t,e){for(var n=0,i=0;i<t.length;i++){var r=t[i];n+=r*Math.pow(e,i)}return n}var i=n(1),a=["linear","cubic","quadratic"],s={execFnction:function(t,e,n){return 0<=i.indexOf(a,t)?s.poly(e,n):s[t]?s[t](e[0],e[1],n):n},linear:function(t,e,n){var i=[e,t];return r(i,n)},poly:function(t,e){return r(t,e)},log:function(t,e,n){return t+e*Math.log(n)},pow:function(t,e,n){return t*Math.pow(n,e)},exp:function(t,e,n){return t*Math.pow(Math.E,e*n)}};t.exports=s},function(t,e,n){"use strict";function i(t,e,n){return new a({dims:t,bandWidth:e=e||.01,kernelType:n})}var r=n(48);r.mean=n(227),r.median=n(228),r.linear=n(224),r.quadratic=n(230),r.cubic=n(220),r.log=n(226),r.pow=n(229),r.exp=n(221);var a=n(225);r.loess={},r.loess.uniform=function(t,e){return i(t,e,"uniform")},r.loess.triangular=function(t,e){return i(t,e,"triangular")},r.loess.epanechnikov=function(t,e){return i(t,e,"epanechnikov")},r.loess.quartic=function(t,e){return i(t,e,"quartic")},r.loess.triweight=function(t,e){return i(t,e,"triweight")},r.loess.tricube=function(t,e){return i(t,e,"tricube")},r.loess.gaussian=function(t,e){return i(t,e,"gaussian")},r.loess.cosine=function(t,e){return i(t,e,"cosine")},t.exports=r},function(t,e,n){"use strict";var i=n(1),r=n(12),a=n(22),s=n(21);t.exports=function(t){return new r(i.mix({},s,{dims:t,regressionType:"linear",getRegression:function(t){return a("polynomial",t,1)}}))}},function(t,e,n){"use strict";var i=n(48),h=n(1),E=n(69),f=n(3),R=n(183),r=function(t){r.superclass.constructor.call(this,t)};h.extend(r,i),h.augment(r,{kernelType:"",k:10,execFrame:function(t){var e=this,n=e.getDims(),i=[];if(2===n.length){var r=e.getXDim(),a=e.getYDim(),s=e.getData(t),o=e.getInterArray(t,r),u=e.execSmooth(s,o),c=t.rowObject(0);h.each(u,function(t){var e=h.mix({},c);e[r]=t[0],e[a]=t[1],i.push(e)})}else{var r=e.getXDim(),a=e.getYDim(),l=e.getZDim(),s=e.getData(t),o=[];o[0]=e.getInterArray(t,r),o[1]=e.getInterArray(t,a);var u=e.execSmoothThreeDim(s,o),c=t.rowObject(0);h.each(u,function(t){var e=h.mix({},c);e[r]=t[0],e[a]=t[1],e[l]=t[2],i.push(e)})}return new f(i)},execSmooth:function(t,e){for(var n=e.length,i=t.length,r=this.kernelType,a=E[r],s=[],o=[],u=e[1]-e[0],c=0;c<n;c++){for(var l,h,f,g,p=0,d=0,v=0,m=0,x=0,y=e[c],_=this.getWindowWidth([y],t,[u])[0],b=0;b<i;b++)h=t[b][0],f=t[b][1],0!==(l=a((y-h)/_))&&(p+=l,d+=l*h,v+=l*h*h,m+=l*f,x+=l*h*f);p*v-d*d!=0&&(o[1]=(d*m-p*x)/(d*d-p*v),o[0]=m/p-d/p*o[1],g=o[0]+o[1]*y,s.push([y,g]))}return s},execSmoothThreeDim:function(t,e){for(var n=e[0].length,i=e[1].length,r=t.length,a=this.kernelType,s=E[a],o=[],u=[],c=e[0][1]-e[0][0],l=e[1][1]-e[1][0],h=0;h<n;h++)for(var f=0;f<i;f++){for(var g,p,d,v,m,x=0,y=0,_=0,b=0,w=0,S=0,M=0,T=0,A=0,C=e[0][h],k=e[1][f],P=this.getWindowWidth([C,k],t,[c,l]),I=P[0],O=P[1],D=0;D<r;D++)p=t[D][0],d=t[D][1],v=t[D][2],0!=(g=s((C-p)/I)*s((k-d)/O))&&(x+=g,y+=g*p,_+=g*d,b+=g*p*d,w+=g*p*p,S+=g*d*d,M+=g*v,T+=g*p*v,A+=g*d*v);var L=[[x,y,_],[y,w,b],[_,b,S]],F=[M,T,A];(u=R(L,F))&&(m=u[0]+u[1]*C+u[2]*k,o.push([C,k,m]))}return o},getWindowWidth:function(a,t,s){var e=this.k,n=t.length,i=[],o=t[0].length-1,r=0;n<=e&&(e=n),t.sort(function(t,e){for(var n=0,i=0,r=0;r<o;r++)n+=(t[r]-a[r])*(t[r]-a[r])/(s[r]*s[r]),i+=(e[r]-a[r])*(e[r]-a[r])/(s[r]*s[r]);return n-i});for(var u=0;u<o;u++){for(;t[e-1][u]===t[0][u];)e++;var c=1.1*Math.abs(t[e-1][u]-a[u])/s[u];r+=c*c}r=Math.sqrt(r);for(var u=0;u<o;u++)i[u]=r*s[u];return i}}),t.exports=r},function(t,e,n){"use strict";var i=n(1),r=n(12),a=n(22),s=n(21);t.exports=function(t){return new r(i.mix({},s,{dims:t,regressionType:"log",getRegression:function(t){return a("logarithmic",t)}}))}},function(t,e,n){"use strict";var s=n(1),o=n(3),i=n(12);t.exports=function(t){return new i({dims:t,getRegressionString:function(){return"y = "+this.curMean},execSmooth:function(t,e,n){var i=this.getYDim(),r=o.mean(n,i);this.curMean=r;var a=[];return s.each(e,function(t){a.push([t,r])}),a}})}},function(t,e,n){"use strict";var s=n(1),o=n(3),i=n(12);t.exports=function(t){return new i({dims:t,getRegressionString:function(){return"y = "+this.curMedian},execSmooth:function(t,e,n){var i=this.getYDim(),r=o.median(n,i);this.curMedian=r;var a=[];return s.each(e,function(t){a.push([t,r])}),a}})}},function(t,e,n){"use strict";var i=n(1),r=n(12),a=n(22),s=n(21),o=n(3);t.exports=function(t){return new r(i.mix({},s,{dims:t,regressionType:"pow",preExecute:function(t){var n=this.getYDim();i.each(t,function(t){var e=o.min(t,n);if(e<0)throw"the field "+n+" has value less than 0,you can't use this regression!"})},getRegression:function(t){return a("power",t)}}))}},function(t,e,n){"use strict";var i=n(1),r=n(12),a=n(22),s=n(21);t.exports=function(t){return new r(i.mix({},s,{regressionType:"quadratic",dims:t,getRegression:function(t){return a("polynomial",t,2)}}))}},function(t,e,n){"use strict";var i=n(10),r=n(3);t.exports=function(t){return new i({dims:t,initDims:function(t){t.push("..count")},transform:function(t,e){var n=t.rowObject(0);return n[e]=t.rowCount(),new r([n])}})}},function(t,e,n){"use strict";var i=n(10),c=n(3),l=n(1);t.exports=function(t){return new i({dims:t,getStatDims:function(){var t=this.stat;if(t)return t.getStatDims();var e=this.getDims(),n=e.length,i=[e[n-1]];return i},execFrame:function(t){var e=this.getStatDims(),n=e[e.length-1],i=this.getDims()[0];i&&i!==n&&(t=c.sort(t,i));var r=this.stat,a=[];if(r&&"density"===r.type){var s=r.getWindowWidth(t,i),o=t.colArray(n),u=0;l.each(o,function(t){u+=t*s,a.push(u)})}else a=c.cumulative(t,n);return t.colReplace(n,a),t}})}},function(t,e,n){var i={count:n(231),max:n(234),min:n(237),mean:n(235),median:n(236),proportion:n(240),range:n(241),percent:n(239),sd:n(242),mode:n(238),sum:n(243),cumulative:n(232)};t.exports=i},function(t,e,n){"use strict";var i=n(10),r=n(3);t.exports=function(t){return new i({dims:t,transform:function(t,e){var n=t.rowObject(0);return n[e]=r.max(t,e),new r([n])}})}},function(t,e,n){"use strict";var i=n(10),r=n(3);t.exports=function(t){return new i({dims:t,transform:function(t,e){var n=t.rowObject(0);return n[e]=r.mean(t,e),new r([n])}})}},function(t,e,n){"use strict";var i=n(10),r=n(3);t.exports=function(t){return new i({dims:t,transform:function(t,e){var n=t.rowObject(0);return n[e]=r.median(t,e),new r([n])}})}},function(t,e,n){"use strict";var i=n(10),r=n(3);t.exports=function(t){return new i({dims:t,transform:function(t,e){var n=t.rowObject(0);return n[e]=r.min(t,e),new r([n])}})}},function(t,e,n){"use strict";var i=n(10),r=n(3);t.exports=function(t){return new i({dims:t,transform:function(t,e){var n=t.rowObject(0);return n[e]=r.mode(t,e),new r([n])}})}},function(t,e,n){"use strict";var i=n(1),r=n(10),s=n(3),a=n(86);t.exports=function(t){return new r(i.mix({dims:t,initDims:function(t){var e=t[t.length-1];t.splice(t.length-1,0,"..percent"),this.percetDim=e},getStatDims:function(){return["..percent"]},transform:function(t,e,n){e=this.percetDim;var i=s.sum(t,e),r=s.sum(n,e),a=t.rowObject(0);return a["..percent"]=i/r,a[e]=i,new s([a])}},a))}},function(t,e,n){"use strict";var i=n(1),r=n(10),a=n(3),s=n(86);t.exports=function(t){return new r(i.mix({dims:t,initDims:function(t){t.push("..proportion")},transform:function(t,e,n){var i=t.rowCount()/n.rowCount(),r=t.rowObject(0);return r[e]=i,new a([r])}},s))}},function(t,e,n){"use strict";var i=n(10),r=n(3);t.exports=function(t){return new i({dims:t,transform:function(t,e){var n=t.rowObject(0);return n[e]=r.max(t,e)-r.min(t,e),new r([n])}})}},function(t,e,n){"use strict";var i=n(10),r=n(3);t.exports=function(t){return new i({dims:t,transform:function(t,e){var n=t.rowObject(0);return n[e]=r.standard_deviation(t,e),new r([n])}})}},function(t,e,n){"use strict";var i=n(10),r=n(3);t.exports=function(t){return new i({dims:t,transform:function(t,e){var n=t.rowObject(0);return n[e]=r.sum(t,e),new r([n])}})}},function(t,e,n){var i=n(13);i.Image=n(247),i.Text=n(251),i.Line=n(248),i.Tag=n(250),i.Rect=n(249),i.Arc=n(245),i.Html=n(246),t.exports=i},function(t,e,n){"use strict";var i=n(1),r=n(13),a=n(4),g=a.Vector2,s=function(t){s.superclass.constructor.call(this,t)};i.extend(s,r),i.augment(s,{start:[],end:[],cfg:{stroke:"#000"},getCfg:function(t){var e,n,i=this.parsePoint(t,this.start),r=this.parsePoint(t,this.end),a=t.invertPoint(i),s=t.invertPoint(r),o={x:(s.x+a.x)/2,y:a.y},u=t.convertPoint(o),c=t.getCenter(),l=new g(1,0),h=new g.sub(i,c).length(),f=new g.sub(r,i);return(f=f.vertical()).setLength(h),f.add(u),e=new g.sub(i,f),n=new g.sub(r,f),{x:f.x,y:f.y,startAngle:e.angleTo(l,!0),endAngle:n.angleTo(l,!0),r:h}},paint:function(t,e){var n=i.mix({},this.cfg,this.getCfg(t));e.addShape("Arc",{attrs:n})}}),t.exports=s},function(t,e,n){"use strict";var f=n(1),i=n(13);n(252);var r=function(t){r.superclass.constructor.call(this,t)};f.extend(r,i),f.augment(r,{type:"html",point:[],cfg:{offset:[0,0],align:"cc"},html:"",paint:function(t,e){var n=this.parsePoint(t,this.point),i=f.createDom(this.html);i=f.modiCSS(i,{position:"absolute",top:Math.floor(n.y)+"px",left:Math.floor(n.x)+"px",visibility:"hidden"});var r,a=e.get("canvas").get("el").parentNode;0<a.getElementsByClassName("guideWapper").length?r=a.getElementsByClassName("guideWapper")[0]:(r=f.createDom('<div class="guideWapper"></div>'),r=f.modiCSS(r,{position:"absolute",top:0,left:0}),a.appendChild(r)),r.appendChild(i);var s=this.cfg;if(s.align){var o=s.align,u=f.getWidth(i),c=f.getHeight(i),l=function(t,e,n){var i=[];switch(t){case"tl":i[0]=0,i[1]=0;break;case"tr":i[0]=-e,i[1]=0;break;case"bl":i[0]=0,i[1]=Math.floor(-n);break;case"br":i[0]=Math.floor(-e),i[1]=Math.floor(-n);break;case"rc":i[0]=Math.floor(-e),i[1]=Math.floor(-n/2);break;case"lc":i[0]=0,i[1]=Math.floor(-n/2);break;case"tc":i[0]=Math.floor(-e/2),i[1]=Math.floor(-n);break;case"bc":i[0]=Math.floor(-e/2),i[1]=0;break;default:i[0]=Math.floor(-e/2),i[1]=Math.floor(-n/2)}return i}(o,u,c);n.x=n.x+l[0],n.y=n.y+l[1]}if(s.offset){var h=s.offset;n.x=n.x+h[0],n.y=n.y+h[1]}f.modiCSS(i,{top:Math.floor(n.y)+"px",left:Math.floor(n.x)+"px",visibility:"visible"})}}),t.exports=r},function(t,e,n){"use strict";var a=n(1),i=n(13),r=function(t){r.superclass.constructor.call(this,t)};a.extend(r,i),a.augment(r,{start:[],end:null,src:"",paint:function(t,e){var n=this.parsePoint(t,this.start),i=this.cfg;if(i.img=i.src,i=a.mix({src:this.src},i,n),this.end){var r=this.parsePoint(t,this.end);i.x=n.x,i.y=r.y,i.width=r.x-n.x,i.height=n.y-r.y}else i.y=i.y-i.height;e.addShape("Image",{attrs:i})}}),t.exports=r},function(t,e,n){"use strict";var s=n(1),i=n(13),r=function(t){r.superclass.constructor.call(this,t)};s.extend(r,i),s.augment(r,{from:[],to:[],cfg:{stroke:"#000",lineWidth:1},paint:function(t,e){var n=this.parsePoint(t,this.from),i=this.parsePoint(t,this.to),r=this.cfg,a=s.substitute("M {x} {y}",n)+s.substitute("L {x} {y}",i);r=s.mix({path:a},r),e.addShape("Path",{attrs:r})}}),t.exports=r},function(t,e,n){"use strict";var r=n(1),i=n(13),a=function(t){a.superclass.constructor.call(this,t)};r.extend(a,i),r.augment(a,{start:[],end:[],cfg:{stroke:"#000"},getPath:function(t){var e=this.parsePoint(t,this.start),n=this.parsePoint(t,this.end),i=[];return i.push(["M",e.x,e.y]),i.push(["L",n.x,e.y]),i.push(["L",n.x,n.y]),i.push(["L",e.x,n.y]),i.push(["z"]),i},paint:function(t,e){var n=this.cfg,i=this.getPath(t);n=r.mix({path:i},n),e.addShape("Path",{attrs:n})}}),t.exports=a},function(t,e,n){"use strict";var s=n(1),i=n(13),r=function(t){r.superclass.constructor.call(this,t)};s.extend(r,i),s.augment(r,{from:[],to:[],text:"",cfg:{line:{stroke:"#000",lineWidth:1},text:{fill:"#000"},rect:{stroke:"#000",lineWidth:1,fill:"#fff"}},paint:function(t,e){var n=this.parsePoint(t,this.from),i=this.parsePoint(t,this.to),r=e.addGroup();this.drawLine(n,i,r),this.drawText(i,r)},drawLine:function(t,e,n){var i=s.substitute("M {x} {y}",t)+s.substitute("L {x} {y}",e),r=s.mix({path:i},this.cfg.line);n.addShape("Path",{attrs:r})},drawText:function(t,e){var n=s.mix({text:this.text},this.cfg.text,t),i=e.addShape("Text",{zIndex:1,attrs:n}),r=i.getBBox(),a=s.mix({x:r.minX-10,y:r.minY-10,width:r.width+20,height:r.height+20},this.cfg.rect);e.addShape("rect",{attrs:a}),e.sort()}}),t.exports=r},function(t,e,n){"use strict";var a=n(1),i=n(13),r=function(t){r.superclass.constructor.call(this,t)};a.extend(r,i),a.augment(r,{position:[],text:"",cfg:{fill:"#000",textAlign:"center"},paint:function(t,e){var n=this.position,i=this.parsePoint(t,n),r=this.cfg;r=a.mix({text:this.text},r,i),e.addShape("Text",{attrs:r})}}),t.exports=r},function(t,e,n){"use strict";var i=n(1),r=document.createElement("table"),a=document.createElement("tr"),s=/^\s*<(\w+|!)[^>]*>/,o={tr:document.createElement("tbody"),tbody:r,thead:r,tfoot:r,td:a,th:a,"*":document.createElement("div")};i.mix(i,{modiCSS:function(t,e){var n;for(n in e)!0===e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t},createDom:function(t){var e=s.test(t)&&RegExp.$1;e in o||(e="*");var n=o[e];return t=t.replace(/(^\s*)|(\s*$)/g,""),n.innerHTML=""+t,n.childNodes[0]},getStyle:function(t,e){return window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.currentStyle[e]},getWidth:function(t){var e=this.getStyle(t,"width");return"auto"===e&&(e=t.offsetWidth),parseFloat(e)},getHeight:function(t){var e=this.getStyle(t,"height");return"auto"===e&&(e=t.offsetHeight),parseFloat(e)}}),t.exports=i},function(t,e){
/**
	* @license
	*
	* Regression.JS - Regression functions for javascript
	* http://tom-alexander.github.com/regression-js/
	*
	* copyright(c) 2013 Tom Alexander
	* Licensed under the MIT license.
	*
	**/
"use strict";var i={linear:function(t){for(var e=[0,0,0,0,0],n=0,i=[];n<t.length;n++)null!=t[n][1]&&(e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][0]*t[n][0],e[3]+=t[n][0]*t[n][1],e[4]+=t[n][1]*t[n][1]);for(var r=(n*e[3]-e[0]*e[1])/(n*e[2]-e[0]*e[0]),a=e[1]/n-r*e[0]/n,s=0,o=t.length;s<o;s++){var u=[t[s][0],t[s][0]*r+a];i.push(u)}var c="y = "+Math.round(100*r)/100+"x + "+Math.round(100*a)/100;return{equation:[r,a],points:i,string:c}},linearThroughOrigin:function(t){for(var e=[0,0],n=0,i=[];n<t.length;n++)null!=t[n][1]&&(e[0]+=t[n][0]*t[n][0],e[1]+=t[n][0]*t[n][1]);for(var r=e[1]/e[0],a=0,s=t.length;a<s;a++){var o=[t[a][0],t[a][0]*r];i.push(o)}var u="y = "+Math.round(100*r)/100+"x";return{equation:[r],points:i,string:u}},exponential:function(t){var e=[0,0,0,0,0,0],n=0,i=[];for(u=t.length;n<u;n++)null!=t[n][1]&&(e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][0]*t[n][0]*t[n][1],e[3]+=t[n][1]*Math.log(t[n][1]),e[4]+=t[n][0]*t[n][1]*Math.log(t[n][1]),e[5]+=t[n][0]*t[n][1]);for(var r=e[1]*e[2]-e[5]*e[5],a=Math.pow(Math.E,(e[2]*e[3]-e[5]*e[4])/r),s=(e[1]*e[4]-e[5]*e[3])/r,o=0,u=t.length;o<u;o++){var c=[t[o][0],a*Math.pow(Math.E,s*t[o][0])];i.push(c)}var l="y = "+Math.round(100*a)/100+"e^("+Math.round(100*s)/100+"x)";return{equation:[a,s],points:i,string:l}},logarithmic:function(t){var e=[0,0,0,0],n=0,i=[];for(o=t.length;n<o;n++)null!=t[n][1]&&(e[0]+=Math.log(t[n][0]),e[1]+=t[n][1]*Math.log(t[n][0]),e[2]+=t[n][1],e[3]+=Math.pow(Math.log(t[n][0]),2));for(var r=(n*e[1]-e[2]*e[0])/(n*e[3]-e[0]*e[0]),a=(e[2]-r*e[0])/n,s=0,o=t.length;s<o;s++){var u=[t[s][0],a+r*Math.log(t[s][0])];i.push(u)}var c="y = "+Math.round(100*a)/100+" + "+Math.round(100*r)/100+" ln(x)";return{equation:[a,r],points:i,string:c}},power:function(t){var e=[0,0,0,0],n=0,i=[];for(o=t.length;n<o;n++)null!=t[n][1]&&(e[0]+=Math.log(t[n][0]),e[1]+=Math.log(t[n][1])*Math.log(t[n][0]),e[2]+=Math.log(t[n][1]),e[3]+=Math.pow(Math.log(t[n][0]),2));for(var r=(n*e[1]-e[2]*e[0])/(n*e[3]-e[0]*e[0]),a=Math.pow(Math.E,(e[2]-r*e[0])/n),s=0,o=t.length;s<o;s++){var u=[t[s][0],a*Math.pow(t[s][0],r)];i.push(u)}var c="y = "+Math.round(100*a)/100+"x^"+Math.round(100*r)/100;return{equation:[a,r],points:i,string:c}},polynomial:function(t,e){void 0===e&&(e=2);for(var n=[],i=[],r=[],a=0,s=0,o=0,u=e+1;o<u;o++){for(var c=0,l=t.length;c<l;c++)null!=t[c][1]&&(a+=Math.pow(t[c][0],o)*t[c][1]);n.push(a);for(var h=[],f=a=0;f<u;f++){for(var c=0,l=t.length;c<l;c++)null!=t[c][1]&&(s+=Math.pow(t[c][0],o+f));h.push(s),s=0}i.push(h)}i.push(n);for(var g=function(t,e){var n=0,i=0,r=0,a=0,s=0,o=t.length-1,u=new Array(e);for(n=0;n<o;n++){for(i=(a=n)+1;i<o;i++)Math.abs(t[n][i])>Math.abs(t[n][a])&&(a=i);for(r=n;r<1+o;r++)s=t[r][n],t[r][n]=t[r][a],t[r][a]=s;for(i=n+1;i<o;i++)for(r=o;n<=r;r--)t[r][i]-=t[r][n]*t[n][i]/t[n][n]}for(i=o-1;0<=i;i--){for(s=0,r=i+1;r<o;r++)s+=t[r][i]*u[r];u[i]=(t[o][i]-s)/t[i][i]}return u}(i,u),o=0,l=t.length;o<l;o++){for(var p=0,d=0;d<g.length;d++)p+=g[d]*Math.pow(t[o][0],d);r.push([t[o][0],p])}for(var v="y = ",o=g.length-1;0<=o;o--)v+=1<o?Math.round(g[o]*Math.pow(10,o))/Math.pow(10,o)+"x^"+o+" + ":1==o?Math.round(100*g[o])/100+"x + ":Math.round(100*g[o])/100;return{equation:g,points:r,string:v}},lastvalue:function(t){for(var e=[],n=null,i=0;i<t.length;i++)t[i][1]?(n=t[i][1],e.push([t[i][0],t[i][1]])):e.push([t[i][0],n]);return{equation:[n],points:e,string:""+n}}};t.exports=function(t,e,n){if("string"==typeof t)return i[t](e,n)}},function(t,e,n){"use strict";var i=(n(29),{region:n(258),center:n(255),name:n(257),location:n(256)});t.exports=i},function(t,e,n){"use strict";function r(t){return Math.min.apply(null,t)}function a(t){return Math.max.apply(null,t)}var h=n(1),i=n(29);t.exports=function(t,e){return new i({dims:t,mapData:e,addGeoInfo:function(s,t){var o=this,e=o.getDims(),n=e[e.length-1],u=s[n],i=o.mapData.features,c=t[0],l=t[1];return s[c]=null,s[l]=null,i&&h.each(i,function(t){var e=t.properties?t.properties.name:"";if(e===u){var n=t.properties.cp;if(!n){var i=t.geometry,r=i.coordinates,a=o._getBBox(r);n=[a[0]+(a[2]-a[0])/2,a[1]+(a[3]-a[1])/2]}return s[c]=n[0],s[l]=n[1],!1}}),s},_getBBox:function(t){var e=[],n=[],i=this._getPoints(t);return h.each(i,function(t){e.push(t[0]),n.push(t[1])}),[r(e),r(n),a(e),a(n)]},_getPoints:function(t){var n=this,i=[];return h.isArray(t[0])?h.each(t,function(t){var e=n._getPoints(t);i=i.concat(e)}):i.push(t),i}})}},function(t,e,n){"use strict";var i=n(29);t.exports=function(t){return new i({dims:t,initDims:function(t){var e=t.slice(0,2),n=t.slice(2);(t=n.concat(e)).unshift("..lant"),t.unshift("..long"),this.dims=t},addGeoInfo:function(t,e){var n=e[0],i=e[1],r=this.getDims(),a=r.length;return t[n]=t[r[a-2]],t[i]=t[r[a-1]],t}})}},function(t,e,n){"use strict";var c=n(1),i=n(29);t.exports=function(t,e){return new i({dims:t,mapData:e,initDims:function(t){t.push("..name")},addGeoInfo:function(i,r){var a=this,t=a.getDims(),e=t[0],n=t[1],s=[i[e],i[n]],o=!1,u=a.mapData.features;return i[r]="",u&&c.each(u,function(t){var e=t.geometry.coordinates;if("Polygon"===t.geometry.type?c.each(e,function(t){if(o=a._isInside(s,t))return!1}):"MultiPolygon"===t.geometry.type&&c.each(e,function(t){return!o&&void c.each(t,function(t){if(o=a._isInside(s,t))return!1})}),o){var n=t.properties?t.properties.name:"";return i[r]=a.names?a.names.indexOf(n):n,!1}}),i},_isInside:function(t,e){for(var n=t[0],i=t[1],r=!1,a=0,s=e.length-1;a<e.length;s=a++){var o=e[a][0],u=e[a][1],c=e[s][0],l=e[s][1],h=i<u!=i<l&&n<(c-o)*(i-u)/(l-u)+o;h&&(r=!r)}return r}})}},function(t,e,n){"use strict";var l=n(1),i=n(29);t.exports=function(t,e){return new i({dims:t,mapData:e,addGeoInfo:function(r,t){var a=this,e=a.getDims(),n=e[e.length-1],s=r[n],i=a.mapData,o=i.features,u=t[0],c=t[1];return r[u]=[],r[c]=[],o&&l.each(o,function(t){var e=t.properties?t.properties.name:"";if(e===s){var n=t.geometry,i=n.coordinates;return"Polygon"===n.type?i.forEach(function(t){a._getCoordinates(t,r[u],r[c])}):"MultiPolygon"===n.type?i.forEach(function(t){t.forEach(function(t){a._getCoordinates(t,r[u],r[c])})}):"MultiLineString"===n.type&&i.forEach(function(t){a._getCoordinates(t,r[u],r[c],"line")}),!1}}),r},_getCoordinates:function(t,e,n,i){return l.each(t,function(t){e.push(t[0]),n.push(t[1])}),i&&"line"===i&&(e.push(t[0][0]),n.push(t[0][1])),!1}})}},function(t,e,n){"use strict";var i=n(38),r=n(1),a=function(t){a.superclass.constructor.call(this,t)};r.extend(a,i),r.augment(a,{type:"identity",value:null,getText:function(){return this.value.toString()},scale:function(){return 1},invert:function(){return this.value}}),t.exports=a},function(t,e,n){"use strict";function h(t,e){return 1===t?1:Math.log(e)/Math.log(t)}var f=n(1),i=n(37),r=function(t){r.superclass.constructor.call(this,t)};f.extend(r,i),f.augment(r,{type:"log",base:2,tickCount:10,_minTick:null,calculateTicks:function(){var t,e=this,n=e.base;if(e.min<0)throw new Error("The minimum value must be greater than zero");var i=h(n,e.max);if(0<e.min)t=Math.floor(h(n,e.min));else{var r=e.values,a=e.max;f.each(r,function(t){0<t&&t<a&&(a=t)}),a===e.max&&(a=e.max/n),1<a&&(a=1),t=Math.floor(h(n,a)),e._minTick=t,e.positiveMin=a}for(var s=i-t,o=e.tickCount,u=Math.ceil(s/o),c=[],l=t;l<i+u;l+=u)c.push(Math.pow(n,l));return 0===e.min&&c.unshift(0),c},getScalePercent:function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var i=this.base,r=this.positiveMin;return r&&(n=1*r/i),t<r?t/r/(h(i,e)-h(i,n)):(h(i,t)-h(i,n))/(h(i,e)-h(i,n))},scale:function(t){var e=this.getScalePercent(t),n=this.rangeMin(),i=this.rangeMax();return n+e*(i-n)},invert:function(t){var e,n=this.base,i=h(n,this.max),r=this.rangeMin(),a=this.rangeMax()-r,s=this.positiveMin;if(s){if(0===t)return 0;e=h(n,s/n);var o=1/(i-e)*a;if(t<o)return t/o*s}else e=h(n,this.min);var u=(t-r)/a*(i-e)+e;return Math.pow(n,u)}}),t.exports=r},function(t,e,n){"use strict";function c(t,e){var n=Math.E,i=Math.pow(n,Math.log(e)/t);return i}var i=n(1),r=n(37),a=function(t){a.superclass.constructor.call(this,t)};i.extend(a,r),i.augment(a,{type:"pow",exponent:2,tickCount:12,calculateTicks:function(){var t,e=this.exponent,n=Math.ceil(c(e,this.max));if(t=0<=this.min?Math.round(c(e,this.min)):0,n<t){var i=n;n=t,t=i}for(var r=n-t,a=this.tickCount,s=Math.ceil(r/a),o=[],u=t;u<n+s;u+=s)o.push(Math.pow(u,e));return o},getScalePercent:function(t){var e=this.max,n=this.min;if(e===n)return 0;var i=this.exponent,r=(c(i,t)-c(i,n))/(c(i,e)-c(i,n));return r},scale:function(t){var e=this.getScalePercent(t),n=this.rangeMin(),i=this.rangeMax();return n+e*(i-n)},invert:function(t){var e=(t-this.rangeMin())/(this.rangeMax()-this.rangeMin()),n=this.exponent,i=c(n,this.max),r=c(n,this.min),a=e*(i-r)+r;return Math.pow(a,n)}}),t.exports=a},function(t,e,n){"use strict";var i=n(88),a=n(1),s=n(44),o=n(35),r=n(89),u=function(t){u.superclass.constructor.call(this,t)};a.extend(u,i),a.augment(u,{type:"timeCat",mask:"yyyy-mm-dd HH:MM:ss",tickCount:5,init:function(){var n=this,i=this.values;i.sort(function(t,e){return t=n._toTimeStamp(t),e=n._toTimeStamp(e),t-e}),a.each(i,function(t,e){i[e]=n._toTimeStamp(t)}),this.ticks=this.calculateTicks(!0)},calculateTicks:function(t){var n=this,e=n.tickCount,i=o.Category.caculate({maxCount:e,data:n.values}),r=i.ticks;return t&&a.each(r,function(t,e){r[e]=s.format(t,n.mask)}),r},translate:function(t){t=this._toTimeStamp(t);var e=this.values.indexOf(t);return-1===e&&(e=a.isNumber(t)&&t<this.values.length?t:NaN),e},scale:function(t){var e,n=this.rangeMin(),i=this.rangeMax(),r=this.translate(t);return e=1===this.values.length?r:-1<r?r/(this.values.length-1):0,n+e*(i-n)},getText:function(t){var e="",n=this.translate(t);-1<n&&(e=this.values[n]);var i=this.formatter;return e=parseInt(e,10),e=i?i(e):s.format(e,this.mask)},getTicks:function(){var n=this,t=this.calculateTicks(!1),i=[];return a.each(t,function(t){var e;e=a.isObject(t)?t:{text:n.getText(t),value:n.scale(t)},i.push(e)}),i},_toTimeStamp:function(t){return r.toTimeStamp(t)}}),t.exports=u},function(t,e,n){"use strict";var i=n(37),o=n(1),a=n(35),r=n(44),s=n(89),u=function(t){u.superclass.constructor.call(this,t)};o.extend(u,i),o.augment(u,{type:"time",mask:"yyyy-mm-dd",init:function(){var n=this,t=n.values;if(t){var i=[],r=1/0,a=r,s=0;o.each(t,function(t){var e=n._toTimeStamp(t);e<r?(a=r,r=e):e<a&&(a=e),s<e&&(s=e),i.push(e)}),1<t.length&&(n.minTickInterval=a-r),(o.isNull(n.min)||n._toTimeStamp(n.min)>r)&&(n.min=r),(o.isNull(n.max)||n._toTimeStamp(n.max)<s)&&(n.max=s)}u.superclass.init.call(n)},calculateTicks:function(){var t=this.min,e=this.max,n=this.tickCount,i=this.tickInterval,r=a.Time.caculate({min:t,max:e,minCount:n,maxCount:n,interval:i,minInterval:this.minTickInterval});return r.ticks},getText:function(t){var e=this.formatter;return t=this.translate(t),t=e?e(t):r.format(t,this.mask)},scale:function(t){return o.isString(t)&&(t=this.translate(t)),u.superclass.scale.call(this,t)},translate:function(t){return this._toTimeStamp(t)},_toTimeStamp:function(t){return s.toTimeStamp(t)}}),t.exports=u},function(t,e,n){"use strict";var i=n(1),r=n(49),a=function(t){t.inner=t.inner||0,a.superclass.constructor.call(this,t)};i.extend(a,r),i.augment(a,{type:"clock"}),t.exports=a},function(t,e,n){"use strict";var i=n(1),r=n(49),a=function(t){t.inner=t.inner||0,a.superclass.constructor.call(this,t)};i.extend(a,r),i.augment(a,{type:"gauge"}),t.exports=a},function(t,e,n){var i=n(1),r=n(30),a=n(4),d=a.Vector2,s=function(t){var e={};i.mix(e,s.ATTRS,t),s.superclass.constructor.call(this,e),this._init()};s.ATTRS={startAngle:1.25*Math.PI,endAngle:7.25*Math.PI},i.extend(s,r),i.augment(s,{type:"helix",isHelix:!0,PRECISION:1e-5,_init:function(){var t=this.getWidth(),e=this.getHeight(),n=this.get("startAngle"),i=this.get("endAngle"),r=(i-n)/(2*Math.PI);r=2*r+2;var a=Math.floor(Math.min(t/r,e/r)),s=a/(2*Math.PI),o={start:n,end:i},u={start:0,end:.99*a};this.set("a",s),this.set("d",a),this.set("x",o),this.set("y",u)},getCenter:function(){return this.get("center")},convertPoint:function(t){var e=this.get("a"),n=this.get("center"),i=this.isTransposed?t.y:t.x,r=this.isTransposed?t.x:t.y,a=this.convertDim(i,"x"),s=e*a,o=this.convertDim(r,"y");return{x:n.x+Math.cos(a)*(s+o),y:n.y+Math.sin(a)*(s+o)}},invertPoint:function(t){var e,n=this,i=n.get("center"),r=n.get("a"),a=n.get("d"),s=new d.sub(t,i),o=new d(1,0),u=s.angleTo(o,!0),c=u*r;s.length()<c&&(c=s.length()),e=Math.floor((s.length()-c)/a),u=2*e*Math.PI+u;var l=r*u,h=s.length()-l;h=n.equal(h,0)?0:h;var f=n.invertDim(u,"x"),g=n.invertDim(h,"y");f=n.equal(f,0)?0:f,g=n.equal(g,0)?0:g;var p={};return p.x=n.isTransposed?g:f,p.y=n.isTransposed?f:g,p},equal:function(t,e){return Math.abs(t-e)<this.PRECISION}}),t.exports=s},function(t,e,n){"use strict";var a=n(1),i=n(91),s=n(156),o=function(t){var e={};a.mix(e,o.ATTRS,t),o.superclass.constructor.call(this,e);var n=this.get("projection"),i=this.get("basic"),r=s[n];this.set("project",new r({basic:i}))};o.ATTRS={projection:"mercator"},a.extend(o,i),a.augment(o,{type:"map",_getOriginRange:function(){var t=this,e=t.get("originMin")?t.get("originMin")[0]:t.get("min")[0],n=t.get("originMin")?t.get("originMin")[1]:t.get("min")[1],i=t.get("originMax")?t.get("originMax")[0]:t.get("max")[0],r=t.get("originMax")?t.get("originMax")[1]:t.get("max")[1],a={x:i-e,y:r-n};return{xMin:e,yMin:n,range:a}},_getProjectRange:function(){var t=this.get("min")?this.get("min"):this.get("originMin"),e=this.get("max")?this.get("max"):this.get("originMax"),n=t[0],i=t[1],r=e[0],a=e[1],s={x:r-n,y:a-i};return{xMin:n,yMin:i,range:s}},_invert:function(t,e){var n;"origin"===e?n=this._getOriginRange():"project"===e&&(n=this._getProjectRange());var i=n.xMin,r=n.yMin,a=n.range;return t.x=i+t.x*a.x,t.y=r+t.y*a.y,t},_scale:function(t,e){var n;"origin"===e?n=this._getOriginRange():"project"===e&&(n=this._getProjectRange());var i=n.xMin,r=n.yMin,a=n.range;return t.x=(t.x-i)/a.x,t.y=(t.y-r)/a.y,t},convertPoint:function(t){var e=this.isTransposed?t.y:t.x,n=this.isTransposed?t.x:t.y,i=this.get("project"),r=this._invert({x:e,y:n},"origin");return r=i.project(r.x,r.y),r=this._scale(r,"project"),{x:this.convertDim(r.x,"x"),y:this.convertDim(r.y,"y")}},invertPoint:function(t){var e=this.invertDim(t.x,"x"),n=this.invertDim(t.y,"y"),i={};i.x=this.isTransposed?n:e,i.y=this.isTransposed?e:n;var r=this.get("project");return i=this._invert(i,"project"),i=r.invert(i),i=this._scale(i,"origin")}}),t.exports=o},function(t,e,n){"use strict";var i=n(1),r=n(39),a=n(4),s=a.Vector2,o=function(t){t.inner=t.inner||0,o.superclass.constructor.call(this,t);var e=this.get("x");this.set("x",this.get("y")),this.set("y",e)};i.extend(o,r),i.augment(o,{type:"rho",convertPoint:function(t){var e=this.getCenter(),n=this.get("y").start,i=this.convertDim(t.x,"x");return{x:e.x+Math.cos(n)*i,y:e.y+Math.sin(n)*i}},invertPoint:function(t){var e=this.getCenter(),n=new s(t.x-e.x,t.y-e.y),i=n.length();return{x:this.invertDim(i,"x")}}}),t.exports=o},function(t,e,n){"use strict";var i=n(1),r=n(39),a=n(4),u=n(7),c=a.Vector2,l=a.Matrix3,h=a.Vector3,s=function(t){t.inner=t.inner||0,s.superclass.constructor.call(this,t)};i.extend(s,r),i.augment(s,{type:"theta",convertPoint:function(t){var e=this.getCenter(),n=this.convertDim(t.x,"x"),i=this.get("y").end;return{x:e.x+Math.cos(n)*i,y:e.y+Math.sin(n)*i}},invertPoint:function(t){var e=this.getCenter(),n=new c(t.x-e.x,t.y-e.y),i=this.get("x"),r=new l;r.rotate(i.start);var a=new h(1,0,0);a.applyMatrix(r);var s=(a=new c(a.x,a.y)).angleTo(n,i.end<i.start);u.equal(s,2*Math.PI)&&(s=0);var o=s/(i.end-i.start);return{x:o=0<i.end-i.start?o:-o}}}),t.exports=s},function(t,e,n){"use strict";function i(t){var e={};r.mix(e,i.ATTRS,t),i.superclass.constructor.call(this,e),this._init()}var r=n(1),a=n(30);i.ATTRS={start:{x:0,y:0},end:{x:0,y:0},top:.5},r.extend(i,a),r.augment(i,{type:"triAngle",triAngle:!0,_init:function(){return this.setTopfactor(),this},setTopfactor:function(){var e=this.get("start"),t=this.get("end"),n={x:t.x,y:e.y},i={x:e.x+(t.x-e.x)*this.get("top"),y:t.y};this.getXStart=function(t){return e.x+(i.x-e.x)/(i.y-e.y)*(t-e.y)},this.getXEnd=function(t){return n.x+(i.x-n.x)/(i.y-n.y)*(t-n.y)}},set:function(t,e){return this._attrs[t]=e,"top"===t&&this.setTopfactor(),this},convertPoint:function(t){var e=this.get("start"),n=this.get("end"),i=t.y,r=t.x;isNaN(i)&&(i=0),i=e.y+(n.y-e.y)*i;var a=this.getXStart(i),s=this.getXEnd(i);return{x:r=a+(s-a)*r,y:i}},invertPoint:function(t){var e=this.get("start"),n=this.get("end"),i=this.getXStart(t.y),r=this.getXEnd(t.y),a=(t.x-i)/(i-r);return{x:-a,y:-(t.y-e.y)/(n.y-e.y)}}}),t.exports=i},function(t,e,n){var i=n(274);t.exports=i},function(t,e,n){"use strict";var i=n(17),r=n(1),a=function(t){a.superclass.constructor.call(this,t)};a.ATTRS={_circle:{center:{x:0,y:0},r:0,startAngle:-Math.PI/2,endAngle:1.5*Math.PI}},r.extend(a,i),r.augment(a,{getInitAttrs:function(){var t=this.get("_circle"),e=this.getCircleInfo(),n=e.center;e=r.mix(t,e);var i={x:n.x,y:n.y,rs:0,re:e.r+100,startAngle:e.startAngle,endAngle:e.startAngle};return i},getEndAttrs:function(){var t=this.get("_circle"),e=this.getCircleInfo(),n={endAngle:(e=r.mix(t,e)).endAngle};return n},getTarget:function(){var t=this.get("group"),e=t.getParent(),n=e.addShape("Fan");return t.attr("clip",n),n}}),t.exports=a},function(t,e,n){"use strict";var i=n(17),r=n(1),a=function(t){a.superclass.constructor.call(this,t)};r.extend(a,i),r.augment(a,{getInitAttrs:function(){var t=this.getCircleInfo(),e=t.center,n={x:e.x,y:e.y,r:0};return n},getEndAttrs:function(){var t=this.getCircleInfo(),e={r:t.r+150};return e},getTarget:function(){var t=this.get("group"),e=t.getParent(),n=e.addShape("Circle");return t.attr("clip",n),n}}),t.exports=a},function(t,e,n){"use strict";var i=n(17),r=n(272),a=n(273),s=n(278),o=n(277),u=n(276),c=n(275),l=n(279);i.angle=r,i.circle=a,i.waveh=s,i.scaleXY=o,i.scaleY=u,i.scaleX=c,i.waves=l,i.groupAngle=r,i.groupCircle=a,i.groupWaveh=s,i.groupScaleXY=o,i.groupScaleY=u,i.groupScaleX=c,i.groupWaves=l,t.exports=i},function(t,e,n){"use strict";var i=n(17),r=n(1),a=n(6).Matrix,s=a.Matrix3,o=r.MatrixUtil,u=function(t){u.superclass.constructor.call(this,t)};r.extend(u,i),r.augment(u,{getInitMatrix:function(){var t=this.get("rect"),e=this.getRectCenter(t),n=new s;return n=o.scale(n,.01,1,e.x-t.width/2,t.y)},getAnimMatrix:function(){var t=this.get("rect"),e=this.getRectCenter(t),n=new s;return n=o.scale(n,1,1,e.x-t.width/2,t.y)}}),t.exports=u},function(t,e,n){"use strict";var i=n(17),r=n(1),a=n(6).Matrix,s=a.Matrix3,o=r.MatrixUtil,u=function(t){u.superclass.constructor.call(this,t)};r.extend(u,i),r.augment(u,{getInitMatrix:function(){var t=this.get("rect"),e=this.getRectCenter(t),n=new s;return n=o.scale(n,1,-.01,e.x,t.y+t.height)},getAnimMatrix:function(){var t=this.get("rect"),e=this.getRectCenter(t),n=new s;return n=o.scale(n,1,1,e.x,t.y+t.height)}}),t.exports=u},function(t,e,n){"use strict";var i=n(17),r=n(1),a=n(6).Matrix,s=a.Matrix3,o=r.MatrixUtil,u=function(t){u.superclass.constructor.call(this,t)};r.extend(u,i),r.augment(u,{getInitMatrix:function(){var t=this.get("rect"),e=this.getRectCenter(t),n=new s;return n=o.scale(n,.01,.01,e.x,e.y)},getAnimMatrix:function(){var t=this.get("rect"),e=this.getRectCenter(t),n=new s;return n=o.scale(n,1,1,e.x,e.y)}}),t.exports=u},function(t,e,n){"use strict";var i=n(92),r=n(1),a=function(t){a.superclass.constructor.call(this,t)};r.extend(a,i),r.augment(a,{getInitAttrs:function(){var t=this.get("rect"),e={x:t.x,y:t.y,width:t.width,height:0};return e}}),t.exports=a},function(t,e,n){"use strict";var i=n(92),r=n(1),a=function(t){a.superclass.constructor.call(this,t)};r.extend(a,i),r.augment(a,{getInitAttrs:function(){var t=this.get("rect"),e={x:t.x,y:t.y,width:0,height:t.height};return e}}),t.exports=a},function(t,e,n){"use strict";var r=n(111),i=n(283),a=n(96),s=function(t){s.superclass.constructor.call(this,t)};s.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null},r.extend(s,a.Group),r.augment(s,{init:function(){s.superclass.init.call(this),this._setGlobalParam(),this._setDOM(),this._setInitSize(),this._setCanvas(),this._scale(),this.get("eventEnable")&&this._registEvents()},_registEvents:function(){var t=this.get("el"),e=new i(this);t.addEventListener("mouseout",function(t){e.mouseout(t)},!1),t.addEventListener("mouseover",function(t){e.mouseover(t)},!1),t.addEventListener("mousemove",function(t){e.mousemove(t)},!1),t.addEventListener("mousedown",function(t){e.mousedown(t)},!1),t.addEventListener("mouseup",function(t){e.mouseup(t)},!1),t.addEventListener("click",function(t){e.click(t)},!1),t.addEventListener("dblclick",function(t){e.dblclick(t)},!1)},_scale:function(){var t=this.get("pixelRatio");this.scale(t,t)},_setCanvas:function(){var t=this.get("canvasDOM");this.set("el",t),this.set("context",t.getContext("2d")),this.set("canvas",this)},_setGlobalParam:function(){var t=this.get("pixelRatio");t||this.set("pixelRatio",r.getRatio())},_setDOM:function(){this._setContainer(),this._setLayer()},_setContainer:function(){var t=this.get("containerId"),e=this.get("containerDOM");e||(e=document.getElementById(t),this.set("containerDOM",e)),r.modiCSS(e,{position:"relative"})},_setLayer:function(){var t=this.get("containerDOM"),e=r.guid("canvas_");if(t){var n=r.createDom('<canvas id="'+e+'"></canvas>');t.appendChild(n),this.set("canvasDOM",n)}},_setInitSize:function(){this.get("widthStyle")?this.changeSizeByCss(this.get("widthStyle"),this.get("heightStyle")):this.get("width")&&this.changeSize(this.get("width"),this.get("height"))},_getPx:function(t,e){var n=this.get("canvasDOM");n.style[t]=e;var i=r.getBoundingClientRect(n);return"width"===t?i.right-i.left:"height"===t?i.bottom-i.top:void 0},_reSize:function(){var t=this.get("canvasDOM"),e=this.get("widthCanvas"),n=this.get("heightCanvas"),i=this.get("widthStyle"),r=this.get("heightStyle");t.style.width=i,t.style.height=r,t.setAttribute("width",e),t.setAttribute("height",n)},getWidth:function(){var t=this.get("pixelRatio"),e=this.get("width");return e*t},getHeight:function(){var t=this.get("pixelRatio"),e=this.get("height");return e*t},changeSizeByCss:function(t,e){var n=this.get("pixelRatio");t=this._getPx("width",t),e=this._getPx("height",e);var i=t*n,r=e*n;this.set("widthStyle",t),this.set("heightStyle",e),this.set("widthCanvas",i),this.set("heightCanvas",r),this.set("width",t),this.set("height",e),this._reSize()},changeSize:function(t,e){var n=this.get("pixelRatio"),i=t*n,r=e*n;this.set("widthCanvas",i),this.set("heightCanvas",r),this.set("widthStyle",t+"px"),this.set("heightStyle",e+"px"),this.set("width",t),this.set("height",e),this._reSize()},getPointByClient:function(t,e){var n=this.get("el"),i=n.getBoundingClientRect(),r=i.right-i.left,a=i.bottom-i.top;return{x:(t-i.left)*(n.width/r),y:(e-i.top)*(n.height/a)}},getClientByPoint:function(t,e){var n=this.get("el"),i=n.getBoundingClientRect(),r=i.right-i.left,a=i.bottom-i.top;return{clientX:t/(n.width/r)+i.left,clientY:e/(n.height/a)+i.top}},beforeDraw:function(){var t=this.get("context"),e=this.get("el");t&&t.clearRect(0,0,e.width,e.height)},_beginDraw:function(){this.setSilent("toDraw",!0)},_endDraw:function(){this.setSilent("toDraw",!1)},draw:function(){var n=this;n.get("destroyed")||(n.get("animateHandler")?this._beginDraw():function t(){n.set("animateHandler",r.requestAnimationFrame(function(){n.set("animateHandler",void 0),n.get("toDraw")&&t()})),n.beforeDraw();try{var e=n.get("context");s.superclass.draw.call(n,e)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t),n._endDraw()}n._endDraw()}())},destroy:function(){var t=this.get("containerDOM"),e=this.get("canvasDOM");e&&t&&t.removeChild(e),s.superclass.destroy.call(this)}}),t.exports=s},function(t,e,n){"use strict";var i=n(1),r=function(t,e,n,i){this.type=t,this.target=null,this.currentTarget=null,this.bubbles=n,this.cancelable=i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=e};i.augment(r,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return i.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),t.exports=r},function(t,e,n){var a=n(1),i=n(281);t.exports={initEventDispatcher:function(){this.__listeners={}},on:function(t,e){var n=this.__listeners;return a.isNull(n[t])&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e),this},off:function(t,e){var n=this.__listeners;return 0===arguments.length?(this.__listeners={},this):1===arguments.length&&a.isString(t)?(n[t]=[],this):2===arguments.length&&a.isString(t)&&a.isFunction(e)?(a.remove(n[t],e),this):void 0},has:function(t,e){var n=this.__listeners;return 0===arguments.length&&!a.isBlank(n)||!(1!==arguments.length||!n[t]||a.isBlank(n[t]))||!(2!==arguments.length||!n[t]||-1===n[t].indexOf(e))},trigger:function(e){var n=this,t=n.__listeners,i=t[e.type];if(e.target=n,a.notNull(i)&&i.forEach(function(t){t.call(n,e)}),e.bubbles){var r=n.get("parent");r&&!e.propagationStopped&&r.trigger(e)}return n},fire:function(t,e){var n=new i(t);a.each(e,function(t,e){n[e]=t}),this.trigger(n)}}},function(t,e,n){"use strict";var i=n(1),o=n(42),r=function(t){this.canvas=t,this.el=t.get("el"),this.current=null,this.pre=null};i.augment(r,{tryTrigger:function(t,e){t.__listeners&&t.trigger(e)},getCurrent:function(t){var e=this.canvas,n=e.getPointByClient(t.clientX,t.clientY);this.point=n,this.pre=this.current,this.current=e.getShape(n.x,n.y)},mousemove:function(t){this.getCurrent(t);var e=this.point,n=this.canvas;if(n.has("canvas-mousemove")){var i=new o("canvas-mousemove",t,!0,!0);i.x=e.x,i.y=e.y,i.clientX=t.clientX,i.clientY=t.clientY,i.currentTarget=n,this.tryTrigger(n,i)}if(this.pre&&this.pre!==this.current){var r=new o("mouseleave",t,!0,!0);r.x=e.x,r.y=e.y,r.clientX=t.clientX,r.clientY=t.clientY,r.currentTarget=this.pre,r.target=this.pre,this.tryTrigger(this.pre,r)}if(this.current){var a=new o("mousemove",t,!0,!0);if(a.x=e.x,a.y=e.y,a.clientX=t.clientX,a.clientY=t.clientY,a.currentTarget=this.current,a.target=this.current,this.tryTrigger(this.current,a),this.pre!==this.current){var s=new o("mouseenter",t,!0,!0);s.x=e.x,s.y=e.y,s.clientX=t.clientX,s.clientY=t.clientY,s.currentTarget=this.current,s.target=this.current,this.tryTrigger(this.current,s)}}},mousedown:function(t){var e=this.point,n=this.canvas;if(n.has("canvas-mousedown")){var i=new o("canvas-mousedown",t,!0,!0);i.x=e.x,i.y=e.y,i.clientX=t.clientX,i.clientY=t.clientY,i.currentTarget=n,this.tryTrigger(n,i)}if(this.current){var r=new o("mousedown",t,!0,!0);r.x=e.x,r.y=e.y,r.clientX=t.clientX,r.clientY=t.clientY,r.currentTarget=this.current,r.target=this.current,this.tryTrigger(this.current,r)}},mouseup:function(t){var e=this.point,n=this.canvas;if(n.has("canvas-mouseup")){var i=new o("canvas-mouseup",t,!0,!0);i.x=e.x,i.y=e.y,i.clientX=t.clientX,i.clientY=t.clientY,i.currentTarget=n,this.tryTrigger(n,i)}if(this.current){var r=new o("mouseup",t,!0,!0);r.x=e.x,r.y=e.y,r.clientX=t.clientX,r.clientY=t.clientY,r.currentTarget=this.current,r.target=this.current,this.tryTrigger(this.current,r)}},click:function(t){this.getCurrent(t);var e=this.point,n=this.canvas;if(n.has("canvas-click")){var i=new o("canvas-click",t,!0,!0);i.x=e.x,i.y=e.y,i.clientX=t.clientX,i.clientY=t.clientY,i.currentTarget=n,this.tryTrigger(n,i)}if(this.current){var r=new o("click",t,!0,!0);r.x=e.x,r.y=e.y,r.clientX=t.clientX,r.clientY=t.clientY,r.currentTarget=this.current,r.target=this.current,this.tryTrigger(this.current,r)}},dblclick:function(t){var e=this.point,n=this.canvas;if(n.has("canvas-dblclick")){var i=new o("canvas-dblclick",t,!0,!0);i.x=e.x,i.y=e.y,i.clientX=t.clientX,i.clientY=t.clientY,i.currentTarget=n,this.tryTrigger(n,i)}if(this.current){var r=new o("dblclick",t,!0,!0);r.x=e.x,r.y=e.y,r.clientX=t.clientX,r.clientY=t.clientY,r.currentTarget=this.current,r.target=this.current,this.tryTrigger(this.current,r)}},mouseout:function(t){var e=this.point,n=this.canvas,i=new o("canvas-mouseleave",t,!0,!0);i.x=e.x,i.y=e.y,i.currentTarget=n,this.tryTrigger(n,i)},mouseover:function(t){var e=this.canvas,n=new o("canvas-mouseenter",t,!0,!0);n.currentTarget=e,this.tryTrigger(e,n)}}),t.exports=r},function(t,e,n){function a(t,e,n){for(var i,r=t.length-1;0<=r;r--){var a=t[r];if(a.__cfg.visible&&a.__cfg.capture&&(a.isGroup?i=a.getShape(e,n):a.isHit(e,n)&&(i=a)),i)break}return i}var s=n(1),p=n(4).Vector3,i=n(94),o=n(288),u={},r=function(t){r.superclass.constructor.call(this,t),this.set("children",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};s.extend(r,i),s.augment(r,{isGroup:!0,canFill:!0,canStroke:!0,getDefaultCfg:function(){return function t(e){if(!e.__cfg&&e!==r){var n=e.superclass.constructor;n&&!n.__cfg&&t(n),e.__cfg={},s.mix(!0,e.__cfg,n.__cfg),s.mix(!0,e.__cfg,e.CFG)}}(this.constructor),s.mix(!0,{},this.constructor.__cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(t,e){var n,i=this.get("canvas");e=e||{};var r=u[t];return r||(r=s.ucfirst(t),u[t]=r),e.canvas=i,e.type=t,n=new o[r](e),this.add(n),n},addGroup:function(t,e){var n,i=this.get("canvas");if(e=s.mix({},e),s.isFunction(t))n=e?(e.canvas=i,e.parent=this,new t(e)):new t({canvas:i,parent:this}),this.add(n);else if(s.isObject(t))t.canvas=i,n=new r(t),this.add(n);else{if(void 0!==t)return!1;n=new r,this.add(n)}return n},renderBack:function(t,e){var n=this.get("backShape"),i=this.getBBox(),r=this.get("parent");return s.mix(e,{x:i.minX-t[3],y:i.minY-t[0],width:i.width+t[1]+t[3],height:i.height+t[0]+t[2]}),n?n.attr(e):n=r.addShape("rect",{zIndex:-1,attrs:e}),this.set("backShape",n),r.sort(),n},removeChild:function(t,e){if(2<=arguments.length)this.contain(t)&&t.remove(e);else{if(1===arguments.length){if(!s.isBoolean(t))return this.contain(t)&&t.remove(!0),this;e=t}0===arguments.length&&(e=!0),r.superclass.remove.call(this,e)}return this},add:function(t){var n=this,e=n.get("children");if(s.isArray(t))s.each(t,function(t){var e=t.get("parent");e&&e.removeChild(t,!1),n.__setEvn(t)}),e.push.apply(e,t);else{var i=t,r=i.get("parent");r&&r.removeChild(i,!1),n.__setEvn(i),e.push(i)}return n},contain:function(t){var e=this.get("children");return-1<e.indexOf(t)},getChildByIndex:function(t){var e=this.get("children");return e[t]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var t=this.get("children").length-1;return this.getChildByIndex(t)},__setEvn:function(e){e.__cfg.parent=this,e.__cfg.context=this.__cfg.context,e.__cfg.canvas=this.__cfg.canvas;var t=e.__attrs.clip;t&&(t.setSilent("parent",this),t.setSilent("context",this.get("context")));var n=e.__cfg.children;n&&s.each(n,function(t){e.__setEvn(t)})},getBBox:function(){var l=1/0,h=-1/0,f=1/0,g=-1/0,t=this.get("children");s.each(t,function(t){if(t.get("visible")){var e=t.getBBox();if(!e)return!0;var n=new p(e.minX,e.minY,1),i=new p(e.minX,e.maxY,1),r=new p(e.maxX,e.minY,1),a=new p(e.maxX,e.maxY,1);t.apply(n),t.apply(i),t.apply(r),t.apply(a);var s=Math.min(n.x,i.x,r.x,a.x),o=Math.max(n.x,i.x,r.x,a.x),u=Math.min(n.y,i.y,r.y,a.y),c=Math.max(n.y,i.y,r.y,a.y);s<l&&(l=s),h<o&&(h=o),u<f&&(f=u),g<c&&(g=c)}});var e={minX:l,minY:f,maxX:h,maxY:g};return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e},drawInner:function(t){for(var e=this.get("children"),n=0;n<e.length;n++){var i=e[n];i.draw(t)}return this},getCount:function(){return this.get("children").length},sort:function(){var t=this.get("children");return t.sort(function(t,e){return t.get("zIndex")-e.get("zIndex")}),this},find:function(e){return this.findBy(function(t){return t.get("id")===e})},findBy:function(e){var t=this.get("children"),n=null;return s.each(t,function(t){if(e(t)?n=t:t.findBy&&(n=t.findBy(e)),n)return!1}),n},findAllBy:function(e){var t=this.get("children"),n=[],i=[];return s.each(t,function(t){e(t)&&n.push(t),t.findAllBy&&(i=t.findAllBy(e),n=n.concat(i))}),n},getShape:function(t,e){var n,i=this.__attrs.clip,r=this.__cfg.children;return i?i.inside(t,e)&&(n=a(r,t,e)):n=a(r,t,e),n},clearTotalMatrix:function(){var t=this.get("totalMatrix");if(t){this.setSilent("totalMatrix",null);for(var e=this.__cfg.children,n=0;n<e.length;n++){var i=e[n];i.clearTotalMatrix()}}},clear:function(){for(var t=this.get("children");0!==t.length;)t[t.length-1].remove();return this},destroy:function(){this.get("destroyed")||(this.clear(),r.superclass.destroy.call(this))}}),t.exports=r},function(t,e,n){var s=n(1),i=n(152),o=new i;t.exports={tween:o,animate:function(t,e,n,i){var r=o.getNow(),a=s.mix({},t,{duration:e});o.animate(this).append(r,a,n,i),"silent"===o.get("status")&&o.play()}}},function(t,e,n){var s=n(1),a=n(4).Vector3,o=["strokeStyle","fillStyle","globalAlpha"],u=["circle","ellipse","fan","polygon","rect","path"],c={r:"R",opacity:"Opacity",lineWidth:"LineWidth",clip:"Clip",stroke:"Stroke",fill:"Fill",strokeOpacity:"Stroke",fillOpacity:"Fill",x:"X",y:"Y",rx:"Rx",ry:"Ry",re:"Re",rs:"Rs",width:"Width",height:"Height",img:"Img",x1:"X1",x2:"X2",y1:"Y1",y2:"Y2",points:"Points",p1:"P1",p2:"P2",p3:"P3",p4:"P4",text:"Text",radius:"Radius",textAlign:"TextAlign",textBaseline:"TextBaseline",font:"Font",fontSize:"FontSize",fontStyle:"FontStyle",fontVariant:"FontVariant",fontWeight:"FontWeight",fontFamily:"FontFamily",clockwise:"Clockwise",startAngle:"StartAngle",endAngle:"EndAngle",path:"Path"},i={stroke:"strokeStyle",fill:"fillStyle",opacity:"globalAlpha"};t.exports={canFill:!1,canStroke:!1,initAttrs:function(t){return this.__attrs={opacity:1,fillOpacity:1,strokeOpacity:1},this.attr(s.simpleMix(this.getDefaultAttrs(),t)),this},getDefaultAttrs:function(){return{}},attr:function(t,e){var n=this;if(0===arguments.length)return n.__attrs;if(s.isObject(t)){for(var i in t)if(-1===o.indexOf(i)){var r=t[i];n._setAttr(i,r)}return n.__afterSetAttrAll&&n.__afterSetAttrAll(t),n.clearBBox(),n}if(2!==arguments.length)return n._getAttr(t);if(!1!==n._setAttr(t,e)){var a="__afterSetAttr"+c[t];n[a]&&n[a](e)}return n.clearBBox(),n},clearBBox:function(){this.setSilent("box",null)},__afterSetAttrAll:function(){},_getAttr:function(t){return this.__attrs[t]},_setAttr:function(t,e){if("clip"===t)this.__setAttrClip(e),this.__attrs.clip=e;else{this.__attrs[t]=e;var n=i[t];n&&(this.__attrs[n]=e)}return this},hasFill:function(){return this.canFill&&this.__attrs.fillStyle},hasStroke:function(){return this.canStroke&&this.__attrs.strokeStyle},__setAttrOpacity:function(t){return this.__attrs.globalAlpha=t},__setAttrClip:function(i){var r=this;return i&&-1<u.indexOf(i.type)?(null===i.get("canvas")&&(i=s.clone(i)),i.set("parent",r.get("parent")),i.set("context",r.get("context")),i.inside=function(t,e){var n=new a(t,e,1);return i.invert(n,r.get("canvas")),i.__isPointInFill(n.x,n.y)},i):null}}},function(t,e,n){function i(t){var e=t.elements;return 1===e[0]&&0===e[1]&&0===e[3]&&1===e[4]&&0===e[6]&&0===e[7]}function r(t){var e=t.elements;return 0===e[1]&&0===e[3]&&0===e[6]&&0===e[7]}function a(t,e){i(e)||(r(e)?(t.elements[0]*=e.elements[0],t.elements[4]*=e.elements[4]):t.multiply(e))}var s=n(1),o=n(4).Matrix3;t.exports={initTransform:function(){this.__m=new o},translate:function(t,e){return this.__m.translate(t,e),this.clearTotalMatrix(),this},rotate:function(t){return this.__m.rotate(t),this.clearTotalMatrix(),this},scale:function(t,e){return this.__m.scale(t,e),this.clearTotalMatrix(),this},rotateAtStart:function(t){var e=this.attr("x"),n=this.attr("y");Math.abs(t)>2*Math.PI&&(t=t/180*Math.PI),this.transform([["t",-e,-n],["r",t],["t",e,n]])},move:function(t,e){var n=this.get("x")||0,i=this.get("y")||0;this.translate(t-n,e-i),this.set("x",t),this.set("y",e)},transform:function(t){var e=this;return s.each(t,function(t){switch(t[0]){case"t":e.translate(t[1],t[2]);break;case"s":e.scale(t[1],t[2]);break;case"r":e.rotate(t[1]);break;case"m":e.__m=o.multiply(t[1],e.__m),e.clearTotalMatrix()}}),e},setTransform:function(t){return this.__m.identity(),this.transform(t)},getMatrix:function(){return this.__m},setMatrix:function(t){return this.__m=t,this.clearTotalMatrix(),this},apply:function(t,e){var n;return n=e?this._getMatrixByRoot(e):this.__m,t.applyMatrix(n),this},_getMatrixByRoot:function(t){t=t||this;for(var e=this,n=[];e!==t;)n.unshift(e),e=e.get("parent");n.unshift(e);var i=new o;return s.each(n,function(t){i.multiply(t.__m)}),i},getTotalMatrix:function(){var t=this.__cfg.totalMatrix;if(!t){t=new o;var e=this.__cfg.parent;if(e){var n=e.getTotalMatrix();a(t,n)}a(t,this.__m),this.__cfg.totalMatrix=t}return t},clearTotalMatrix:function(){},invert:function(t){var e=this.getTotalMatrix();if(r(e))t.x/=e.elements[0],t.y/=e.elements[4];else{var n=e.getInverse();t.applyMatrix(n)}return this},resetTransform:function(t){var e=this.__m.to2DObject();i(this.__m)||t.transform(e.a,e.b,e.c,e.d,e.e,e.f)}}},function(t,e,n){var i={Rect:n(109),Circle:n(98),Ellipse:n(100),Path:n(105),Text:n(110),Line:n(103),Image:n(102),Polygon:n(106),Polyline:n(107),Arc:n(97),Fan:n(101),Cubic:n(99),Quadratic:n(108),Marker:n(104)};t.exports=i},function(t,e){t.exports={xAt:function(t,e,n,i,r){return e*Math.cos(t)*Math.cos(r)-n*Math.sin(t)*Math.sin(r)+i},yAt:function(t,e,n,i,r){return e*Math.sin(t)*Math.cos(r)+n*Math.cos(t)*Math.sin(r)+i},xExtrema:function(t,e,n){return Math.atan(-n/e*Math.tan(t))},yExtrema:function(t,e,n){return Math.atan(n/(e*Math.tan(t)))}}},function(t,e,n){function x(t,e,n){return{x:n.x+t,y:n.y+e}}function y(t,e){return{x:e.x+(e.x-t.x),y:e.y+(e.y-t.y)}}function i(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function M(t,e){return(t[0]*e[0]+t[1]*e[1])/(i(t)*i(e))}function T(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(M(t,e))}var r=n(1),A=n(7),_=n(9),I=n(40),O=n(52),D=n(289),a=n(4),b=a.Vector2,w=a.Vector3,S=a.Matrix3,C=["m","l","c","a","q","h","v","t","s","z"],s=function(t,e,n){this.preSegment=e,this.isLast=n,this.init(t,e)};r.augment(s,{init:function(t,e){var n=t[0];e=e||{endPoint:{x:0,y:0}};var i,r,a,s,o=0<=C.indexOf(n),u=o?n.toUpperCase():n,c=t,l=e.endPoint,h=c[1],f=c[2];switch(u){default:break;case"M":s=o?x(h,f,l):{x:h,y:f},this.command="M",this.params=[l,s],this.subStart=s,this.endPoint=s;break;case"L":s=o?x(h,f,l):{x:h,y:f},this.command="L",this.params=[l,s],this.subStart=e.subStart,this.endPoint=s,this.isLast&&(this.endTangent=function(){return new b(s.x-l.x,s.y-l.y)});break;case"H":s=o?x(h,0,l):{x:h,y:l.y},this.command="L",this.params=[l,s],this.subStart=e.subStart,this.endPoint=s,this.endTangent=function(){return new b(s.x-l.x,s.y-l.y)};break;case"V":s=o?x(0,h,l):{x:l.x,y:h},this.command="L",this.params=[l,s],this.subStart=e.subStart,this.endPoint=s,this.endTangent=function(){return new b(s.x-l.x,s.y-l.y)};break;case"Q":r=o?(i=x(h,f,l),x(c[3],c[4],l)):(i={x:h,y:f},{x:c[3],y:c[4]}),this.command="Q",this.params=[l,i,r],this.subStart=e.subStart,this.endPoint=r,this.endTangent=function(){return new b(r.x-i.x,r.y-i.y)};break;case"T":r=o?x(h,f,l):{x:h,y:f},"Q"===e.command?(i=y(e.params[1],l),this.command="Q",this.params=[l,i,r],this.subStart=e.subStart,this.endPoint=r,this.endTangent=function(){return new b(r.x-i.x,r.y-i.y)}):(this.command="TL",this.params=[l,r],this.subStart=e.subStart,this.endPoint=r,this.endTangent=function(){return new b(r.x-l.x,r.y-l.y)});break;case"C":a=o?(i=x(h,f,l),r=x(c[3],c[4],l),x(c[5],c[6],l)):(i={x:h,y:f},r={x:c[3],y:c[4]},{x:c[5],y:c[6]}),this.command="C",this.params=[l,i,r,a],this.subStart=e.subStart,this.endPoint=a,this.endTangent=function(){return new b(a.x-r.x,a.y-r.y)};break;case"S":a=o?(r=x(h,f,l),x(c[3],c[4],l)):(r={x:h,y:f},{x:c[3],y:c[4]}),"C"===e.command?(i=y(e.params[2],l),this.command="C",this.params=[l,i,r,a]):(this.command="SQ",this.params=[l,r,a]),this.subStart=e.subStart,this.endPoint=a,this.endTangent=function(){return new b(a.x-r.x,a.y-r.y)};break;case"A":var g=h,p=f,d=c[3],v=c[4],m=c[5];s=o?x(c[6],c[7],l):{x:c[6],y:c[7]},this.command="A",this.params=function(t,e,n,i,r,a,s){var o=A.mod(A.degreeToRad(s),2*Math.PI),u=t.x,c=t.y,l=e.x,h=e.y,f=Math.cos(o)*(u-l)/2+Math.sin(o)*(c-h)/2,g=-1*Math.sin(o)*(u-l)/2+Math.cos(o)*(c-h)/2,p=f*f/(r*r)+g*g/(a*a);1<p&&(r*=Math.sqrt(p),a*=Math.sqrt(p));var d=Math.sqrt((r*r*(a*a)-r*r*(g*g)-a*a*(f*f))/(r*r*(g*g)+a*a*(f*f)));n===i&&(d*=-1),isNaN(d)&&(d=0);var v=d*r*g/a,m=d*-a*f/r,x=(u+l)/2+Math.cos(o)*v-Math.sin(o)*m,y=(c+h)/2+Math.sin(o)*v+Math.cos(o)*m,_=T([1,0],[(f-v)/r,(g-m)/a]),b=[(f-v)/r,(g-m)/a],w=[(-1*f-v)/r,(-1*g-m)/a],S=T(b,w);return M(b,w)<=-1&&(S=Math.PI),1<=M(b,w)&&(S=0),0===i&&0<S&&(S-=2*Math.PI),1===i&&S<0&&(S+=2*Math.PI),[t,x,y,r,a,_,S,o,i]}(l,s,v,m,g,p,d),this.subStart=e.subStart,this.endPoint=s;break;case"Z":this.command="Z",this.params=[l,e.subStart],this.subStart=e.subStart,this.endPoint=e.subStart}},isInside:function(t,e,n){var i=this.command,r=this.params,a=this.box;if(a&&!_.box(a.minX,a.maxX,a.minY,a.maxY,t,e))return!1;switch(i){default:break;case"M":return!1;case"TL":case"L":case"Z":return _.line(r[0].x,r[0].y,r[1].x,r[1].y,n,t,e);case"SQ":case"Q":return _.quadraticline(r[0].x,r[0].y,r[1].x,r[1].y,r[2].x,r[2].y,n,t,e);case"C":return _.cubicline(r[0].x,r[0].y,r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y,n,t,e);case"A":var s=r,o=s[1],u=s[2],c=s[3],l=s[4],h=s[5],f=s[6],g=s[7],p=s[8],d=l<c?c:l,v=l<c?1:c/l,m=l<c?l/c:1;s=new w(t,e,1);var x=new S;return x.translate(-o,-u),x.rotate(-g),x.scale(1/v,1/m),s.applyMatrix(x),_.arcline(0,0,d,h,h+f,1-p,n,s.x,s.y)}return!1},draw:function(t){var e,n,i,r=this.command,a=this.params;switch(r){default:break;case"M":t.moveTo(a[1].x,a[1].y);break;case"TL":case"L":t.lineTo(a[1].x,a[1].y);break;case"SQ":case"Q":e=a[1],n=a[2],t.quadraticCurveTo(e.x,e.y,n.x,n.y);break;case"C":e=a[1],n=a[2],i=a[3],t.bezierCurveTo(e.x,e.y,n.x,n.y,i.x,i.y);break;case"A":var s=a,o=s[1],u=s[2],c=o,l=u,h=s[3],f=s[4],g=s[5],p=s[6],d=s[7],v=s[8],m=f<h?h:f,x=f<h?1:h/f,y=f<h?f/h:1;t.translate(c,l),t.rotate(d),t.scale(x,y),t.arc(0,0,m,g,g+p,1-v),t.scale(1/x,1/y),t.rotate(-d),t.translate(-c,-l);break;case"Z":t.closePath()}},getBBox:function(t){var e,n,i,r,a=t/2,s=this.params;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(s[0].x,s[1].x)-a,maxX:Math.max(s[0].x,s[1].x)+a,minY:Math.min(s[0].y,s[1].y)-a,maxY:Math.max(s[0].y,s[1].y)+a};break;case"SQ":case"Q":for(n=O.extrema(s[0].x,s[1].x,s[2].x),i=0,r=n.length;i<r;i++)n[i]=O.at(s[0].x,s[1].x,s[2].x,n[i]);for(n.push(s[0].x,s[2].x),e=O.extrema(s[0].y,s[1].y,s[2].y),i=0,r=e.length;i<r;i++)e[i]=O.at(s[0].y,s[1].y,s[2].y,e);e.push(s[0].y,s[2].y),this.box={minX:Math.min.apply(Math,n)-a,maxX:Math.max.apply(Math,n)+a,minY:Math.min.apply(Math,e)-a,maxY:Math.max.apply(Math,e)+a};break;case"C":for(n=I.extrema(s[0].x,s[1].x,s[2].x,s[3].x),i=0,r=n.length;i<r;i++)n[i]=I.at(s[0].x,s[1].x,s[2].x,s[3].x,n[i]);for(e=I.extrema(s[0].y,s[1].y,s[2].y,s[3].y),i=0,r=e.length;i<r;i++)e[i]=I.at(s[0].y,s[1].y,s[2].y,s[3].y,e[i]);n.push(s[0].x,s[3].x),e.push(s[0].y,s[3].y),this.box={minX:Math.min.apply(Math,n)-a,maxX:Math.max.apply(Math,n)+a,minY:Math.min.apply(Math,e)-a,maxY:Math.max.apply(Math,e)+a};break;case"A":var o=s,u=o[1],c=o[2],l=o[3],h=o[4],f=o[5],g=o[6],p=o[7],d=o[8],v=f,m=f+g,x=D.xExtrema(p,l,h),y=1/0,_=-1/0,b=[v,m];for(i=2*-Math.PI;i<=2*Math.PI;i+=Math.PI){var w=x+i;1===d?v<w&&w<m&&b.push(w):m<w&&w<v&&b.push(w)}for(i=0,r=b.length;i<r;i++){var S=D.xAt(p,l,h,u,b[i]);S<y&&(y=S),_<S&&(_=S)}var M=D.yExtrema(p,l,h),T=1/0,A=-1/0,C=[v,m];for(i=2*-Math.PI;i<=2*Math.PI;i+=Math.PI){var k=M+i;1===d?v<k&&k<m&&C.push(k):m<k&&k<v&&C.push(k)}for(i=0,r=C.length;i<r;i++){var P=D.yAt(p,l,h,c,C[i]);P<T&&(T=P),A<P&&(A=P)}this.box={minX:y-a,maxX:_+a,minY:T-a,maxY:A+a}}}}),t.exports=s},function(t,e){var n=document.createElement("table"),i=document.createElement("tr"),r=/^\s*<(\w+|!)[^>]*>/,a={tr:document.createElement("tbody"),tbody:n,thead:n,tfoot:n,td:i,th:i,"*":document.createElement("div")};t.exports={getBoundingClientRect:function(t){var e=t.getBoundingClientRect(),n=document.documentElement.clientTop,i=document.documentElement.clientLeft;return{top:e.top-n,bottom:e.bottom-n,left:e.left-i,right:e.right-i}},getStyle:function(t,e){return window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.currentStyle[e]},modiCSS:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t},createDom:function(t){var e=r.test(t)&&RegExp.$1;e in a||(e="*");var n=a[e];return t=t.replace(/(^\s*)|(\s*$)/g,""),n.innerHTML=""+t,n.childNodes[0]},addEventListener:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0}}},function(t,e){t.exports={transform:function(t,e){t=t.clone();for(var n=0,i=e.length;n<i;n++){var r=e[n];switch(r[0]){case"t":t.translate(r[1],r[2]);break;case"s":t.scale(r[1],r[2]);break;case"r":t.rotate(r[1]);break;case"m":t.multiply(r[1]);break;default:continue}}return t},scale:function(t,e,n,i,r){return(t=t.clone()).translate(-1*i,-1*r),t.scale(e,n),t.translate(i,r),t},rotate:function(t,e,n,i){return(t=t.clone()).translate(-1*n,-1*i),t.rotate(e),t.translate(n,i),t},isMatrix3:function(t){return"matrix3"===t.type}}},function(t,e,n){var i=n(24);i.Position=n(296),i.Color=n(294),i.Size=n(298),i.Shape=n(297),i.Opacity=n(295),t.exports=i},function(t,e,n){"use strict";var i=n(1),r=n(80),a=n(24),s=function(t){s.superclass.constructor.call(this,t),this.initMethod()};i.extend(s,a),i.augment(s,{type:"color",names:["color"],arr:null,method:null,methodType:null,initMethod:function(){var t,e=this.methodType;t=e&&-1!==e.indexOf("-")?r.gradient(e):r[e],this.method=t}}),t.exports=s},function(t,e,n){"use strict";var i=n(1),r=n(24),a=function(t){a.superclass.constructor.call(this,t)};i.extend(a,r),i.augment(a,{type:"opacity",names:["opacity"],min:.1,max:1,arr:null}),t.exports=a},function(t,e,n){"use strict";var c=n(1),i=n(24),r=function(t){r.superclass.constructor.call(this,t)};c.extend(r,i),c.augment(r,{type:"position",names:["x","y","z"],coord:null,parseParam:function(t,e){var n;return c.isArray(t)?(n=[],c.each(t,function(t){n.push(e.scale(t))})):n=e.scale(t),n},callback:function(e,n){var i,r,a,s=this.coord;if(e||0===e||(e=.1),n||0===n||(n=.1),c.isArray(n)&&c.isArray(e)){i=[],r=[];for(var t=0,o=0;t<e.length&&o<n.length;t++,o++)a=s.convertPoint({x:e[t],y:n[o]}),i.push(a.x),r.push(a.y)}else if(c.isArray(n))r=[],c.each(n,function(t){a=s.convertPoint({x:e,y:t}),i&&i!==a.x?(c.isArray(i)||(i=[i]),i.push(a.x)):i=a.x,r.push(a.y)});else if(c.isArray(e))i=[],c.each(e,function(t){a=s.convertPoint({x:t,y:n}),r&&r!==a.y?(c.isArray(r)||(r=[r]),r.push(a.y)):r=a.y,i.push(a.x)});else{var u=s.convertPoint({x:e,y:n});i=u.x,r=u.y}return[i,r]}}),t.exports=r},function(t,e,n){"use strict";var i=n(1),r=n(24),a=function(t){a.superclass.constructor.call(this,t)};i.extend(a,r),i.augment(a,{type:"shape",names:["shape"],arr:null}),t.exports=a},function(t,e,n){"use strict";var i=n(1),r=n(24),a=function(t){a.superclass.constructor.call(this,t)};i.extend(a,r),i.augment(a,{type:"size",names:["size"],arr:null}),t.exports=a},function(t,e,n){"use strict";var w=n(2),i=n(26),h=i.Axis,r=n(4),f=r.Vector2,S=n(5),a=["..x","..y","..long","..lant","..pieX"],s=function(t){this.axisCfg={},w.mix(this,t)};w.augment(s,{axisCfg:null,visible:!0,container:null,chart:null,_isHide:function(t){var e=this.axisCfg;return!(!w.inArray(a,t)||!w.isNull(e[t]))||e&&!1===e[t]},_getMiddleValue:function(t,e,n){var i=e.length;if(n===i-1)return null;var r=e[n+1].value;return(t+r)/2},_getLineRange:function(t,e,n,i){var r,a,s,o=e.dim,u=this.axisCfg,c="";return u[o]&&u[o].position&&(c=u[o].position),s="x"===n?(r={x:0,y:"top"===c?1:0},!(a={x:1,y:"top"===c?1:0})):(a=i?(r={x:"left"===c?0:1,y:0},{x:"left"===c?0:1,y:1}):(r={x:"right"===c?1:0,y:0},{x:"right"===c?1:0,y:1}),!0),r=t.convert(r),a=t.convert(a),{start:r,end:a,isVertical:s}},_getLineCfg:function(t,e,n,i){var r,a=this._getLineRange(t,e,n,i),s=a.isVertical,o=a.start,u=a.end,c=t.get("center");return t.isTransposed&&(s=!s),r=s&&o.x>c.x||!s&&o.y>c.y?1:-1,{isVertical:s,factor:r,start:o,end:u}},_getCircleCfg:function(t){var e,n={},i=t.get("x"),r=t.get("y"),a=r.start>r.end;e=t.isTransposed?{x:a?0:1,y:0}:{x:0,y:a?0:1},e=t.convert(e);var s,o=t.get("circleCentre"),u=new f(e.x-o.x,e.y-o.y),c=new f(1,0),l=(s=e.y>o.y?f.angle(u,c):-1*f.angle(u,c))+(i.end-i.start);return n.startAngle=s,n.endAngle=l,n.center=o,n.radius=Math.sqrt(Math.pow(e.x-o.x,2)+Math.pow(e.y-o.y,2)),n.inner=t.get("inner")||0,n},_getRadiusCfg:function(t){var e,n,i=t.get("x").start,r=i<0?-1:1;return n=t.isTransposed?(e={x:0,y:0},{x:1,y:0}):(e={x:0,y:0},{x:0,y:1}),{factor:r,start:t.convert(e),end:t.convert(n)}},_getMultiLineCfg:function(n,t,e){var i=t.getTicks(),r=[],a=this._getLineRange(n,t,e),s=a.isVertical;return w.each(i,function(t){var e=n.convert({x:s?0:t.value,y:s?t.value:0});r.push(e)}),{start:a.start,end:a.end,tickPoints:r}},_getAxisPosition:function(t,e,n){var i=t.type,r="";return t.isRect?(this.facet&&this.facet.type,"x"===e&&(r="bottom"),"y"===e&&(r=n?"right":"left")):r="clock"===i?"clock":"gauge"===i?"gauge":"helix"===i?"helix":"x"===e?t.isTransposed?"radius":"circle":t.isTransposed?"circle":"radius",r},_getAxisDefaultCfg:function(t,e,n,i,r){var a={},s=this.facet,o=this.axisCfg,u=t.getHeight(),c=t.type,l=!(!S.axis[i]||!S.axis[i].title);if("cartesian"!==c||w.isNull(s)||s&&1===s.rows&&1===s.cols)"cartesian"===c&&l&&(a.title={text:e.alias||e.dim});else{var h=s.rows,f=s.cols,g=s.rowIndex,p=s.colIndex,d=s.type;l&&(a.title={text:e.alias||e.dim}),"tree"===d?("y"===n&&0!==s.originColIndex&&0!==p||"x"===n&&s.children)&&(a.labels=null,a.title=null):"circle"===d?(a.labels=null,a.title=null):("mirror"!==d&&"y"===n&&(0!==p&&"left"===i||p!==f-1&&"right"===i)&&(a.labels=null,a.title=null),"rect"===d?"x"===n&&0!==g&&(a.labels=null,a.title=null):"list"===d?"x"===n&&g!==h-1&&f*g+p+1+f<=s.count&&(a.labels=null,a.title=null):"mirror"===d&&"x"===n&&(1===h&&1===p||2===h&&0===g)&&(a.labels=null,a.title=null)),"y"===n&&a.title&&g!==Math.floor(h/2)&&(a.title=null),"x"===n&&a.title&&p!==Math.floor(f/2)&&(a.title=null)}if((a=w.mix(!0,{},S.axis[i],a,o[e.dim])).ticks=e.getTicks(),t.isPolar&&!e.isCategory&&"x"===n&&("clock"===t.type?a.ticks[0].text="":"gauge"!==t.type&&a.ticks.pop()),"y"===n){var v=a.ticks,m=v.length;if(u/m<16){var x=[],y=Math.floor(u/16)+1,_=Math.floor(m/y);_<1&&(_=1),x.push(v[0]);for(var b=_;b<=m-2;b+=_)x.push(v[b]);x.push(v[m-1]),a.ticks=x}}return a.coord=t,a.id=this._getViewId()+r+n,a.labels&&w.isNull(a.labels.autoRotate)&&(a.labels.autoRotate=!0),a},_getAxisCfg:function(c,t,e,l,n){w.isNull(n)&&(n="");var i=this,r={},a=i._getAxisPosition(c,l,n),h=i._getViewId();if((r=i._getAxisDefaultCfg(c,t,l,a,n)).grid&&e){var f=[],g=function(t){var e=[];if(0<t.length){var n=(e=t.slice(0))[0],i=e[e.length-1];0!==n.value&&e.unshift({value:0}),1!==i.value&&e.push({value:1})}return e}(e.getTicks()),p=r.ticks;w.each(p,function(t,e){var a=[],s=t.value;if("middle"===r.gridAlign&&(s=i._getMiddleValue(s,p,e)),!w.isNull(s)){var o=c.get("x"),u=c.get("y");w.each(g,function(t){var e="x"===l?s:t.value,n="x"===l?t.value:s,i=c.convert({x:e,y:n});if(c.isPolar){var r=c.get("circleCentre");u.start>u.end&&(n=1-n),i.flag=o.start>o.end?0:1,i.radius=Math.sqrt(Math.pow(i.x-r.x,2)+Math.pow(i.y-r.y,2))}a.push(i)}),a.id=h+n+l+t.text,f.push(a)}}),r.grid.items=f,r.grid.id=h+n+l+t.dim,"map"===r.coord.type&&(r.grid.smooth=!0)}return r},_getHelixCfg:function(t){for(var e={},n=t.get("a"),i=t.get("startAngle"),r=t.get("endAngle"),a=[],s=0;s<=100;s++){var o=t.convert({x:s/100,y:0});a.push(o.x),a.push(o.y)}var u=t.convert({x:0,y:0});return e.a=n,e.startAngle=i,e.endAngle=r,e.crp=a,e.axisStart=u,e.center=t.get("center"),e},_getViewId:function(){var t=this.chart,e=t?t.get("viewId"):"";return e},_drawAxis:function(t,e,n,i,r,a){var s,o,u=this.container,c=this._getViewId();o=t.isRect?"map"===t.type&&"x"===i?(s=h.MultLine,this._getMultiLineCfg(t,e,i)):(s=h,this._getLineCfg(t,e,i,a)):t.isHelix&&"x"===i?(s=h.Helix,this._getHelixCfg(t)):"x"===i?(s=h.Circle,this._getCircleCfg(t)):(s=h,this._getRadiusCfg(t));var l=this._getAxisCfg(t,e,n,i,a);return l=w.mix(!0,{id:c+a+i+e.dim},l,o),"y"===i&&r&&"circle"===r.get("type")&&(l.circle=r),u.addGroup(s,l)},createAxis:function(t,n,e,i){var r=this,a=i&&w.isBoolean(i.visible)?i.visible:r.visible;if(a){var s={};i&&w.each(i,function(t,e){e!==a&&(s[e]=t)}),r.axisCfg=s;var o,u=t.get("coord"),c=u.type;this.facet=t.get("facet"),"theta"===c||"polar"===c&&u.isTransposed||(n&&!r._isHide(n.dim)&&(o=r._drawAxis(u,n,e[0],"x")),e&&e.length&&"helix"!==c&&w.each(e,function(t,e){r._isHide(t.dim)||r._drawAxis(u,t,n,"y",o,e)}))}}}),t.exports=s},function(t,e,n){"use strict";var u=n(2),c=n(90),i=function(t){u.mix(this,t),this.resetActions()};u.augment(i,{type:"rect",chart:null,actions:null,_getCoordOptions:function(){var t=this.chart;return t.get("options").coord||t._setOptions("coord",{}),t.get("options").coord},_execActions:function(n){var t=this._getCoordOptions(),e=t.actions;u.each(e,function(t){var e=t[0];n[e](t[1],t[2])})},hasAction:function(e){var t=this.actions,n=!1;return u.each(t,function(t){if(e===t[0])return!(n=!0)}),n},createCoord:function(t,e){var n,i,r=this.chart.get("options"),a=r.coord,s=a&&a.type?a.type:this.type,o=u.mix({start:t,end:e},a&&a.cfg);return"theta"===s?(n=c.Polar,this.hasAction("transpose")||this.transpose(),(i=new n(o)).type=s):(n=c[u.ucfirst(s)]||c.Rect,i=new n(o)),this._execActions(i),i},rotate:function(t){t=t*Math.PI/180,this.actions.push(["rotate",t]);var e=this._getCoordOptions();return e.actions=this.actions,this},reflect:function(t){this.actions.push(["reflect",t]);var e=this._getCoordOptions();return e.actions=this.actions,this},scale:function(t,e){this.actions.push(["scale",t,e]);var n=this._getCoordOptions();return n.actions=this.actions,this},transpose:function(){this.actions.push(["transpose"]);var t=this._getCoordOptions();return t.actions=this.actions,this},resetActions:function(){var t=this.chart.get("options");return t.coord&&t.coord.actions?this.actions=t.coord.actions:this.actions=[],this}}),t.exports=i},function(t,e,n){"use strict";var y=n(2),i=function(t){y.mix(this,t),this._init()};y.augment(i,{chart:null,rangePlot:null,startPoint:null,rangeSelected:!1,selectable:!1,selectMode:"",_init:function(){this.pixelRatio=this._getCanvas().get("pixelRatio")},_getCanvas:function(){var t=this.chart;return t.get("frontCanvas")},_getShape:function(t,e){var n=this.chart.get("canvas");return n.getShape(t,e)},_getPointInfo:function(t){var e=this.chart,n={x:t.x/this.pixelRatio,y:t.y/this.pixelRatio},i=e.getViewsByPoint(n);return n.views=i,n},_getShapeEventObj:function(t){return{x:t.x/this.pixelRatio,y:t.y/this.pixelRatio,target:t.target,toElement:t.event.toElement}},_getEventObj:function(t,e,n){return{x:e.x,y:e.y,target:t.target,toElement:t.event.toElement,views:n}},_getActiveShape:function(t){var n=null;return y.each(t,function(t){var e=t.getActiveShape();if(e)return n=e,!1}),n},_limitCoordScope:function(t){var e=this.chart,n=e.get("plotRange"),i=n.tl,r=n.br;return t.x<i.x&&(t.x=i.x),t.x>r.x&&(t.x=r.x),t.y<i.y&&(t.y=i.y),t.y>r.y&&(t.y=r.y),t},_getSelectedValues:function(t,e){var n=null;if(t){var i=[];if(t.isCategory)for(var r=e[0];r<=e[1];r+=1/t.values.length){var a=t.invert(r);i.push(a)}else{var s=t.invert(e[0]),o=t.invert(e[1]);i.push(s),i.push(o)}n={dim:t.dim,values:i}}return n},_filterRangeValues:function(i,r,t){var a=this,s={};return y.each(t,function(t,e){var n=a._getSelectedValues(r[e],t);n&&(s[n.dim]=n.values,i.filter(n.dim,n.values))}),i.repaint(),s},bindEvents:function(){var t=this._getCanvas();t.on("canvas-mousedown",y.wrapBehavior(this,"onDown")),t.on("canvas-mousemove",y.wrapBehavior(this,"onMove")),t.on("canvas-mouseleave",y.wrapBehavior(this,"onOut")),t.on("canvas-mouseup",y.wrapBehavior(this,"onUp")),t.on("canvas-click",y.wrapBehavior(this,"onClick")),t.on("canvas-dblclick",y.wrapBehavior(this,"onClick"))},onUp:function(t){var e=this.chart,n=this._getShapeEventObj(t);n.shape=this.currentShape,e.fire("mouseup",n)},onDown:function(t){var e=this.chart,n=this._getShapeEventObj(t);n.shape=this.currentShape,e.fire("mousedown",n);var i=e.get("plotRange"),r=i.tl,a=i.br,s=t.x/this.pixelRatio,o=t.y/this.pixelRatio;if(!(s<r.x||s>a.x||o<r.y||o>a.y)&&(this.startPoint={x:s,y:o},this.selectable)){this.rangeSelected=!0;var u=this.rangePlot;if(!u){var c=this._getCanvas();(u=c.addGroup()).initTransform(),this.rangePlot=u}var l=this._getPointInfo(t);e.fire("rangeselectstart",this._getEventObj(t,l,l.views));var h=t.event;h.stopPropagation(),h.preventDefault(),this._bindCanvasEvent()}},_bindCanvasEvent:function(){var t=this._getCanvas(),e=t.get("canvasDOM");this.onMouseMoveListener=y.addEventListener(e,"mousemove",y.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=y.addEventListener(e,"mouseup",y.wrapBehavior(this,"_onCanvasMouseUp"))},_onCanvasMouseMove:function(t){if(this.rangeSelected){var e,n,i,r,a=t.offsetX,s=t.offsetY,o=this._limitCoordScope({x:a,y:s}),u=this.startPoint,c=this.chart.get("plotRange"),l=this._getCanvas(),h=this.rangePlot,f=this.rectShape;"rangeY"===this.selectMode?(e=c.tl.x,n=o.y>=u.y?u.y:o.y,i=Math.abs(c.tl.x-c.tr.x),r=Math.abs(u.y-o.y)):"rangeX"===this.selectMode?(e=o.x>=u.x?u.x:o.x,n=c.tl.y,i=Math.abs(u.x-o.x),r=Math.abs(c.tl.y-c.bl.y)):"rangeXY"===this.selectMode&&(n=o.x>=u.x?(e=u.x,s>=u.y?u.y:o.y):(e=o.x,o.y>=u.y?u.y:o.y),i=Math.abs(u.x-o.x),r=Math.abs(u.y-o.y)),f?f.attr(y.mix({},f.__attrs,{x:e,y:n,width:i,height:r})):(f=h.addShape("rect",{attrs:{x:e,y:n,width:i,height:r,fill:"#CCD7EB",opacity:.4}}),this.rectShape=f),l.draw(),t.cancelBubble=!0,t.returnValue=!1}},_onCanvasMouseUp:function(t){var e=this._getCanvas(),n=this.startPoint,i=this.rangePlot;this.onMouseMoveListener.remove(),this.onMouseUpListener.remove(),this.rangePlot.clear(),this.rangeSelected=!1,this.rectShape=null,e.draw();var r=t.offsetX,a=t.offsetY;if(!(Math.abs(n.x-r)<=1&&Math.abs(n.y-a)<=1)){var s,o={},u=this.chart,c=this._limitCoordScope({x:r,y:a}),l=this._getPointInfo(c);if(y.each(l.views,function(t){if(t.get("data"))return s=t,!1}),s){var h=s.getXScale(),f=s.getYScales()[0],g=u.get("plotRange"),p=Math.abs(g.start.y-g.end.y),d=Math.abs(g.start.x-g.end.x),v=[(n.x-g.start.x)/d,(c.x-g.start.x)/d].sort(),m=[(g.bl.y-c.y)/p,(g.bl.y-n.y)/p].sort();"rangeX"===this.selectMode?o=this._filterRangeValues(s,[h],[v]):"rangeY"===this.selectMode?o=this._filterRangeValues(s,[f],[m]):"rangeXY"===this.selectMode&&(o=this._filterRangeValues(s,[h,f],[v,m]))}var x={x:r,y:a,selected:o,view:s,rangePlot:i};u.fire("rangeselectend",x)}},onOut:function(t){var e=this.chart,n=this._getPointInfo(t);e.fire("plotleave",this._getEventObj(t,n,this.curViews))},onMove:function(t){var e=this,n=e.chart,i=e.currentShape,r=e._getShape(t.x,t.y),a=e._getShapeEventObj(t);if(a.shape=r,n.fire("mousemove",a),i!==r){if(i){var s=e._getShapeEventObj(t);s.shape=i,s.toShape=r,n.fire("mouseleave",s)}if(r){var o=e._getShapeEventObj(t);o.shape=r,o.fromShape=i,n.fire("mouseenter",o)}e.currentShape=r}var u=e._getPointInfo(t),c=e.curViews||[];if(0===c.length&&u.views.length&&n.fire("plotenter",e._getEventObj(t,u,u.views)),c.length&&0===u.views.length&&n.fire("plotleave",e._getEventObj(t,u,c)),u.views.length){a=e._getEventObj(t,u,u.views),r=e._getActiveShape(u.views),a.shape=r,n.fire("plotmove",a);var l=n.get("frontCanvas").get("el");r&&r.attr("cursor")?l.style.cursor=r.attr("cursor"):l.style.cursor=""}e.curViews=u.views},onClick:function(t){var e=this.chart,n=this._getShapeEventObj(t);n.shape=this.currentShape,e.fire("click",n);var i=this._getPointInfo(t),r=i.views;if(r&&r.length){for(var a=this._getEventObj(t,i,r),s=null,o=r.length-1;0<=o;o--){for(var u,c=r[o],l=c.get("geoms"),h=l.length-1;0<=h&&(u=l[h],!(s=u.getSingleShape(i)));h--);if(s){u&&s&&u.allowSelected()&&u.setSelected(s.get("origin"),c),a.geom=u;break}}s&&(a.shape=s,a.data=s.get("origin")),e.fire("plotclick",a),"canvas-dblclick"===t.type&&(e.fire("plotdblclick",a),e.fire("dblclick",n))}},clearEvents:function(){var t=this._getCanvas();t.off("canvas-mousemove",y.getWrapBehavior(this,"onMove")),t.off("canvas-mouseleave",y.getWrapBehavior(this,"onOut")),t.off("canvas-mousedown",y.getWrapBehavior(this,"onDown")),t.off("canvas-mouseup",y.getWrapBehavior(this,"onUp")),t.off("canvas-click",y.getWrapBehavior(this,"onClick")),t.off("canvas-dblclick",y.getWrapBehavior(this,"onClick"))}}),t.exports=i},function(t,e,n){"use strict";var h=n(2),i=n(161),f=n(5),r=function(t){h.mix(this,t)};h.augment(r,{chart:null,_getFacetClass:function(t){return t=h.ucfirst(t),i[t]},_createFacetView:function(t){var e=this.chart;e.set("animate",!1);var n=e.createView({index:t.index,data:t.frame,region:t.region,facet:t});return n.set("options",e.get("options")),n.set("plotContainer",e.get("plotContainer")),n.set("frontPlot",e.get("frontPlot")),n.set("backPlot",e.get("backPlot")),n.set("scales",e.get("scales")),n.set("stats",e.get("stats")),n},generateFacets:function(t,e){var n=this,i=[],r=n.chart,a=r.get("scaleAssist");e.defs=a.defs,e.plotRange=r.get("plotRange"),(e=h.mix({},f.facetCfg,e)).facetTitle=h.mix({},f.facetCfg.facetTitle,e.facetTitle),e.dims||(e.dims=e.fields);var s=n._getFacetClass(e.type),o=new s(e),u=o.generateFacets(t),c=r.get("plotContainer"),l=c.addGroup();return o.drawTitles(u,l),h.each(u,function(t){i.push(n._createFacetView(t))}),i}}),t.exports=r},function(t,e,n){"use strict";var s=n(2),o=n(244),u=n(5),r=["text","tag","html"],i=function(t){this.guides=[],this.options=[],s.mix(this,t)};s.augment(i,{guides:null,xScale:null,yScale:null,backPlot:null,frontPlot:null,options:[],_addGuide:function(t){this.guides.push(t)},_getDefault:function(){return{xScale:this.xScale,yScale:this.yScale}},setScale:function(e,n){var t=this.guides;this.xScale=e,this.yScale=n,s.each(t,function(t){t.xScale=e,t.yScale=n})},_setOptions:function(t){var e=this.options;e.push(t)},creatGuide:function(){var r=this,a=["line","text","rect","arc","tag","html"],t=this.options;t.forEach(function(t){var e=t.type;-1!==a.indexOf(t.type)&&(t.cfg=s.mix({},u.guide[e],t.cfg)),e=s.ucfirst(e);var n=s.mix({},r._getDefault(),t),i=new o[e](n);r._addGuide(i)})},line:function(t,e,n){var i={type:"line",from:t,to:e,cfg:n};return this._setOptions(i),this},text:function(t,e,n){var i={type:"text",position:t,text:e,cfg:n};return this._setOptions(i),this},image:function(t,e,n){var i={type:"image",start:t};return s.isArray(e)&&(i.end=e),s.isObject(e)&&(n=e),n&&(i.cfg=n),this._setOptions(i),this},rect:function(t,e,n){var i={type:"rect",start:t,end:e,cfg:n};return this._setOptions(i),this},arc:function(t,e,n){var i={type:"arc",start:t,end:e,cfg:n};return this._setOptions(i),this},tag:function(t,e,n,i){var r={type:"tag",from:t,to:e,text:n,cfg:i};return this._setOptions(r),this},html:function(t,e,n){var i={type:"html",point:t,html:e,cfg:n};return this._setOptions(i),this},paint:function(e,n,i){var t=this.guides;n=n||this.backPlot,i=i||this.frontPlot,s.each(t,function(t){s.inArray(r,t.type)?t.paint(e,i):t.paint(e,n)})},clear:function(){this.options=[],this.reset()},reset:function(){this.guides=[];var t=this.frontPlot;if(t&&!t.get("destroyed")){var e=t.get("parent")?t.get("parent").get("el").parentNode:t.get("el").parentNode,n=e.getElementsByClassName("guideWapper")[0];n&&e.removeChild(n)}}}),t.exports=i},function(t,e,n){"use strict";function m(t){for(var e=!0,n=t[0],i=n.attrValue,r=1;r<t.length;r++)if(t[r].attrValue!==i){e=!1;break}return e}function S(t,e){return t+"（"+e+"）"}function x(t){return t.alias||t.dim}var M=n(2),i=n(26),g=i.Legend,y=n(5),T=n(119),_="value",r=function(t){this.legendCfg={visible:!0},M.mix(this,t),this.clear();var e=this.chart;this.container=e.get("frontCanvas"),this.plotRange=e.get("plotRange")};M.augment(r,{plotRange:null,container:null,chart:null,position:"right",legendCfg:{},_isFiltered:function(e,t,n){if(!e.isCategory)return!0;var i=!1;return n=e.invert(n),M.each(t,function(t){if(i=i||e.getText(t)===e.getText(n))return!1}),i},_getFilterVals:function(t,e,n){var i=e.get("options").filters||{};return n&&(i[t]=[]),i[t]},_isDimInView:function(t,e,r){var a=!1,n=t.split("*"),s=e.split("*");return M.each(n,function(t,e){var n=r.getScale(t);if(n&&n.values){var i=s[e];a=M.inArray(n.values,i)}}),a},_addFilterVals:function(t,e,n,i){if(this._isDimInView(t,e,n)){var r=this._getFilterVals(t,n,i);r.push(e)}},_removeFilterVals:function(t,e,n,i){if(this._isDimInView(t,e,i)){var r=this._getFilterVals(t,i);r||(r=n.slice(0)),M.remove(r,e),i.filter(t,r)}},_bindClickEvent:function(t,r){var a=this,s=a.chart,i=s.getViews(),n=[],e=t.get("items");M.each(e,function(t){n.push(t[_])}),t.on("itemchecked",function(t){var e=t.item.value,n="single"===this.get("mode");a._addFilterVals(r,e,s,n),M.each(i,function(t){a._addFilterVals(r,e,t,n)}),s.repaint()}),t.on("itemunchecked",function(t){if("single"!==this.get("mode")){var e=t.item.value;a._removeFilterVals(r,e,n,s),M.each(i,function(t){a._removeFilterVals(r,e,n,t)}),s.repaint()}}),t.on("itemfiltered",function(t){var i=t.range,e=s.getAllGeoms();M.each(e,function(t){var e=t.getShapes();M.each(e,function(t){var e=a._getOrigin(t),n=e[r];n<i[0]||n>i[1]?t.set("visible",!1):t.set("visible",!0)}),t.setShapesFiltered(e)})})},_getOrigin:function(t){var e=t.get("origin");return M.isArray(e)&&(e=e[0]),e._origin},_bindActiveEvent:function(t,a){var s=this,n=s.chart;t.on("itemactived",function(t){var r=t.item.value,e=n.getAllGeoms();M.each(e,function(t){var e=t.getShapes(),n=t.getScales()[a],i=[];M.each(e,function(t){var e=s._getOrigin(t);!function(t,e,n){return!M.isNull(n)&&(t=n.translate(t),e=n.translate(e),n.isCategory?t===e:Math.abs(t-e)<=1)}(e[a],r,n)||i.push(t)}),t.setShapesActive(i)})}),t.on("itemunactived",function(){var t=n.getAllGeoms();M.each(t,function(t){t.clearShapeActived()})})},_getLayoutType:function(t){return"right"===t||"left"===t?"vertical":"horizontal"},_getRegion:function(t){var n=0,i=0;return M.each(t,function(t){var e=t.getBBox();n<e.width&&(n=e.width),i+=e.width}),{maxWidth:n,totalWidth:i}},_alignLegend:function(t,e,n,i){var r=this.container,a=r.get("canvas"),s=a.get("width"),o=a.get("height"),u=this.plotRange,c=0,l=0,h=t.get("dx")||0,f=t.get("dy")||0,g=t.getBBox();if("left"===i||"right"===i){var p=n.maxWidth;c=u?(o=u.br.y,"left"===i?16:u.br.x+16):"left"===i?16:s-p+16,l=o-g.height,e&&(l=e.get("y")-g.height-16)}else{var d=0;u&&(d=u.bl.x+(u.getWidth()-n.totalWidth)/2),c=d,l="top"===i?16:o-g.height-16,e&&(c=e.get("x")+e.getBBox().width+16)}t.move(c+h,l+f)},_setItemChecked:function(t,e,n,i){var r=this.container,a=this.chart,s=a.get("canvas"),o=e.item,u=o.geom,c=e.currentTarget,l=t.get("unChecked"),h=o.word.fill;if(i){if(!n)return;var f=a.getAllGeoms(),g=t.get("itemsGroup").get("children");M.each(f,function(t){u!==t&&t.setVisible(!1)}),M.each(g,function(t){if(t!==o){var e=t.get("children");e[0].attr("fill",l),e[1].attr("fill",l),t.set("checked",!1)}})}u.setVisible(n),o.checked=n,c.get("children")[0].attr("fill",n?o.color:l),c.get("children")[1].attr("fill",n?h:l),c.set("checked",n),r.draw(),s.draw()},addMixedLegend:function(t){var e=this;if(!e.legendCfg.visible)return null;var i=e.legendCfg,r="single"===i.mode,a=T.getShape("point"),s=i.marker||"circle";M.each(t,function(t,e){if(t.type=null,t.marker=a.getMarkerCfg(s,t),t.word=M.mix({fill:"#333",textBaseline:"middle"},i.word),r&&0<e){var n=t.geom;n.setVisible(!1),t.checked=!1}else t.checked=!0});var n=e.container,o=this.getPosition(),u=e.legends;u[o]=u[o]||[];var c=n.addGroup(g.Category,M.mix({},{checkable:!(!1===i.mode),layout:e._getLayoutType(o),items:t},y.legend[o],i));return u[o].push(c),c.on("itemchecked",function(t){e._setItemChecked(this,t,!0,r)}),c.on("itemunchecked",function(t){e._setItemChecked(this,t,!1,r)}),c},getPosition:function(t){var e=this.legendCfg,n=e.position||this.position;return e[t]&&e[t].position&&(n=e[t].position),n},addLegend:function(r,a,s,o){var u=this;if(u.legendCfg.visible){var t=u.legendCfg,e=r.dim;if(!t||!1!==t[e]){var n=u.getPosition(e),i=M.mix(!0,{titleText:x(r),attrType:a.type},y.legend[n],t,t[e]);i.checkable=!(!1===i.mode);var c,l,h=a.scales,f=[];if(1===h.length||r.isLinear)f=u._getLegendItems(r,a,s,o),l=r.dim,c=u._addLegend(r,i,f,n,a);else{var g=h[1],p=r.getTicks(),d=[];if(l=r.dim+"*"+g.dim,i.titleText&&(i.titleText=S(x(g),x(r))),M.each(p,function(t){var e=r.invert(t.value),n=u._getCategoryItems(g,a,s,o,e);if(m(n)){var i=n[0];i[_]=e,i.name=r.getText(e),i.attrValue=e,f.push(i)}else d=d.concat(n)}),d.length){var v=g.getTicks();M.each(v,function(t){var e=g.invert(t.value),n=function(t,e){var n=[];return M.each(t,function(t){t[_].endsWith(e)&&n.push(t)}),n}(d,e);if(n.length===p.length&&m(n)){var i=n[0];i[_]="*"+e,i.name=g.getText(e),i.attrValue=e,f.push(i)}else f=f.concat(n)})}(function(t,e,n){n&&M.each(t,function(t){t.checked=-1!==n.indexOf(t.value)})})(f,0,o),c=u._addLegend(r,i,f,n,a)}c.get("checkable")&&u._bindClickEvent(c,l),u._bindActiveEvent(c,l)}}},_getLegendItems:function(t,e,n,i,r){return t.isLinear?this._getContinuousItems(t,e,r):this._getCategoryItems(t,e,n,i,r)},_getContinuousItems:function(r,a,s){var o,u,c=this,l=[],t=r.getTicks();return M.each(t,function(t){var e=t.value,n=r.invert(e),i=c._mappingValues(n,a,s);l.push({name:t.text,color:i,value:e}),0===e&&(o=!0),1===e&&(u=!0)}),o||l.unshift({name:r.getText(r.invert(0)),color:c._mappingValues(r.invert(0),a,s),value:0}),u||l.push({name:r.getText(r.invert(1)),color:c._mappingValues(r.invert(1),a,s),value:1}),l},_getCategoryItems:function(l,h,f,g,p){var d,v,m=this,t=l.getTicks(),e=m.legendCfg,x=[],y="point",n=l.dim,_=e.marker||e[n]&&e[n].marker||"circle",b="single"===e.mode||e[n]&&"single"===e[n].mode,w=e.word||e[n]&&e[n].word||{};return M.each(t,function(t,e){var n=t.text;v=n;var i=t.value,r=l.invert(i),a={isInCircle:f.isInCircle()},s=m._mappingValues(r,h,p);"color"===h.type?a.color=s:"shape"===h.type?(y=f.get("shapeType")||f.get("type"),_=s):"size"===h.type&&(d=s);var o=T.getShape(y),u=o.getMarkerCfg(_,a);M.isNull(d)||(u.radius=d);var c=!0;M.isNull(p)?c=b?g?m._isFiltered(l,g,i):0===e:!g||m._isFiltered(l,g,i):(r=p+"*"+r,v=S(v,p)),x.push({name:v,checked:c,type:null,marker:u,attrValue:s,value:r,word:M.mix({fill:"#333",textBaseline:"middle"},w)})}),x},_mappingValues:function(t,e,n){var i;if(M.isNull(n))i=e.mappingValues(t).join("");else{var r=[n,t];i=e.mappingValues.apply(e,r).join("")}return i},_addLegend:function(t,e,n,i,r){var a,s,o=this._getLayoutType(i);if(t.isLinear)s=g.Continuous,a=M.mix({layout:o,attr:r},e);else{s=g.Category;var u=this.plotRange,c="right"===i||"left"===i?u.bl.y-u.tr.y:u.tr.x-u.bl.x;a=M.mix(!0,{maxLength:c,layout:o,items:n},e)}a.items=n;var l=this.container,h=this.legends,f=l.addGroup(s,a);return h[i]=h[i]||[],h[i].push(f),f},alignLegends:function(){var s=this,t=s.legends;return M.each(t,function(i,r){var a=s._getRegion(i);M.each(i,function(t,e){var n=i[e-1];s._alignLegend(t,n,a,r)})}),this},clear:function(){var t=this.legends;M.each(t,function(t){M.each(t,function(t){t.remove()})}),this.legends={}}}),t.exports=r},function(t,e,n){"use strict";var h=n(2),u=n(87),a=n(44),c=n(3),i=n(5),s={LINEAR:"linear",CAT:"cat",TIME:"time"},r=function(t){h.mix(this,t),this.defs=this.defs||{}};h.augment(r,{defs:null,_addNewCol:function(t,e,n){var i=this,r=i._getDefs(),a=e.dims,s=[];h.each(a,function(t){var e=r[t]&&r[t].type||i._getDefaultType(t,n);if(0===s.length)s.push(e);else if(!h.inArray(s,e))throw new Error('Sorry, the values that are involved in "+" must be of the same type.')}),h.isNull(e.type)&&(e.type=s[0]);var o=[];h.each(a,function(t){o.push(n.colArray(t))});for(var u=[],c=0;c<o[0].length;c++){u[c]=[];for(var l=0;l<a.length;l++)u[c].push(o[l][c])}n.addCol(t,u)},_getDefs:function(){var t=this.defs;return h.mix(!0,{},i.scales,t)},_getDef:function(t){var e=this.defs,n=null;return(i.scales[t]||e[t])&&(n=h.mix({},i.scales[t]),h.each(e[t],function(t,e){h.isNull(t)?delete n[e]:n[e]=t})),n},_getScaleCfg:function(t,e,n,i){var r={dim:e};if(n.contains(e)){var a=c.values(n,e);r.values=a,u.isCategory(t)||"time"===t||(r.min=c.min(n,e),r.max=c.max(n,e),r.nice=!0),"time"===t&&(r.nice=!1)}if(!u.isCategory(t)&&"time"!==t&&i&&(!r.min||0<r.min)){var s=this.defs,o={};o[e]={min:0},this.defs=h.mix(!0,o,s)}return r},_getDefaultType:function(t,e){var n=s.LINEAR,i=c.values(e,t),r=i[0];return h.isArray(r)&&(r=r[0]),a.isDateString(r)?n=s.TIME:h.isString(r)&&(n=s.CAT),n},_syncScales:function(t,e){if("identity"!==t.type){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);t.change(n)}},createDefaultScale:function(t,e,n){var i=this._getDefaultType(t,e),r=this._getScaleCfg(i,t,e,n);return u[i](r)},createScale:function(t,e,n){var i,r=this._getDef(t);if(h.isNumber(t))i=u.I({value:t,dim:t.toString()});else if(r||-1!==h.indexOf(e.colNames(),t))if(r){r.dims&&!e.contains(t)&&this._addNewCol(t,r,e);var a=r.type||this._getDefaultType(t,e),s=this._getScaleCfg(a,t,e,n);h.mix(s,r),i=u[a](s)}else i=this.createDefaultScale(t,e,n);else i=u.I({value:t,dim:t});return i},sortScales:function(r,t,e){var a=this;return e?(r=c.sortBy(r,e),void h.each(t,function(t,e){var n=t.type;if("identity"!==n&&r.contains(e)){var i=a.createScale(e,r);t.values=i.values}})):null},trainScales:function(r,t){var a=this;h.each(t,function(t){var e=t.type,n=t.dim;if("identity"!==e&&r.contains(n)){var i=a.createScale(n,r);a._syncScales(t,i)}})},_getFilterFunction:function(i,r){var a,e,n,s=i.dim;return i.isCategory?"timeCat"===i.type?function(t){return a=new Date(t[s]).getTime(),e=new Date(r[0]).getTime(),n=new Date(r[1]).getTime(),e<=a&&a<=n}:function(e){var n=!1;return h.each(r,function(t){if(a=e[s],n=n||i.getText(t)===i.getText(a))return!1}),n}:i.isLinear?function(t){return a=i.translate(t[s]),e=i.translate(r[0]),n=i.translate(r[1]),e<=a&&a<=n}:function(t){return a=t[s],h.inArray(r,a)}},_getMultpleFilterFunction:function(s,t){return function(a){var n=!1;return h.each(t,function(t){var e=t.split("*"),r=!0;if(h.each(e,function(t,e){if(t){var n=s[e],i=a[n.dim];r=r&&n.getText(t)===n.getText(i)}}),n=n||r)return!1}),n}},filterData:function(t,e,s){var o=this;t=o.convertToString(t,s);var u=[];h.each(e,function(t,e){var n;if(-1!==e.indexOf("*")){var i=e.split("*"),r=i.map(function(t){return s[t]});t&&r.length&&(n=o._getMultpleFilterFunction(r,t),u.push(n))}else{var a=s[e];t&&a&&(n=o._getFilterFunction(a,t),u.push(n))}});var n=t;return u.length&&(n=c.filter(t,function(e){var n=!0;return h.each(u,function(t){n=n&&t(e)}),n})),n},convertToString:function(a,t){var s=this;return h.each(t,function(t,e){var n=t.type;if(t.isCategory&&"timeCat"!==n&&a.contains(e)){var i=s._getDef(e);if(i&&!i.hasOwnProperty("values")||!i){var r=a.colArray(e);h.each(r,function(t,e){h.isNull(t)||(r[e]=t.toString())}),a.colReplace(e,r)}}}),a}}),t.exports=r},function(t,e,n){"use strict";function r(t,e){return!!t&&(!!t.className&&-1!==(f.isNull(t.className.baseVal)?t.className:t.className.baseVal).indexOf(e))}function u(t){var n=[];return f.each(t,function(t){var e=function(t,n){var i=-1;return f.each(t,function(t,e){if(t.title===n.title&&t.name===n.name&&t.value===n.value&&t.color===n.color)return i=e,!1}),i}(n,t);-1===e?n.push(t):n[e]=t}),n}var f=n(2),s=n(5),i=n(26),o=i.Tooltip,g=["line","area","path","areaStack"],a=["line","area"],c=function(t){this.cfg={visible:!0},f.mix(this,t)};f.augment(c,{cfg:null,tooltip:null,markerGroup:null,chart:null,timeStamp:0,get:function(t){return this[t]},set:function(t,e){this[t]=e},_setTooltipCrosshairs:function(){var t=f.mix({},s.tooltip),e=this.get("chart"),n=e.getAllGeoms(),i=[];return f.each(n,function(t){var e=t.get("type");-1===f.indexOf(i,e)&&i.push(e)}),n.length&&"cartesian"===n[0].get("coord").type&&1===i.length&&-1<f.indexOf(a,i[0])&&f.mix(t,{crosshairs:!0}),t},_showMarkers:function(t,e){var i=this.get("markerGroup");i.setMatrix(e.get("matrix").clone()),i.clear(),f.each(t,function(t){var e=t.point,n=f.mix({},i.get("marker"),{x:f.isArray(e.x)?e.x[e.x.length-1]:e.x,y:f.isArray(e.y)?e.y[e.y.length-1]:e.y,stroke:t.color});i.addShape("Marker",{attrs:n})}),i.show()},_getCanvas:function(){return this.chart.get("frontCanvas")},_setTooltip:function(t,e,n){var i=this.get("tooltip"),r=this.get("prePoint");if(!r||r.x!==e.x||r.y!==e.y){n=u(n),this.set("prePoint",e);var a=this.chart,s=f.isArray(e.x)?e.x[e.x.length-1]:e.x,o=f.isArray(e.y)?e.y[e.y.length-1]:e.y;i.get("visible")||a.fire("tooltipshow",{x:s,y:o,tooltip:i}),a.fire("tooltipchange",{tooltip:i,x:s,y:o,items:n}),i.setContent(t,n),i.setPosition(s,o),i.show()}},_clearActive:function(){var t=this.get("chart"),e=t.getAllGeoms();f.each(e,function(t){t.clearShapeActived()})},_bindEvent:function(){var t=this.chart;t.on("plotmove",f.wrapBehavior(this,"onMouseMove")),t.on("plotleave",f.wrapBehavior(this,"onMouseOut"))},_offEvent:function(){var t=this.chart;t.off("plotmove",f.getWrapBehavior(this,"onMouseMove")),t.off("plotleave",f.getWrapBehavior(this,"onMouseOut"))},renderTooltip:function(){if(!this.get("tooltip")){var t=this.get("chart"),e=this.get("cfg"),n=this._setTooltipCrosshairs();(e=f.mix({plotRange:t.get("plotRange"),capture:!1},n,e)).visible=!1;var i=this._getCanvas();if(!this.get("markerGroup")){var r=i.addGroup({zIndex:11,capture:!1,marker:s.tooltipMarker});this.set("markerGroup",r)}var a=i.addGroup(o,e);i.sort(),this.set("tooltip",a),this._bindEvent()}},showTooltip:function(s,t){var i=this;if((!t||t.length)&&s){this.get("tooltip")||this.renderTooltip();var e=i.get("cfg"),o=e&&e.map,u=[],c=[];if(f.each(t,function(t){if(!t.get("tooltipEnable"))return!0;var e=t.get("geoms"),n=t.get("coord");f.each(e,function(r){var t=r.get("container");if(t.get("visible")){var e=r.get("frames");if(r.isShareTooltip()){var a=[];f.each(e,function(t){var e=r.findPoint(s,t);if(e){a.push(e);var n=r.getTipItems(e,o);c=c.concat(n);var i=r.get("type");-1!==f.indexOf(g,i)&&(u=u.concat(n))}}),a.length&&r.setActiveByPoint(a[0])}else{var n=r.getSingleShape(s,e);n&&n.get("visible")&&(c=r.getTipItems(n.get("origin"),o),r.setShapesActive([n]))}}}),u.length&&i._showMarkers(u,n)}),c.length){var n=c[0];if(u.length){s=n.point;var r=f.isArray(s.x)?s.x[s.x.length-1]:s.x,a=f.isArray(s.y)?s.y[s.y.length-1]:s.y,l=t[0].get("coord");s=l.trans(r,a,1)}var h=n.title||n.name;i._setTooltip(h,s,c)}else i._clearActive()}},hideTooltip:function(){var t=this.get("tooltip"),e=this.chart,n=this.get("markerGroup"),i=this._getCanvas();this.set("prePoint",null),t.hide(),n.hide(),this._clearActive(),e.fire("tooltiphide",{tooltip:t}),i.draw()},onMouseMove:function(t){var e=this.get("timeStamp"),n=+new Date;if(this.cfg.visible&&t.views&&t.views.length){var i={x:t.x,y:t.y};16<n-e&&(this.showTooltip(i,t.views),this.set("timeStamp",n))}},onMouseOut:function(t){var e=this.get("tooltip"),n=this._getCanvas();e.get("visible")&&(t&&t.target!==n||t&&e.get("custom")&&t.toElement&&(r(t.toElement,"ac-tooltip")||function(t,e){for(var n=t.parentNode,i=!1;n&&n!==document.body;){if(r(n,e)){i=!0;break}n=n.parentNode}return i}(t.toElement,"ac-tooltip"))||this.hideTooltip())},clear:function(){var t=this.get("tooltip"),e=this.get("markerGroup");t&&t.remove(),e&&e.remove(),this.set("tooltip",null),this.set("markerGroup",null),this.set("prePoint",null),this._offEvent()}}),t.exports=c},function(t,e,n){"use strict";var h=n(2),i=n(293),r=n(5),a=["pointStack","pointJitter","pointDodge","intervalStack","intervalDodge","intervalSymmetric","areaStack","schemaDodge"];t.exports={_initAttrs:function(){var c=this,t=this.get("options").geoms;h.each(t,function(s){if(h.inArray(a,s.type)){var t=function(t){return t.replace(/([a-z](?=[A-Z]))/g,"$1 ").split(" ")}(s.type);s.type=t[0],s.adjusts?s.adjusts=[t[1]].concat(s.adjusts):s.adjusts=[t[1]]}var o=[],u=["position","color","shape","opacity","size"];h.each(s,function(t,e){if(-1!==u.indexOf(e)){var n,i;!h.isObject(t)||t.isStat?(i={}).field=t:i=t,n="color"===e?c._initColor(i,s.type):"size"===e?c._initSize(i):"shape"===e?c._initShape(i,s.type):i;var r=c._getScalesAndStat(i.field,s.type,s.adjusts,e);n=h.mix({},n,r);var a=c._getAttr(e,n);o.push(a)}}),s.attrs=o})},_initColor:function(t,e){var n={};return t.callback?n.callback=t.callback:t.colors?h.isArray(t.colors)?n.arr=t.colors:n.methodType=t.colors:"heatmap"===e?n.methodType=r.heatmapColors:n.arr=r.colors.default,n},_initSize:function(t){var e={};return t.callback&&(e.callback=t.callback),e.min=t.min||1,e.max=t.max||10,e},_initShape:function(t,e){var n={};return t.callback&&(n.callback=t.callback),t.shapes?n.arr=t.shapes:(e=e.replace(/[A-Z].*$/),n.arr=r.shapes[e]),n},_getScalesAndStat:function(t,e,n,i){var r=this._parseDims(t,e,n,i);return{scales:r.scales,stat:r.stat}},_parseDims:function(t,r,e,n){var i,a=this;if(t.isStat&&((i=t).hasInited||(i.init(),i.hasInited=!0),t=i.getDims(),a._addStat(i)),h.isString(t)&&-1!==t.indexOf("+")){var s=[],o=this.get("scaleAssist"),u=t.replace(/\s+/g,"").split("*");h.each(u,function(t){var e=t.replace(/\(|\)|\s+/g,"").split("+"),n=e.join("+");s.push(n),1<e.length&&(o.defs[n]=h.mix({},o.defs[n],{dims:e}))}),t=s}else h.isString(t)&&-1!==t.indexOf("*")?(t=t.split("*"),t=h.map(t,function(t){return t.trim()})):(h.isNumber(t)||h.isString(t))&&(t=[t]);var c=this.get("coord");"position"===n&&"theta"===c.type&&"interval"===r&&"Stack"===e[0]&&"..pieX"!==t[0]&&t.unshift("..pieX"),"position"===n&&1===t.length&&(h.inArray(e,"Jitter")||h.inArray(e,"Stack"))&&"..y"!==t[t.length-1]&&t.push("..y");var l=[];return h.each(t,function(t,e){var n=1===e&&"interval"===r,i=a.createScale(t,n);l.push(i)}),{dims:t,stat:i,scales:l}},_addStat:function(t){var e=this.get("stats");e.push(t)},_getAttr:function(t,e){t=h.ucfirst(t);var n=i[t];return new n(e)}}},function(t,e,n){"use strict";function u(t,e){var n=new r(t);return e&&function(t){var e=t.get("el");e.style.position="absolute",e.style.top=0,e.style.left=0}(n),n.set("fontFamily",c.fontFamily),n}function i(t){var e=h.mix({},c.plotCfg,t.plotCfg),n=function(t){var e=t.id,n=document.getElementById(e),i=t.container;if(!n&&!i)throw new Error("please specify the canvas container Id !");if(n&&i)throw new Error('"container" and "id" can not be declared at the same time!');if(!i){var r=h.guid("g-chart");(i=h.createDom("<div></div>")).id=r,n.appendChild(i)}return i}(t);t.plotCfg=e,t.container=n,t.forceFit&&(t=function(t){var e=t.container,n=h.getWidth(e);return t.width=n,t}(t));var i=(t=function(t){var e=t.width,n=t.height,i=t.container,r={width:e,height:n,containerDOM:i,pixelRatio:c.pixelRatio,capture:!1},a=u(r,!1),s=u(r,!0),o=u(r,!0);return s.set("capture",!0),t.backCanvas=a,t.canvas=s,t.frontCanvas=o,t}(t)).backCanvas,r=i.addGroup(s.Back,e);return t.backPlotBg=r,t.plotRange=r.get("plotRange"),t}var h=n(2),r=n(6),a=n(26),s=a.Plot,c=n(5),o=n(311),l=n(112),f=function t(e){e=i(e),t.superclass.constructor.call(this,e),this.init()};f.ATTRS={id:null,width:null,height:null,plotCfg:null,forceFit:!1},h.extend(f,o),h.augment(f,{init:function(){var t=this.get("plotRange");this.set("region",{start:t.start,end:t.end}),this.set("viewId","chart"),this.get("forceFit")&&window.addEventListener("resize",h.wrapBehavior(this,"_initForceFitEvent")),l.initEvent(this),l.initLegend(this),l.initTooltip(this)},_initForceFitEvent:function(){var t=setTimeout(h.wrapBehavior(this,"forceFit"),200);clearTimeout(this.get("resizeTimer")),this.set("resizeTimer",t)},_getAllYScales:function(){var e=[],t=this.get("views");return e=e.concat(this.getYScales()),h.each(t,function(t){e=e.concat(t.getYScales())}),e},_renderLegends:function(t){var c=this.get("legendAssist"),e=this.getAllGeoms(),n=this._getAllYScales(),l=[];if(h.mix(c.legendCfg,t),h.each(e,function(u){var t=u.getLegendAttr();h.each(t,function(t){var e=t.type,n=t.getScale(e);if("identity"!==n.type&&!function(t,i){var r=!1;return h.each(t,function(t){var e=[].concat(t.values),n=[].concat(i.values);t.type!==i.type||t.dim!==i.dim||e.sort().toString()!==n.sort().toString()||(r=!0)}),r}(l,n)){l.push(n);var i,r=t.scales,a=1===r.length?n.dim:n.dim+"*"+r[1].dim,s=u.get("chart"),o=s.get("options").filters;o&&o[a]&&(i=o[a]),c.addLegend(n,t,u,i)}})}),!l.length&&1<n.length){var i=[];h.each(n,function(n){h.each(e,function(t){if(t.getYScale()===n&&n.values&&0<n.values.length){var e={name:n.alias||n.dim,color:t.getDefaultValue("color"),geom:t};return i.push(e),!1}})}),c.addMixedLegend(i)}c.alignLegends()},_renderTooltip:function(){var t=this.get("options"),e=this.get("tooltipAssist");h.mix(e.cfg,t.tooltip),e.cfg.visible&&e.renderTooltip()},legend:function(t,e){var n=!0,i={};return h.isBoolean(t)&&(n=t),h.isObject(t)?i=t:i[t]=e,i.visible=n,this._setOptions("legends",i),this},tooltip:function(t,e){return h.isObject(t)?(e=t).visible=!0:(e||(e={}),e.visible=t),this._setOptions("tooltip",e),this},facet:function(t,e){var n=h.isString(t)?[t]:t;return e||(e={}),e.dims=n,this._setOptions("facet",e),this},changeSize:function(t,e){var n=this,i=n.get("backCanvas"),r=n.get("canvas"),a=n.get("frontCanvas");i.changeSize(t,e),r.changeSize(t,e),a.changeSize(t,e),n.set("width",t),n.set("height",e);var s=n.get("backPlotBg");s.repaint();var o=s.get("plotRange");n.set("region",{start:o.start,end:o.end});var u=n.get("views");return h.each(u,function(t){var e=n._getRegion(t);t.set("region",e)}),n.repaint(),n},destroy:function(){if(!this.destroyed){var t=this.get("container");this.fire("destroy"),clearTimeout(this.get("resizeTimer")),this.clear(),this.get("backCanvas").destroy(),this.get("canvas").destroy(),this.get("frontCanvas").destroy(),this.events={},this._attrs={},this.destroyed=!0,t.parentNode.removeChild(t),window.removeEventListener("resize",h.getWrapBehavior(this,"_initForceFitEvent"))}},showTooltip:function(t){var e=this.getViewsByPoint(t);if(e.length){var n=this.get("tooltipAssist");n.showTooltip(t,e)}return this},hideTooltip:function(){var t=this.get("tooltipAssist");t.hideTooltip()},getTooltipItems:function(s){var i=this,t=i.getViewsByPoint(s),o=[];return h.each(t,function(t){var e=t.getGeoms(),n=i.get("tooltipAssist"),a=n.cfg&&n.cfg.map;h.each(e,function(i){var t=i.get("frames"),r=[];h.each(t,function(t){var e=i.findPoint(s,t);if(e){var n=i.getTipItems(e,a);r=r.concat(n)}}),o=o.concat(r)})}),o},forceFit:function(){var t=this.get("container"),e=h.getWidth(t),n=this.get("height");e!==this.get("width")&&this.changeSize(e,n)},setMode:function(t){var e=this.get("eventAssist");return!1===t?e.selectable=!1:"select"===t&&(e.selectable=!0),this},select:function(t){var e=this.get("eventAssist");return e.selectMode=t,this},downloadImage:function(t){var e=this.get("frontCanvas"),n=this.get("canvas"),i=this.get("backCanvas"),r=i.get("el"),a=r.getContext("2d");a.drawImage(n.get("el"),0,0),a.drawImage(e.get("el"),0,0);var s=r.toDataURL("image/png");i.draw();var o=document.createElement("a");return o.download=(t||"chart")+".png",o.href=s.replace("image/png","image/octet-stream"),o.click(),s}}),t.exports=f},function(t,e,n){"use strict";var r=n(2),i=n(5),a=function(t){r.mix(this,t),this._init()};r.augment(a,{options:{},_init:function(){var n=this.options.adjusts;n&&(r.each(n,function(t,e){n[e]=r.ucfirst(t)}),this.options.adjusts=n)},_setOptions:function(t,e){var n=this.options;n[t]=r.mix({},n[t],e)},_getDefaultShapes:function(t){return t=t.replace(/[A-Z].*$/),i.shapes[t]},position:function(t){return this._setOptions("position",{field:t}),this},color:function(t,e){var n={};return n.field=t,e?r.isFunction(e)?n.callback=e:n.colors=e:n.colors="heatmap"===this.options.type?i.heatmapColors:i.colors.default,this._setOptions("color",n),this},shape:function(t,e){var n={};return n.field=t,e?r.isFunction(e)?n.callback=e:n.shapes=e:n.shapes=this._getDefaultShapes(this.options.type),this._setOptions("shape",n),this},opacity:function(t,e){var n={};return n.field=t,r.isFunction(e)&&(n.callback=e),this._setOptions("opacity",n),this},size:function(t,e,n){var i={};return i.field=t,i.min=r.isNull(n)?1:n,r.isFunction(e)?i.callback=e:i.max=e||10,this._setOptions("size",i),this},label:function(t,e,n){var i={};return i.field=t,r.isObject(e)&&(n=e,e=null),i.callback=e,i.cfg=n,this._setOptions("label",i),this},tooltip:function(t){return this.options.tooltip=t,this},style:function(t){var e=this.options;return e.style=t,this},selected:function(t,e){var n={};return!1===t?n.mode=!1:n=!0===t?e:t,this._setOptions("selected",n),this},animate:function(t){return this._setOptions("animate",t),this}}),t.exports=a},function(t,e,n){"use strict";function i(t){for(var e=t[0].min,n=t[0].max,i=1;i<t.length;i++){var r=t[i];e>r.min&&(e=r.min),n<r.max&&(n=r.max)}return[e,n]}var l=n(2),a=n(3),h=n(313),u=n(114),c=n(5),s=n(302);t.exports={_renderFacets:function(t){this._setScaleOptions(),this._initPlot(),this._createCoord(),this._initAttrs();var e=this._filterData(),n=new s({chart:this}),i=n.generateFacets(e,t),r=[];l.each(i,function(t){t._createCoord();var e=t._filterData();e=t._generateGeoms(e),r=r.concat(e)}),l.each(i,function(t){t._processCatScales(r)}),r=[],l.each(i,function(t){var e=t._numericAndAdjust();r=r.concat(e)}),l.each(i,function(t){t._processLinearScales(r)}),this.set("facets",i)},_renderView:function(){this._initPlot(),this._createCoord(),this._initAttrs();var t=this._filterData();t=this._generateGeoms(t),this._processCatScales(t);var e=this._numericAndAdjust();this._processLinearScales(e)},_getIdDims:function(e){var t=this.get("data"),n=[];return t.names.forEach(function(t){e[t]&&!0===e[t].key&&n.push(t)}),n},_setScaleOptions:function(){var t=this.get("options"),e=t.scales;if(e){var n=this._getIdDims(e);this.set("idDims",n);var i=this.get("scaleAssist");i.defs=l.mix({},!0,i.defs,e)}},_initData:function(t,n){if(t){if(!(t instanceof a)){if(n&&t.length){var e=t[0];l.each(e,function(t,e){-1===n.indexOf(e)&&n.push(e)})}t=new a(t,{names:n})}this.set("data",t)}},_initPlot:function(){if(!this.get("plotContainer")){var t=this.get("canvas"),e=t.addGroup();this.set("plotContainer",e)}if(!this.get("backPlot")){var n=this.get("backCanvas"),i=n.addGroup();this.set("backPlot",i)}if(!this.get("frontPlot")){var r=this.get("frontCanvas"),a=r.addGroup();this.set("frontPlot",a)}},_createCoord:function(){var t=this.get("coordAssist"),e=this.get("region"),n=t.createCoord(e.start,e.end);if(this.get("facet")){var i=this.get("facet");"mirror"===i.type&&(1===i.rows?(n.transpose(),0===i.colIndex&&n.scale(-1,1)):1===i.rowIndex&&n.scale(1,-1))}return this.set("coord",n),n},_filterData:function(){var t=this.get("options"),e=this.get("scaleAssist"),n=this.get("data"),i=this.get("scales"),r=t.filters;return e.filterData(n,r,i)},_createGeom:function(t,e){var n=t.type,i=t.adjusts,r=this.get("viewId"),a=this.get("coord"),s=t.label;s&&(l.isObject(s)&&!s.isStat||(s={field:s}),l.mix(s,this._getScalesAndStat(s.field,n,i)));var o=t.tooltip?this._parseDims(t.tooltip,n,i).dims:null,u=null;t.animate&&(u=t.animate);var c=new h({type:n,chart:this,attrs:t.attrs,stats:this.get("stats"),scales:this.get("scales"),styleCfg:t.style,labelCfg:s,tooltipDims:o,adjusts:i,selectedCfg:t.selected,animateCfg:u});return c.set("id",r+"geom"+e),c.set("coord",a),c},_initGeoms:function(){var i=this,t=this.get("options"),e=t.geoms,r=[];return l.each(e,function(t,e){var n=i._createGeom(t,e);r.push(n)}),this.set("geoms",r),r},_generateGeoms:function(n){var t=this._initGeoms(),i=[];return l.each(t,function(t){var e=t.processData(n);t.set("frames",e),i=i.concat(e)}),i},_trainScales:function(t,e){var n=this.get("scales"),i=[];l.each(n,function(t){e(t)&&i.push(t)});var r=this.get("scaleAssist");r.trainScales(t,i)},_trainCatScales:function(t){var e=this.get("options").filters||{};this._trainScales(t,function(t){return t.isCategory&&!function(t,n){var i=!!t[n];return i||l.each(t,function(t,e){if(-1!==e.split("*").indexOf(n))return!(i=!0)}),i}(e,t.dim)})},_setCatScalesRange:function(){var s=this,t=s.get("coord"),e=s.getXScale(),n=s.getYScales(),i=[];e&&i.push(e),i=i.concat(n);var o=function(t){var e=["polar","plus","theta"];return l.inArray(e,t.type)}(t)&&function(t){var e=t.get("startAngle"),n=t.get("endAngle");return!(!l.isNull(e)&&!l.isNull(n)&&n-e<2*Math.PI)}(t),r=s.get("scaleAssist"),u=r.defs;l.each(i,function(t){if(t.isCategory&&t.values&&(!u[t.dim]||!u[t.dim].range)){var e,n=t.values.length;if(1===n)e=[.5,1];else{var i=1,r=0;if(o){var a=s.get("coordAssist");e=a.hasAction("transpose")?(i=c.widthRatio.multiplePie,[(r=1/n*i)/2,1-r/2]):[0,1-1/n]}else i=c.widthRatio.column,e=[r=1/n*i,1-r]}t.range=e}})},_processCatScales:function(t){var e,n=!1;l.each(this.get("geoms"),function(t){var e=t.getAttr("position");!e.stat||"tree"!==e.stat.type&&"treemap"!==e.stat.type||(n=!0)}),n&&(e=a.forceMerge.apply(null,t),this._trainCatScales(e));var i=this.getXScale();if(i&&"timeCat"===i.type){e=a.forceMerge.apply(null,t);var r=this.get("scaleAssist");r.trainScales(e,[i])}this._setCatScalesRange()},_numericAndAdjust:function(){var n=[],t=this.get("geoms");return l.each(t,function(t){var e=t.get("frames");e=t.numbericFrames(e),e=t.processAdjust(e),t.set("frames",e),n=n.concat(e)}),n},_trainLinearScales:function(t){this._trainScales(t,function(t){return t.isLinear})},_processLinearScales:function(t){var e=a.forceMerge.apply(null,t);this._trainLinearScales(e)},_paint:function(){var t=this.get("geoms"),n=this.get("coord");this.fire("beforepaint",{chart:this}),l.each(t,function(e){e.paint(n,e.get("frames"),function(t){e.set("frames",t)})}),this._renderGuide(),this.getXScale()&&this._renderAxis(),this.fire("afterpaint"),this.get("plotContainer").sort()},_renderAxis:function(){var t=this.get("options");if(!t.axes||!1!==t.axes.visible){var e=this.get("axisAssist");e.container=this.get("backPlot");var n=this.getXScale(),i=this.getYScales();e.createAxis(this,n,i,t.axes)}},_renderGuide:function(){var t=this.get("guideAssist");if(t.creatGuide(),t.guides.length){if(!this.get("frontPlot")){var e=this.get("frontCanvas"),n=e.addGroup();this.set("frontPlot",n)}t.backPlot=this.get("backPlot"),t.frontPlot=this.get("frontPlot");var i=this.get("coord"),r=this.getXScale(),a=this.getYScales()[0];t.setScale(r,a),t.paint(i)}},_drawCanvas:function(){var t=this.get("options"),e=t.animate||this.get("animate"),n=this.get("groupAnimate"),i=this.get("isUpdate"),r=this.get("canvas"),a=this.get("backCanvas"),s=this.get("frontCanvas"),o=this.get("coord");e?(i?u.shapeAnimation(a,o,!0):a.draw(),u.shapeAnimation(r,o,i,n)):(r.draw(),a.draw()),s.draw()},_syncXYScales:function(){var t=this._getLinearScales("x"),e=this._getLinearScales("y"),o=i(t),u=i(e),n=this.getAllGeoms();l.each(n,function(t){var e=t.get("chart"),n=e.get("scaleAssist").defs,i=t.getAttr("position"),r=i.scales,a=r[0].dim,s=r[1].dim;n[a]&&n[a].min||(r[0].min=o[0]),n[a]&&n[a].max||(r[0].max=o[1]),n[s]&&n[s].min||(r[1].min=u[0]),n[s]&&n[s].max||(r[1].max=u[1])})},_getLinearScales:function(n){var i=[],t=this.getAllGeoms();return l.each(t,function(t){var e;"x"===n?e=t.getXScale():"y"===n&&(e=t.getYScale()),e.isLinear&&i.push(e)}),i},_renderLegends:function(){},_renderTooltip:function(){}}},function(t,e,n){"use strict";function o(t,e,n){var i=(t-e)/(n-e);return 0<=i&&i<=1}function i(t,e){var n=!1;if(t){var i=t.type;if("theta"===i){var r=t.get("start"),a=t.get("end");n=o(e.x,r.x,a.x)&&o(e.y,r.y,a.y)}else{var s=t.invert(e);n=0<=s.x&&0<=s.y&&s.x<=1&&s.y<=1}}return n}function r(a,s){return function(t){var e=[];s&&(e=e.concat(s)),t&&(e=e.concat(t));var n=this.get("options");n.geoms||(n.geoms=[]);var i={type:a,adjusts:e};n.geoms.push(i);var r=new f({options:i});return r}}var u=n(2),a=n(11),s=n(3),c=n(5),l=n(112),h=n(115),f=n(309),g=n(307),p=n(310),d=function t(e){t.superclass.constructor.call(this,e),this._init()};for(var v in d.ATTRS={start:{x:0,y:0},end:{x:1,y:1},tooltipEnable:!0,id:"",data:null,geoms:[],scales:{},animate:c.animate,views:[],facets:[],syncXYScales:!1,options:{},stats:[]},u.extend(d,a),u.augment(d,g,p,{_init:function(){var t=this.get("options"),e=this.get("data");u.isNull(e)&&(e=[],this.set("data",[])),this._initAssists(),this._initData(e,t.appendFields),this.set("views",[]),this.set("geoms",[]),this.set("scales",{})},_initAssists:function(){l.initScale(this),l.initCoord(this),l.initAxis(this),l.initGuide(this)},_setOptions:function(t,e){var n=this.get("options");n[t]=u.mix({},n[t],e),this.set("options",n)},_getRegion:function(t){var e=this.get("plotRange"),n=t.get("start"),i=t.get("end"),r=e.tl,a=e.br,s={x:n.x*(a.x-r.x)+r.x,y:i.y*(a.y-r.y)+r.y},o={x:i.x*(a.x-r.x)+r.x,y:n.y*(a.y-r.y)+r.y};return{start:s,end:o}},_clearInner:function(t){var e=this.get("geoms");return e.length&&u.each(e,function(t){t.destroy()}),this.set("geoms",[]),this.get("guideAssist").reset(),this.get("legendAssist")&&this.get("legendAssist").clear(),this.get("tooltipAssist")&&this.get("tooltipAssist").clear(),this.get("plotContainer")&&this.get("plotContainer").clear(),this.get("backPlot")&&this.get("backPlot").clear(),this.get("frontPlot")&&this.get("frontPlot").clear(),t&&(this.get("guideAssist").clear(),this.set("scales",{})),this},source:function(t,e,n){var i=this.get("options");return i.appendFields=n,e&&this._setOptions("scales",e),this._initData(t,n),this},col:function(t,e){var n=this.get("options");return n.scales||(n.scales={}),n.scales[t]=e,this},cols:function(t){var e=this.get("options");return e.scales||(e.scales={}),u.mix(e.scales,t),this},coord:function(t,e){this._setOptions("coord",{type:t,cfg:e,actions:[]});var n=this.get("coordAssist");return n.resetActions(),n},axis:function(t,e){var n=!0,i=this.get("options");i.axes||(i.axes={});var r=i.axes;return!1===t?n=!1:r[t]=e,r.visible=n,this},guide:function(){return this.get("guideAssist")},filter:function(t,e){var n=this.get("options");n.filters||(n.filters={});var i=n.filters;return i[t]=e,this},tooltip:function(t){return this.set("tooltipEnable",t),this},animate:function(t){var e=this.get("options");return e.animate=t,this.set("animate",t),this},createView:function(t){var e=this.get("views"),n=new d(t);n.get("region")||n.set("region",this._getRegion(n)),n.set("backCanvas",this.get("backCanvas")),n.set("frontCanvas",this.get("frontCanvas")),n.set("canvas",this.get("canvas")),n.set("viewId",this.get("viewId")+e.length),n.set("parent",this),n.set("animate",this.get("animate")),n.set("syncXYScales",this.get("syncXYScales")),t&&t.id||n.set("id","view"+e.length);var i=this.get("options"),r=t&&t.options||n.get("options");return r.scales=r.scales||{},r.scales=u.mix({},i.scales,r.scales),r.axes=r.axes||{},r.axes=u.mix({},i.axes,r.axes),r.coord=r.coord||{},r.coord=u.mix({},i.coord,r.coord),!1===r.tooltip&&n.set("tooltipEnable",!1),e.push(n),this.set("views",e),n},removeView:function(t){for(var e=[],n=this.get("views"),i=null,r=0;r<n.length;r++)(i=n[r])!==t?e.push(i):i.clear();this.set("views",e)},render:function(){var t,e=this.get("options");return e.facet?(this._renderFacets(e.facet),t=this.get("views")):(t=[this].concat(this.get("views")),u.each(t,function(t){t._setScaleOptions(),t._renderView()}),this.get("syncXYScales")&&this._syncXYScales()),u.each(t,function(t){t._paint()}),(!e.legends||e.legends&&!1!==e.legends.visible)&&this._renderLegends(e.legends),this._renderTooltip(),this._drawCanvas(),this},changeData:function(t){this._initData(t),this.set("scales",{});var e=this;return this.get("syncXYScales")&&this.get("parent")&&(e=this.get("parent")),e.repaint(),this},clear:function(){var t=this.get("views");0<t.length&&(u.each(t,function(t){t._clearInner(!0)}),this.set("views",[]));var e=this.get("options");return e.geoms=[],this._clearInner(!0),this.get("parent")||this.get("frontCanvas").clear(),this.get("backCanvas").draw(),this.get("canvas").draw(),this.get("frontCanvas").draw(),this.set("plotContainer",null),this.set("backPlot",null),this.set("frontPlot",null),this.set("facets",[]),this},repaint:function(){var t=this.get("views");return 0<t.length&&u.each(t,function(t){t._clearInner(!1)}),this._clearInner(!1),this.set("isUpdate",!0),this.set("stats",[]),this.render(),this},getActiveShape:function(){var t=this.get("geoms"),n=null;return u.each(t,function(t){var e=t.get("activeShapes");if(e&&e.length)return n=e[0],!1}),n},getSnapRecords:function(r){var t=this.get("geoms"),a=[];return u.each(t,function(e){var n,t=e.get("frames");if("point"===e.get("type")){var i=s.merge.apply(null,t);(n=e.findPoint(r,i))&&a.push(n)}else u.each(t,function(t){(n=e.findPoint(r,t))&&a.push(n)})}),a},getPosition:function(n){var t,i,r,e=this.get("coord"),a=this.getXScale();a&&(r=a.dim,t=a.scale(n[r]));var s=this.get("scales");return u.each(s,function(t){if(!t||t.dim===r||u.isNull(n[t.dim]));else{var e=t.dim;i=t.scale(n[e])}}),e.convert({x:t,y:i})},getXScale:function(){var t=this.get("geoms"),e=null;return t.length&&(e=t[0].getXScale()),e},getYScales:function(){var t=this.get("geoms"),n=[];return u.each(t,function(t){var e=t.getYScale();e&&-1===u.indexOf(n,e)&&n.push(e)}),n},getViews:function(){return this.get("views")},getView:function(e){var n=null,t=this.get("views");return u.each(t,function(t){if(t.get("id")===e)return n=t,!1}),n},getGeoms:function(){return this.get("geoms")},getAllGeoms:function(){var e=[];e=e.concat(this.getGeoms());var t=this.get("views");return u.each(t,function(t){e=e.concat(t.getGeoms())}),e},getScale:function(t){var e=this.get("scales");return e[t]},createScale:function(t,e){var n=this.get("data"),i=this.get("scaleAssist"),r=this.get("scales");return r[t]||(r[t]=i.createScale(t,n,e)),r[t]},getViewsByPoint:function(e){var n=[],t=this.get("views");return i(this.get("coord"),e)&&n.push(this),u.each(t,function(t){i(t.get("coord"),e)&&n.push(t)}),n}}),h)h.hasOwnProperty(v)&&(v=v.toLowerCase(),d.prototype[v]=r(v));u.each(["pointStack","pointJitter","pointDodge","intervalStack","intervalDodge","intervalSymmetric","areaStack","schemaDodge"],function(t){var e=function(t){return t.replace(/([a-z](?=[A-Z]))/g,"$1 ").split(" ")}(t),n=e[0],i=u.ucfirst(e[1]);"pointDodge"===t&&(i=["Dodge"]),d.prototype[t]=r(n,i)}),t.exports=d},function(t,e,n){"use strict";var i=n(2),r=n(6),a=n(201),s=function t(e){t.superclass.constructor.call(this,e)};i.extend(s,r.Group),i.mixin(s,[a.Group]),i.augment(s,{isItemActived:function(t){return t.get("actived")},setItemActived:function(t,e){t.set("actived",e)}}),t.exports=s},function(t,e,n){"use strict";var u=n(2),i=n(11),c=n(319),r=n(321),a=n(323),s=n(324),o=n(322),l=n(312),h=n(115),f=["size","shape","color"],g=n(114),p=n(5),d=function t(e){t.superclass.constructor.call(this,e),this._init()};d.ATTRS={type:"point",chart:null,attrs:null,stats:null,scales:null,styleCfg:null,labelCfg:null,animate:p.animate},u.extend(d,i),u.mixin(d,[o,s,r,a]),u.augment(d,{_init:function(){var t=this.get("chart"),e=t.get("plotContainer");e||(e=t.get("canvas").addGroup());var n=e.addGroup({zIndex:10});this.set("container",n)},_addLabels:function(t){var e=this.get("type"),n=this.get("coord"),i=c.getLabelsClass(n.type,e),r=this.get("id"),a=this.get("container"),s=a.addGroup(i,{id:r,labelsCfg:this.get("labelCfg"),coord:n,geom:this,geomType:e}),o=[];u.each(t,function(t){o=o.concat(t.toJSON())}),s.showLabels(o),this.set("labelGroup",s)},_draw:function(t){var e=this.get("group"),n=this.get("type"),i=this.get("id"),r=this._getGroupScales(),a=this.get("chart").get("idDims");n=u.ucfirst(n);var s=new h[n]({id:i,container:e,attrs:this.get("attrs"),styleCfg:this.get("styleCfg"),adjusts:this.get("adjusts"),frames:t,groupScales:r,idDims:a}),o=s.draw(t);return this.set("geomShape",s.get("shapeObj")),this.set("shapeType",s.get("shapeType")),this.set("shapeDatas",s.get("shapeDatas")),o},paint:function(t,e,n){var i=this;if("map"===t.type){var r=i.get("scales"),a=r["..long"],s=r["..lant"];t.set("originMin",[a.min,s.min]),t.set("originMax",[a.max,s.max]),i.set("coord",t)}var o=i.getAttr("position");o.coord=t;var u=i.get("container"),c=u.addGroup(l,{geom:i,coord:t,multipleActive:i.isShareTooltip(),capture:!0});return c.setMatrix(t.get("matrix").clone()),i.set("group",c),i._groupAnimate(function(){var t=i._draw(e);n&&n(t),i.get("labelCfg")&&i._addLabels(t)}),i},_groupAnimate:function(t){var e=this.get("chart"),n=e.get("isUpdate"),i=e.get("animate")||this.get("animate"),r=this.get("animateCfg"),a=r&&r.appear&&r.appear.animation;if(!n&&i&&this._isGroupAnimation(a)){e.set("groupAnimate",!0);var s=g.getGroupAnimation({geom:this,animateCfg:r.appear,fn:function(){t()}});s?s.start():t()}else t()},getDefaultValue:function(t){var e=this.get(t),n=this.getAttr(t);if(n){var i=n.getScale(t);"identity"===i.type&&(e=i.value)}return e},getLegendAttr:function(){var t=this.get("attrs"),e=[];return u.each(t,function(t){-1!==u.indexOf(f,t.type)&&e.push(t)}),e},getScales:function(){return this.get("scales")},destroy:function(){var t=this.get("group");t&&!t.get("destroyed")&&(t.clear(),t.remove()),this.clearShapeActived(),this._attrs={},this.events={}},getXDistance:function(){var t,e=this.getXScale();if(e.isCategory)t=1;else{var n=e.values,i=n.length;t=Math.abs(n[i-1]-n[0])/i}return t},getAttr:function(e){var t=this.get("attrs"),n=null;return u.each(t,function(t){t.type===e&&(n=t)}),n},getXDim:function(){var t=this.getXScale();return t.dim},getYDim:function(){var t=this.getYScale();return t?t.dim:"y"},getXScale:function(){return this.getAttr("position").scales[0]},getYScale:function(){return this.getAttr("position").scales[1]},isInCircle:function(){return this.get("coord").isPolar},getData:function(){return this.get("shapeDatas")},setVisible:function(t){var e=this.get("container");e.set("visible",t)},_isGroupAnimation:function(t){return t&&"group"===t.slice(0,5)}}),t.exports=d},function(t,e,n){"use strict";var f=n(2),h=n(169),g=n(3),i=n(19),r=function t(e){t.superclass.constructor.call(this,e)};r.ATTRS={type:"contour"},f.extend(r,i.Path),f.augment(r,{_beql:function(t,e){return Math.abs(t-e)<1e-6},_getZScale:function(){return this.getAttr("position").getScale("z")},_getData:function(t){var e=this,a=[],n=e.getAttr("position"),i=n.getDims(),s=i[0],o=i[1],u=i[2],r=g.values(t,s),c=g.values(t,o),l=0,h=null;return f.each(r,function(t){h&&e._beql(h,t),h=t}),h=null,f.each(c,function(t){h&&e._beql(h,t)||l++,h=t}),t.each(function(t,e){var n=Math.floor(e/l),i=Math.floor(e%l),r=[t[s],t[o],t[u]];Array.isArray(a[n])||(a[n]=[]),a[n][i]=r}),a},processFrames:function(t){var r=this.getXDim(),a=this.getYDim(),e=this._getZScale(),s=e.dim,n=g.merge.apply(null,t),o=n.rowObject(0),i=this._getData(n),u=e.ticks,c=h(i,u),l=[];return f.each(c,function(t){var e=t.path,n=t.value,i=[];f.each(e,function(t){var e=f.mix({},o);e[r]=t[0],e[a]=t[1],e[s]=n,i.push(e)}),l.push(new g(i))}),l}}),t.exports=r},function(t,e,n){"use strict";var i=n(2),r=n(19),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={type:"edge"},i.extend(a,r.Base),t.exports=a},function(t,e,n){"use strict";var p=n(2),d=n(188),i=n(19),v=n(5),r=function t(e){t.superclass.constructor.call(this,e)};r.ATTRS={type:"heatmap"},p.extend(r,i.Base),p.augment(r,{_getHeatmapData:function(t){var n=[],e=this.getAttr("color"),i=e.getDims(),r=i[0];return t.each(function(t){var e=[t.x,t.y,t._origin[r]];n.push(e)}),n},_getImageRegion:function(){var t=this.getCoord(),e=t.get("start"),n=t.get("end"),i={x:e.x,y:n.y,width:n.x-e.x,height:e.y-n.y};return i},_getColorScale:function(){return this.getAttr("color").getScale("color")},_getRadius:function(){var t=this.getAttr("position"),e=this.getCoord(),n=t.stat,i=null;if(n){var r=n.bandWidth;i=Math.min(e.getWidth(),e.getHeight())*r}return 2*i},drawFrame:function(t){var e=this.get("container"),n=this._getHeatmapData(t),i=this._getImageRegion(),r=this._getColorScale(),a=t.rowObject(0).size,s=this.getAttr("color"),o=p.mix({min:r.min,max:r.max,formatter:function(t){return r.scale(t)}},v.heatmap,i);o.colors=[s.mappingValues(r.invert(0)).join(""),s.mappingValues(r.invert(.25)).join(""),s.mappingValues(r.invert(.5)).join(""),s.mappingValues(r.invert(.75)).join(""),s.mappingValues(r.invert(1)).join("")];var u=a?parseInt(a,10):this._getRadius();u&&(o.radius=u);var c=new d(o),l=c.getData(n),h=document.createElement("canvas"),f=h.getContext("2d");h.width=i.width,h.height=i.height,f.putImageData(l,0,0);var g=e.addShape("Image",{attrs:i});g.attr("img",h),g.animateType="heatmap",g.id=this.get("viewId")+"heatmap"}}),t.exports=r},function(t,e,n){"use strict";var s=n(2),i=n(19),r=n(116),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={adjusts:null,frames:null},s.extend(a,i.Interval),s.mixin(a,[r]),s.augment(a,{processFrames:function(t){var e=this.getCoord(),n=e.type,i=this.get("adjusts");if(("theta"===n||"polar"===n&&e.isTransposed)&&"Stack"===i.toString()){var r=[],a=this.getYDim();return s.each(t,function(t){var e=t.colArray("_origin");0<=e[0][a]&&r.push(t)}),r}return t}}),t.exports=a},function(t,e,n){"use strict";var i=n(2),r=n(19),a=n(116),s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={adjusts:null,frames:null},i.extend(s,r.Schema),i.mixin(s,[a]),t.exports=s},function(t,e,n){"use strict";var i=n(118),r=n(117),a=n(320),s={getLabelsClass:function(t){var e=i;return"polar"===t||"plus"===t?e=r:"theta"===t&&(e=a),e}};t.exports=s},function(t,e,n){"use strict";function l(t,e,n){return{x:t.x+n*Math.cos(e),y:t.y+n*Math.sin(e)}}var h=n(2),i=n(117),o=n(18),r=n(5),a=function t(e){t.superclass.constructor.call(this,e)};a.CFG={labels:r.thetaLabels},h.extend(a,i),h.augment(a,{adjustItems:function(t){var e=this.getDefaultOffset();return 0<e&&(t=this._distribute(t,e)),t},_distribute:function(t,e){var n=this.get("coord"),i=n.getRadius(),r=this.get("labels").labelHeight,a=n.getCenter(),s=i+e,o=2*s+2*r,u={start:n.get("start"),end:n.get("end")},c=this.get("geom");if(c){var l=c.get("chart");(u=l.get("plotRange"))||(u=l.get("region"))}var h=[[],[]];return t.forEach(function(t){"right"===t.textAlign?h[0].push(t):h[1].push(t)}),h.forEach(function(t,e){var n=parseInt(o/r,10);t.length>n&&(t.sort(function(t,e){return e["..percent"]-t["..percent"]}),t.splice(n,t.length-n)),t.sort(function(t,e){return t.y-e.y}),function(n,i,t,r,a){var s,e=!0,o=t.start,u=t.end,c=Math.min(o.y,u.y),l=Math.abs(o.y-u.y),h=0,f=Number.MIN_VALUE,g=n.map(function(t){return t.y>h&&(h=t.y),t.y<f&&(f=t.y),{size:i,targets:[t.y-c]}});for(f-=c,l<h-c&&(l=h-c);e;)for(g.forEach(function(t){var e=(Math.min.apply(f,t.targets)+Math.max.apply(f,t.targets))/2;t.pos=Math.min(Math.max(f,e-t.size/2),l-t.size)}),e=!1,s=g.length;s--;)if(0<s){var p=g[s-1],d=g[s];p.pos+p.size>d.pos&&(p.size+=d.size,p.targets=p.targets.concat(d.targets),p.pos+p.size>l&&(p.pos=l-p.size),g.splice(s,1),e=!0)}s=0,g.forEach(function(t){var e=c+i/2;t.targets.forEach(function(){n[s].y=t.pos+e,e+=i,s++})}),n.forEach(function(t){var e=t.r*t.r,n=Math.pow(Math.abs(t.y-r.y),2);if(e<n)t.x=r.x;else{var i=Math.sqrt(e-n);t.x=a?r.x+i:r.x-i}})}(t,r,u,a,e)}),h[0].concat(h[1])},drawLines:function(t,e){var n=this,i=n.getDefaultOffset();0<i&&h.each(t,function(t){n.lineToLabel(t,e)})},lineToLabel:function(t,e){var n=this.get("coord"),i=n.getRadius(),r=this.getDefaultOffset(),a=t.orignAngle||t.angle,s=n.getCenter(),o=l(s,a,i+2.5),u=l(s,a,i+r/2),c=this.get("lineGroup");c||(c=this.addGroup({elCls:"x-line-group",animate:!1}),this.set("lineGroup",c)),c.addShape("path",{attrs:h.mix({path:["M"+o.x,o.y+" Q"+u.x,u.y+" "+t.x,t.y].join(","),fill:null,stroke:t.color},e)})},getLabelRotate:function(t,e){var n;return e<0&&(90<(n=180*t/Math.PI)&&(n-=180),n<-90&&(n+=180)),n/180*Math.PI},getLabelAlign:function(t){var e,n=this.get("coord"),i=n.getCenter();e=t.angle<=Math.PI/2&&t.x>i.x?"left":"right";var r=this.getDefaultOffset();return r<=0&&(e="right"===e?"left":"right"),e},getArcPoint:function(t){return t},getPointAngle:function(t){var e,n=this.get("coord"),i={x:h.isArray(t.x)?t.x[0]:t.x,y:t.y[0]},r={x:h.isArray(t.x)?t.x[1]:t.x,y:t.y[1]},a=o.getPointAngle(n,i);if(t.points&&t.points[0].y===t.points[1].y)e=a;else{var s=o.getPointAngle(n,r);s<=a&&(s+=2*Math.PI),e=a+(s-a)/2}return e},getCirclePoint:function(t,e){var n=this.get("coord"),i=n.getCenter(),r=n.getRadius()+e,a=l(i,t,r);return a.angle=t,a.r=r,a}}),t.exports=a},function(t,e,n){"use strict";var y=n(2),p=n(3),_=Math.abs,b="_origin",i=function(){};i.ATTRS={localRefresh:!1,allowActiveShape:!0,snapAll:!0,snapDistance:10},y.augment(i,{isAllowActiveShape:function(){var t=this.get("type");return!y.inArray(["contour","path","line","area"],t)&&this.get("allowActiveShape")},isSnapAll:function(){var t=this.get("type");return"interval"!==t&&"schema"!==t&&this.get("snapAll")},setActiveByPoint:function(t){var e=this.get("coord"),n=null;if(!this.isAllowActiveShape())return[];if(this.isShareTooltip())n=this._getSharedShapes(t,e);else{n=[];var i=this.getSingleShape(t);i&&i.get("visible")&&n.push(i)}var r=this.get("preShapes");return function(n,t){if(!n)return!0;if(n.length!==t.length)return!0;var i=!1;return y.each(t,function(t,e){if(t!==n[e])return!(i=!0)}),i}(r,n)&&this.setShapesActive(n),this.set("preShapes",n),n},_getSharedShapes:function(r){var t=this.get("group"),a=[];if(t){var s=this.getXDim(),e=t.get("children");y.each(e,function(t){var e=t.get("origin");if(t.get("visible")&&e){var n=e[b][s],i=r[b][s];(y.isArray(n)&&y.isArray(i)&&y.equalsArray(n,i)||n===i)&&a.push(t)}})}return a},getSingleShape:function(e){var t,n=this,i=null,r=p.forceMerge.apply(null,n.get("frames"));if("contour"===n.get("type"))return t=n.findPoint(e,r),i={origin:t,get:function(t){return this[t]}};var a=n.get("group"),s=n.get("coord"),o=a.get("canvas"),u=o.get("pixelRatio");if(a){var c=a.get("children"),l=[];if(30<c.length){var h=p.max(r,"size");y.each(c,function(t){n.isSnapPoint(e,t,s,h)&&l.push(t)})}else l=c;for(var f=l.length-1;0<=f;f--){var g=l[f];if(g.get("origin")&&g.isHit(e.x*u,e.y*u)){i=g;break}}}return i},_isSnapPointOfPolygon:function(t,e,n){var i,r=this.get("snapDistance"),a=this.getXScale(),s=this.getYScale(),o=e[b],u=n.invert(t);if(y.isArray(e.x)&&y.isArray(e.y))i=function(t,e){for(var n=t.x,i=t.y,r=n[0],a=i[0],s=n[0],o=i[0],u=0;u<n.length;u++){var c=n[u],l=i[u];c<=r&&(r=c),s<=c&&(s=c),l<=a&&(a=l),o<=l&&(o=l)}return e.x>=r&&e.x<=s&&e.y>=a&&e.y<=o}(e,t);else{var c=n.trans(e.x,e.y,1),l=!1,h=!1;l=a.isCategory?a.translate(a.invert(u.x))===a.translate(o[a.dim]):_(c.x-t.x)<r,h=s&&s.isCategory?s.translate(s.invert(u.y))===s.translate(o[s.dim]):_(c.y-t.y)<r,i=l&&h}return i},isSnapPoint:function(t,e,n,i){var r=e.get("origin");if(!r)return!1;var a,s=i||this.get("snapDistance"),o=this.get("type"),u=!1;if("polygon"===o)u=this._isSnapPointOfPolygon(t,r,n);else if("edge"===o){t=n.reverse(t.x,t.y,1);var c=(a=e.getBBox()).minX,l=a.maxX,h=a.minY,f=a.maxY;u=t.x>=c&&t.x<=l&&t.y>=h&&t.y<=f}else if(this.isSnapAll()){var g=r.y;y.isArray(r.y)&&(g=(g[0]+g[g.length-1])/2);var p=n.trans(r.x,g,1);u=_(p.x-t.x)<s&&_(p.y-t.y)<s}else{var d=n.invert(t),v=this.getXScale(),m=v.dim,x=v.translate(v.invert(d.x));s=this.getXDistance(),u=_(x-v.translate(r[b][m]))<s}return u},setShapesActive:function(t){var e=this;if(e.isAllowActiveShape()){var n=e.get("coord"),i=e.get("activeGroup"),r=e.get("chart"),a=r.get("frontCanvas");i?i.clear():(i=a.addGroup(),e.set("activeGroup",i)),i.setMatrix(n.get("matrix").clone()),y.each(t,function(t){t.get("visible")&&e._setActiveShape(t,i)}),e.set("activeShapes",t),a.sort()}},_setLabelsVisible:function(n,i){if(n.get("gLabel"))n.get("gLabel").set("visible",i);else{var t=this.get("labelCfg");if(t&&t.scales&&0<t.scales.length){var r=this.getXDim(),a=this.getYDim(),s=n.get("origin")._origin,e=this.get("labelGroup"),o=e.get("labelsGroup").get("children");y.each(o,function(t){var e=t.get("attrs").point;e[r]===s[r]&&e[a]===s[a]&&(t.set("visible",i),n.set("gLabel",t))})}}},setShapesFiltered:function(t){var e=this,n=e.get("chart"),i=n.get("canvas");y.each(t,function(t){t.get("visible")?e._setLabelsVisible(t,!0):e._setLabelsVisible(t,!1)}),i.draw()},_setActiveShape:function(t,e){var n,i=t.get("type"),r=t.get("origin"),a=r.shape||this.getDefaultValue("shape");y.isArray(a)&&(a=a[0]);var s=this.get("geomShape"),o=s[a]||s,u=o.getActiveCfg(a,r);n=y.mix({},u,{fill:"white",fillOpacity:.15,clip:null});var c=y.mix({},t.__attrs,n),l=e.addShape(i,{attrs:c});l.setMatrix(t.getMatrix()),l.set("origin",r)},clearShapeActived:function(){var t=this.get("activeGroup");t&&t.clear(),this.set("activeShapes",null),this.set("preShapes",null)}}),t.exports=i},function(t,e,n){"use strict";function i(t){return t.binWidth||t.bandWidth}var h=n(2),l=n(3),f=n(190),s=n(5),r=["size","shape","color"],g=["Dodge","Jitter","Stack","Symmetric"],a=function(){};a.ATTRS={adjusts:null},h.augment(a,{_getScale:function(e){var t=this.get("scales"),n=null;return h.each(t,function(t){if(t.dim===e)return n=t,!1}),n},_getGroupScales:function(){var n=[],t=this.get("attrs");return h.each(t,function(t){if(-1!==r.indexOf(t.type)){var e=t.scales;h.each(e,function(t){t.isCategory&&-1===h.indexOf(n,t)&&n.push(t)})}}),n},_saveOriginData:function(t){return h.each(t,function(t){var e=t.toJSON();t.addCol("_origin",e)}),t},_setStatRange:function(n){var i=this,t=n.getDims(),r=[];h.each(t,function(t){var e=i._getScale(t);e.isCategory||"identity"===e.type||(isNaN(e.min)||isNaN(e.max)||n.setRange(t,{min:e.min,max:e.max}),"bin"===n.type&&r.push(t))}),r.length&&(n.binDims=r)},_getBinStat:function(t){var e=null;if(i(t))e=t;else if(t.stat){for(var n=t.stat;n&&!i(n);)n=n.stat;n&&i(n)&&(e=n)}return e},_execStat:function(t,e){var n=this._getBinStat(t);return n&&this._setStatRange(n),(t.isRegression||t.setRange)&&this._setStatRange(t),t.exec(e)},_execStats:function(t){var e=this,n=t;if(h.isNull(t)||t&&0===t.length)return n;var i=e.get("attrs"),r=e.getAttr("position"),a=r.stat,s=[];h.each(i,function(t){"position"!==t.type&&t.stat&&s.push(t.stat)}),a&&(n=e._execStat(a,n));var o=e.get("labelCfg");if(o&&o.stat&&(n=e._execStat(o.stat,n)),s.length){var u=[],c=r.getDims();h.each(n,function(t){u=u.concat(l.group(t,c))}),n=u,h.each(s,function(t){n=e._execStat(t,n)}),n=[l.merge.apply(this,n)]}return n},_getGroupDims:function(){var e=[],t=this._getGroupScales();return h.each(t,function(t){e.push(t.dim)}),e},_groupFrames:function(t){var e=this._getGroupDims();return l.group(t,e)},_filterNullValue:function(t){var e=this.getXDim();return l.filter(t,function(t){return h.isArray(t[e])||!h.isNull(t[e])})},_createFrame:function(r){var t=this.get("scales"),a=r.clone();return h.each(t,function(t){var e=t.dim;if(!r.contains(e)){var n,i=!t.value&&s.scales[e]?0:t.value;n=l.Array.repeat(i,r.rowCount()),a.addCol(e,n)}}),a},processData:function(t){var e=this._createFrame(t);return e=this._filterNullValue(e),t=this._groupFrames(e),t=this._execStats(t),t=this._saveOriginData(t)},numbericFrames:function(t){var n=this.get("scales");return h.each(t,function(e){h.each(n,function(n){var t=n.dim;if(n.isCategory||"time"===n.type){var i=e.colArray(t);h.each(i,function(t,e){i[e]=n.translate(t)}),e.colReplace(t,i)}})}),t},_paddingNullValue:function(t){var o=this.getXDim(),u=this.getYDim(),e=l.merge.apply(null,t),n=l.values(e,o);h.each(t,function(i){if(i.rowCount()<n.length){var r={},a=i.rowObject(0),t=i.colArray(o);h.each(t,function(t){r[t]=!0});var s=!0;h.each(n,function(t){if(r[t])s=!0;else if(!0===s){var e=h.mix({},a);e[o]=t,e[u]=null;var n={};n[o]=t,e[u]=null,e._origin=n,i.addRow(e),s=!1}})}})},processAdjust:function(o){var u=this,t=u.get("adjusts");if(!h.isNull(t)){var e=u.get("type"),c=u.getYScale(),l=u.getXScale();"point"!==e||"Dodge"!==t[0]||c||t.push("Stack"),h.each(t,function(t){if(!h.inArray(g,t))throw new Error(h.ucfirst(t)+" is not supported, please use "+g.toString());var e={};if("Dodge"===t){var n=[];if(l.isCategory)n.push("x");else{if(c)throw new Error("dodge is not support linear attribute, please use category attribute!");n.push("y")}var i=u._getGroupDims();e={xDim:u.getXDim(),yDim:c?c.dim:null,adjustNames:n,groupDims:i},u.isInCircle()&&(e.dodgeRatio=1,e.marginRatio=0)}else if("Stack"===t){var r=u.getDefaultValue("size")||3;e={xDim:u.getXDim(),size:r},"area"===u.get("type")&&u._paddingNullValue(o);var a=u.get("coord");c&&"..y"!==c.dim?e.yDim=u.getYDim():e.height=a.getHeight(),a.isTransposed||(e.reverseOrder=!0)}else e={xDim:u.getXDim(),yDim:u.getYDim()};var s=new f[t](e);o="Stack"===t&&c&&"..y"===c.dim?(s.yDim="..y",s.processOneDimStack(o)):s.processAdjust(o)})}return o}}),t.exports=a},function(t,e,n){"use strict";var h=n(2),i=h.MatrixUtil,r=function(){};r.ATTRS={allowSelected:!1},h.augment(r,{allowSelected:function(){var t=this.get("type"),e=this.get("coord"),n=e&&e.type,i=this.get("allowSelected");return this.get("selectedCfg")&&!1!==this.get("selectedCfg").mode&&(i=!0),"interval"===t&&"theta"===n&&(i=!0,this.get("selectedCfg")&&!1===this.get("selectedCfg").mode&&(i=!1)),i},getShapes:function(){var t=this.get("container"),n=[],e=t.get("children");return h.each(e,function(t){var e=t.get("children");h.each(e,function(t){t.get("origin")&&n.push(t)})}),n},getSelectedShapes:function(t){t=t||this.getShapes();var e=[];return h.each(t,function(t){t.get("selected")&&e.push(t)}),e},getShapeByData:function(e,t){var n=null;return e&&h.each(t,function(t){if(t.get("origin")===e)return n=t,!1}),n},setShapeSelected:function(t,e){t.set("selected",e),this.setSelectedStatus(t,e)},setSelectedStatus:function(i,t){var e=this.get("activeGroup"),n=this.get("selectedCfg")||{},r=!1!==n.animate,a={};if(t){var s=i.get("origin"),o=this.get("geomShape"),u=s.shape||this.getDefaultValue("shape"),c=h.mix({geom:this,coord:i.get("parent").get("coord"),point:s},n),l=o.getSelectedCfg(u,c);h.mix(l,c.style),i.get("originSelectStyle")?a=i.get("originSelectStyle"):(h.each(l,function(t,e){if("transform"===e||"matrix"===e)a.matrix=i.getMatrix().clone();else{var n=i.attr(e);n!==t&&(a[e]=n)}}),i.set("originSelectStyle",a)),l=this.parseCfg(a.matrix,l),r?i.animate(l,300):(i.attr(l),i.get("canvas").draw())}else a=i.get("originSelectStyle"),r?i.animate(a,300):(i.attr(a),i.get("canvas").draw());this.clearShapeActived(),e&&e.get("canvas").draw()},parseCfg:function(t,e){return e.transform&&(e.matrix=i.transform(t,e.transform),delete e.transform),e},setSelected:function(t){var e=this,n=e.get("chart"),i=e.getShapes(),r=e.getSelectedShapes(i),a=e.getShapeByData(t,i),s=e.get("selectedCfg")||{};if("multiple"===s.mode&&a)-1===h.indexOf(r,a)?(r.push(a),e.setShapeSelected(a,!0),n.fire("itemselected",{shape:a,data:t,view:e,geom:e})):(h.remove(r,a),e.setShapeSelected(a,!1),n.fire("itemunselected",{shape:a,data:a.get("origin"),view:e,geom:e}));else{var o=!1!==s.cancelable,u=r[0];o&&(a=u===a?null:a),u!==a&&(u&&(e.setShapeSelected(u,!1),n.fire("itemunselected",{shape:u,data:u.get("origin"),view:e,geom:e})),a&&(e.setShapeSelected(a,!0),n.fire("itemselected",{shape:a,data:t,view:e,geom:e})),n.fire("itemselectedchange",{shape:a,data:t,view:e,geom:e,preShape:u,preData:u?u.get("origin"):null}))}},getSelected:function(){var t=this.getSelectedShapes(),e=null;return 0<t.length&&(this.get("selectedCfg")&&"multiple"===this.get("selectedCfg").mode?(e=[],h.each(t,function(t){e.push(t.get("origin"))})):e=t[0].get("origin")),e},clearSelected:function(){var e=this,t=e.getSelectedShapes();h.each(t,function(t){e.setShapeSelected(t,!1)})}}),t.exports=r},function(t,e,n){"use strict";function h(t){return t.alias||t.dim}var P=n(2),f=n(5),I="_origin",i=function(){};i.ATTRS={tooltipMap:{},tooltipDims:null,shareTooltip:!0},P.augment(i,{_snapEqual:function(t,e,n){return t=n.translate(t),e=n.translate(e),n.isCategory?t===e:Math.abs(t-e)<=.001},_getScaleValueByPoint:function(t){var e=0,n=this.get("coord"),i=this.getXScale(),r=n.invert(t),a=r.x;return this.isInCircle()&&a>(1+i.rangeMax())/2&&(a=i.rangeMin()),e=i.invert(a),i.isCategory&&(e=i.translate(e)),e},_getTipMapScale:function(t){var e=this.get("tooltipMap"),n=e&&e[t];return this._getScale(n)},_getTipValueScale:function(){var n=this._getTipMapScale("value");if(!n){var t=this.getLegendAttr();P.each(t,function(t){var e=t.getScale(t.type);if(e.isLinear)return n=e,!1})}var e=this.getXScale(),i=this.getYScale();return!n&&i&&"..y"===i.dim?e:n||i||e},_getTipTitleScale:function(){var t=this._getTipMapScale("title");if(!t){var e,n=this.getAttr("position"),i=n.getDims();P.each(i,function(t){if(-1===t.indexOf(".."))return e=t,!1}),t=this._getScale(e)}return t},_filterValue:function(t,e){var n=this.get("coord"),i=this.getYScale(),r=i.dim,a=n.invert(e),s=a.y;s=i.invert(s);var o=t[t.length-1];return P.each(t,function(t){var e=t[I];if(e[r][0]<=s&&e[r][1]>=s)return o=t,!1}),o},findPoint:function(t,e){var i=this,r=i.getXScale(),n=i.getYScale(),a=r.dim,s=n.dim,o=i.get("type"),u=e.toJSON(),c=null;if(-1<P.indexOf(["heatmap","contour","point"],o)){var l,h=i.get("coord"),f=h.invert(t),g=r.invert(f.x),p=n.invert(f.y),d={};P.each(u,function(t){var e=(t._origin[a]-g)*(t._origin[a]-g)+(t._origin[s]-p)*(t._origin[s]-p);(P.isNull(l)||e<l)&&(l=e,d=t)}),c=d}else{var v=u[0],m=u[u.length-1];if(!v)return c;var x=i._getScaleValueByPoint(t),y=v[I][a],_=v[I][s],b=m[I][a],w=n.isLinear&&P.isArray(_);if(P.isArray(y))P.each(u,function(t){var e=t[I];if(r.translate(e[a][0])<=x&&r.translate(e[a][1])>=x){if(!w)return c=t,!1;P.isArray(c)||(c=[]),c.push(t)}}),P.isArray(c)&&(c=this._filterValue(c,t));else{var S;if(r.isLinear||"timeCat"===r.type){if((x>r.translate(b)||x<r.translate(y))&&(x>r.max||x<r.min))return null;for(var M,T=0,A=u.length-1;T<=A;){M=Math.floor((T+A)/2);var C=u[M][I][a];if(i._snapEqual(C,x,r))return u[M];r.translate(C)<=r.translate(x)?(T=M+1,m=u[M],S=u[M+1]):(0===A&&(m=u[0]),A=M-1)}}else P.each(u,function(t,e){var n=t[I];if(i._snapEqual(n[a],x,r)){if(!w)return c=t,!1;P.isArray(c)||(c=[]),c.push(t)}else r.translate(n[a])<=x&&(m=t,S=u[e+1])}),P.isArray(c)&&(c=this._filterValue(c,t));m&&S&&Math.abs(r.translate(m[I][a])-x)>Math.abs(r.translate(S[I][a])-x)&&(m=S)}var k=i.getXDistance();!c&&Math.abs(r.translate(m[I][a])-x)<k/2&&(c=m)}return c},getTipTitle:function(t){var e,n="",i=this.get("tooltipMap"),r=i.title;if(r){if(!(e=this._getScale(r)))return r}else e=this._getTipTitleScale();if(e){var a=t[e.dim];n=e.getText(a)}else if("heatmap"===this.get("type")){var s=this.getXScale(),o=this.getYScale(),u=s.getText(t[s.dim]),c=o.getText(t[o.dim]);n="( "+u+", "+c+" )"}return n},getTipValue:function(t,e){var n,i=e.dim;if(n=t[i],P.isArray(n)){var r=[];P.each(n,function(t){r.push(e.getText(t))}),n=r.join("-")}else n=e.getText(n);return n},getTipName:function(t){var e,n,i=this.get("tooltipMap"),r=i.name;if(r&&!(n=this._getScale(r)))return r;var a=this._getGroupScales();if(!n&&a.length&&P.each(a,function(t){return n=t,!1}),n){var s=n.dim;e=n.getText(t[s])}else{var o=this._getTipValueScale();e=h(o)}return e},getTipItems:function(n,t){function i(t,e){P.isNull(e)||""===e||c.push({title:u,point:n,name:t||u,value:e,color:n.color||f.defaultColor,marker:!0})}var r=this,a=n[I];t&&r.set("tooltipMap",t);var s,o,u=r.getTipTitle(a),e=r.get("tooltipDims"),c=[];if(e)P.each(e,function(t){if(!P.isNull(a[t])){var e=r._getScale(t);s=h(e),o=e.getText(a[t]),i(s,o)}});else{var l=r._getTipValueScale();P.isNull(a[l.dim])||(o=r.getTipValue(a,l),i(s=r.getTipName(a),o))}return c},isShareTooltip:function(){var t=this.get("shareTooltip"),e=this.get("type");if("interval"===e){var n=this.get("coord"),i=n.type;("theta"===i||"polar"===i&&n.isTransposed)&&(t=!1)}else this.getYScale()&&!P.inArray(["contour","point","polygon","edge"],e)||(t=!1);return t}}),t.exports=i},function(t,e,n){"use strict";function r(t){var e=f.shape.hollowArea,n=c.mix(!0,{},e,{stroke:t.color,lineWidth:t.size,strokeOpacity:t.opacity},t.style);return n}function a(t){var e=f.shape.area,n=c.mix(!0,{},e,{fill:t.color,stroke:t.color,lineWidth:t.size,fillOpacity:t.opacity},t.style);return n}function s(t,r){var a="",e=[],n=[],i=[],s=t.isInCircle;return c.each(t.points,function(t){n.push(t[0]),i.push(t[1])}),i=i.reverse(),e.push(n,i),c.each(e,function(t,e){var n="";if(n=r?h.getSplinePath(t,!1):h.getLinePath(t,!1),s){var i=t[0];n+=c.substitute("L {x} {y}",i)}else 0<e&&(n=n.replace("M","L"));a+=n}),a+="z"}function o(t,e,n){return[["M",t-n,e+n],["L",t-n,e-n],["L",t,e],["L",t+n,e-n],["L",t+n,e+n],["z"]]}function u(t,e,n){return c.path2Absolute([["M",t-n,e+n],["L",t-n,e],["R",t-n/2,e-n/2,t,e,t+n/2,e+n/2,t+n,e],["L",t+n,e+n],["z"]])}function i(t,e,n){var i=n?r(t):a(t);return c.mix({symbol:e?u:o},i)}var c=n(2),l=n(14),h=n(18),f=n(5),g=[2,1],p=l.registGeom("area",{defaultShapeType:"area",getActiveCfg:function(t){return function(t){return t&&-1!==t.indexOf("line")?f.activeShape.hollowArea:f.activeShape.area}(t)},drawShape:function(t,e,n){var i,r=this.getShape(t);return(i=1===e.points.length&&f.showSinglePoint?function(t,e,n){var i=t._coord.convertPoint(e.points[0][1]);return n.addShape("circle",{attrs:c.mix({x:i.x,y:i.y,r:2,fill:e.color},e.style)})}(this,e,n):r.drawShape(e,n))&&(i.set("origin",e.origin),i.animateType=i.animateType?i.animateType:e.geomType,i.id=e.id,e.splitedIndex&&(i.id+="splI"+e.splitedIndex)),i}});l.registShape("area","area",{getShapePoints:function(t){var e=[],n=t.x,i=t.y,r=t.y0;return i=c.isArray(i)?i:[r,i],c.each(i,function(t){e.push({x:n,y:t})}),e},drawShape:function(t,e){var n=a(t),i=s(t,!1);return i=this.parsePath(i,!1),e.addShape("path",{attrs:c.mix(n,{path:i})})},getMarkerCfg:function(t){return i(t,!1,!1)}}),l.registShape("area","smooth",{drawShape:function(t,e){var n=a(t),i=s(t,!0);return i=this.parsePath(i,!1),e.addShape("path",{attrs:c.mix(n,{path:i})})},getMarkerCfg:function(t){return i(t,!0,!1)}}),l.registShape("area","line",{drawShape:function(t,e){var n=r(t),i=s(t,!1);return i=this.parsePath(i,!1),e.addShape("path",{attrs:c.mix(n,{path:i})})},getMarkerCfg:function(t){return i(t,!1,!0)}}),l.registShape("area","dotLine",{drawShape:function(t,e){var n=r(t),i=s(t,!1);return n.lineDash=g,i=this.parsePath(i),e.addShape("path",{attrs:c.mix(n,{path:i})})},getMarkerCfg:function(t){var e=i(t,!1,!0);return e.lineDash=g,e}}),l.registShape("area","smoothLine",{drawShape:function(t,e){var n=r(t),i=s(t,!0);return i=this.parsePath(i,!1),e.addShape("path",{attrs:c.mix(n,{path:i})})},getMarkerCfg:function(t){return i(t,!0,!0)}}),l.registShape("area","dotSmoothLine",{drawShape:function(t,e){var n=r(t),i=s(t,!0);return n.lineDash=g,i=this.parsePath(i,!1),e.addShape("path",{attrs:c.mix(n,{path:i})})},getMarkerCfg:function(t){var e=i(t,!0,!0);return e.lineDash=g,e}}),p.spline=p.smooth,t.exports=p},function(t,e,n){"use strict";function l(t){var e=a.shape.line,n=g.mix(!0,{},e,{stroke:t.color,lineWidth:t.size,strokeOpacity:t.opacity,opacity:t.opacity},t.style);return n}function h(t,e){var n=[];n.push({x:t.x,y:.5*t.y+1*e.y/2}),n.push({y:.5*t.y+1*e.y/2,x:e.x}),n.push(e);var i=["C"];return g.each(n,function(t){i.push(t.x,t.y)}),i}function f(t,e){var n=[];n.push({x:e.x,y:e.y}),n.push(t);var i=["Q"];return g.each(n,function(t){i.push(t.x,t.y)}),i}var g=n(2),i=n(14),r=n(53),a=n(5),s=n(18),o=i.registGeom("edge",{defaultShapeType:"line",getShapePoints:function(t,e){return r.splitPoints(e)},getActiveCfg:function(){return{strokeOpacity:.7}}});i.registShape("edge","line",{drawShape:function(t,e){var n=this.parsePoints(t.points),i=l(t),r=s.getLinePath(n),a=e.addShape("path",{attrs:g.mix(i,{path:r})});return a}}),i.registShape("edge","vhv",{drawShape:function(t,e){var n=t.points,i=l(t),r=function(t,e){var n=[];n.push({y:t.y*(1-1/3)+e.y*(1/3),x:t.x}),n.push({y:t.y*(1-1/3)+e.y*(1/3),x:e.x}),n.push(e);var i=[["M",t.x,t.y]];return g.each(n,function(t){i.push(["L",t.x,t.y])}),i}(n[0],n[1]);r=this.parsePath(r);var a=e.addShape("path",{attrs:g.mix(i,{path:r})});return a}}),i.registShape("edge","smooth",{drawShape:function(t,e){var n=t.points,i=l(t),r=function(t,e){var n=h(t,e),i=[["M",t.x,t.y]];return i.push(n),i}(n[0],n[1]);r=this.parsePath(r);var a=e.addShape("path",{attrs:g.mix(i,{path:r})});return a}}),i.registShape("edge","arc",{drawShape:function(t,e){var n,i,r=t.points,a=2<r.length?"weight":"normal",s=l(t);if(t.isInCircle){var o={x:0,y:1};i="normal"==a?function(t,e,n){var i=f(e,n),r=[["M",t.x,t.y]];return r.push(i),r}(r[0],r[1],o):(s.fill=s.stroke,function(t,e){var n=f(t[1],e),i=f(t[3],e),r=[["M",t[0].x,t[0].y]];return r.push(i),r.push(["L",t[3].x,t[3].y]),r.push(["L",t[2].x,t[2].y]),r.push(n),r.push(["L",t[1].x,t[1].y]),r.push(["L",t[0].x,t[0].y]),r.push(["Z"]),r}(r,o)),i=this.parsePath(i),n=e.addShape("path",{attrs:g.mix(s,{path:i})})}else if("normal"==a)r=this.parsePoints(r),n=e.addShape("arc",{attrs:g.mix(s,{x:(r[1].x+r[0].x)/2,y:r[0].y,r:Math.abs(r[1].x-r[0].x)/2,startAngle:Math.PI,endAngle:2*Math.PI})});else{i=[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y]];var u=h(r[1],r[3]),c=h(r[2],r[0]);i.push(u),i.push(["L",r[3].x,r[3].y]),i.push(["L",r[2].x,r[2].y]),i.push(c),i.push(["Z"]),i=this.parsePath(i),s.fill=s.stroke,n=e.addShape("path",{attrs:g.mix(s,{path:i})})}return n}}),t.exports=o},function(t,e,n){"use strict";function i(t,e){var n,i,r=t.x,a=t.y,s=t.y0,o=t.size,u=s,c=a;h.isArray(a)&&(c=a[1],u=a[0]),i=h.isArray(r)?(n=r[0],r[1]):(n=r-o/2,r+o/2);var l=[];return l.push({x:n,y:u},{x:n,y:c}),e?l.push({x:i,y:(c+u)/2}):l.push({x:i,y:c},{x:i,y:u}),l}function r(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];if(i){var r=0===n?"M":"L";e.push([r,i.x,i.y])}}var a=t[0];return e.push(["L",a.x,a.y]),e.push(["z"]),e}function a(t){var e=f.shape.interval,n=h.mix(!0,{},e,{fill:t.color,stroke:t.color,fillOpacity:t.opacity},t.style);return n}function s(t){var e=f.shape.hollowInterval,n=h.mix(!0,{},e,{stroke:t.color,strokeOpacity:t.opacity},t.style);return n}function o(t,e){var n=[],i=t.points,r=t.nextPoints;return h.isNull(r)?e?n.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[3].x,i[3].y],["Z"]):n.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["Z"]):n.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),n}function u(t,e){var n,i=e.coord,r=e.point;if(i&&"theta"===i.type){var a=function(t,e){var n,i,r,a,s=e.getRadius(),o=e.get("inner"),u=s*o;return!h.isArray(t.x)&&h.isArray(t.y)&&(t.x=[t.x,t.x]),h.isArray(t.x)?(r={x:t.x[0],y:t.y[0]},a={x:t.x[1],y:t.y[1]},n=l.getPointAngle(e,r),(i=l.getPointAngle(e,a))<=n&&(i+=2*Math.PI)):(a=t,n=e.get("startAngle"),i=l.getPointAngle(e,a)),{r:s,ir:u,startAngle:n,endAngle:i}}(r,i),s=(a.endAngle-a.startAngle)/2+a.startAngle,o=7.5*Math.cos(s),u=7.5*Math.sin(s);n={transform:[["t",o,u]]}}return h.mix({},n)}var h=n(2),c=n(14),l=n(18),f=n(5),g=c.registGeom("interval",{defaultShapeType:"rect",getActiveCfg:function(t){return function(t){return t&&"rect"!==t?f.activeShape.hollowInterval:f.activeShape.interval}(t)},getSelectedCfg:function(t,e){return u(t,e)}});c.registShape("interval","rect",{getShapePoints:function(t){return i(t)},drawShape:function(t,e){var n=a(t),i=r(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:h.mix(n,{path:i})})},getMarkerCfg:function(t){var e=a(t),n=t.isInCircle,i=n?"circle":"square";return h.mix({symbol:i},e)}}),c.registShape("interval","hollowRect",{getShapePoints:function(t){return i(t)},drawShape:function(t,e){var n=s(t),i=r(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:h.mix(n,{path:i})})},getMarkerCfg:function(t){var e=s(t),n=t.isInCircle,i=n?"circle":"square";return h.mix({symbol:i},e)}}),c.registShape("interval","line",{getShapePoints:function(t){return function(t){var n=t.x,e=t.y,i=t.y0,r=[];return h.isArray(e)?h.each(e,function(t,e){r.push({x:h.isArray(n)?n[e]:n,y:t})}):r.push({x:n,y:e},{x:n,y:i}),r}(t)},drawShape:function(t,e){var n=s(t);n.lineWidth=t.size||1;var i=r(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:h.mix(n,{path:i})})},getMarkerCfg:function(t){var e=s(t);return h.mix({symbol:"line"},e)}}),c.registShape("interval","tick",{getShapePoints:function(t){return function(t){var e=t.x,n=h.isArray(t.y)?t.y[1]:t.y,i=h.isArray(t.y)?t.y[0]:t.y0,r=t.size,a=[];return a.push({x:e-r/2,y:n},{x:e+r/2,y:n},{x:e,y:n},{x:e,y:i},{x:e-r/2,y:i},{x:e+r/2,y:i}),a}(t)},drawShape:function(t,e){var n=s(t),i=function(t){var e=[];return e.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y]),e}(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:h.mix(n,{path:i})})},getMarkerCfg:function(t){var e=s(t);return h.mix({symbol:"tick"},e)}}),c.registShape("interval","funnel",{getShapePoints:function(t){return t.size=2*t.size,i(t)},drawShape:function(t,e){var n=a(t),i=o(t,!0);return i=this.parsePath(i),e.addShape("path",{attrs:h.mix(n,{path:i})})},getMarkerCfg:function(t){var e=a(t);return h.mix({symbol:"square"},e)}}),c.registShape("interval","pyramid",{getShapePoints:function(t){return t.size=2*t.size,i(t,!0)},drawShape:function(t,e){var n=a(t),i=o(t,!1);return i=this.parsePath(i),e.addShape("path",{attrs:h.mix(n,{path:i})})},getMarkerCfg:function(t){var e=a(t);return h.mix({symbol:"square"},e)}}),t.exports=g},function(t,e,n){"use strict";function r(t){var e=p.shape.line,n=l.mix(!0,{},e,{stroke:t.color,lineWidth:t.size,strokeOpacity:t.opacity,opacity:t.opacity},t.style);return n}function a(t,e){var n="",i=t.points,r=t.isInCircle;return n+=e?h.getSplinePath(i,!1):h.getLinePath(i,!1),r&&(n+="z"),l.path2Absolute(n)}function s(t,e){var n=function(i,r){var a=[];return l.each(i,function(t,e){var n=i[e+1];a.push(t),n&&(a=a.concat(r(t,n)))}),a}(t.points,e);return function(t){var i="";return l.each(t,function(t,e){var n=0===e?"M {x} {y}":"L {x} {y}";i+=l.substitute(n,t)}),i}(n)}function i(t,e,n){return[["M",t-n,e],["L",t+n,e]]}function o(t,e,n){return l.path2Absolute([["M",t-n,e],["R",t-n/2,e-n/2,t,e,t+n/2,e+n/2,t+n,e]])}function u(t,e){return l.mix({symbol:e?o:i},r(t))}function c(t,e){return l.mix({symbol:e},r(t))}var l=n(2),h=n(18),f=n(53),g=n(14),p=n(5),d=[2,1],v=[10,5],m=g.registGeom("line",{defaultShapeType:"line",getMarkerCfg:function(t,e){var n=m[t]||m.line;return n.getMarkerCfg(e)},getActiveCfg:function(){return p.activeShape.line},drawShape:function(t,e,n){var i,r=this.getShape(t);return(i=1===e.points.length&&p.showSinglePoint?function(t,e,n){var i=t._coord.convertPoint(e.points[0]);return n.addShape("circle",{attrs:l.mix({x:i.x,y:i.y,r:2,fill:e.color},e.style)})}(this,e,n):r.drawShape(e,n))&&(i.set("origin",e.origin),i.animateType=i.animateType?i.animateType:e.geomType,i.id=e.id,e.splitedIndex&&(i.id+="splI"+e.splitedIndex)),i}});g.registShape("line","line",{getShapePoints:function(t){return f.splitPoints(t)},drawShape:function(t,e){var n=r(t),i=a(t,!1);return i=this.parsePath(i,!1),e.addShape("path",{attrs:l.mix(n,{path:i})})},getMarkerCfg:function(t){return u(t)}}),g.registShape("line","dot",{drawShape:function(t,e){var n=r(t),i=a(t,!1);return i=this.parsePath(i,!1),e.addShape("path",{attrs:l.mix(n,{path:i,lineDash:d})})},getMarkerCfg:function(t){var e=u(t,!1);return e.lineDash=d,e}}),g.registShape("line","fill",{drawShape:function(t,e){var n=r(t),i=a(t,!1);return(i=this.parsePath(i,!1)).push(["z"]),e.addShape("path",{attrs:l.mix(n,{path:i,fill:n.stroke})})},getMarkerCfg:function(t){var e=u(t,!1);return e.fill=e.stroke,e}}),g.registShape("line","dash",{drawShape:function(t,e){var n=r(t),i=a(t,!1);return i=this.parsePath(i,!1),e.addShape("path",{attrs:l.mix(n,{path:i,lineDash:v})})},getMarkerCfg:function(t){var e=u(t,!1);return e.lineDash=v,e}}),g.registShape("line","smooth",{drawShape:function(t,e){var n=r(t),i=a(t,!0);return i=this.parsePath(i,!1),e.addShape("path",{attrs:l.mix(n,{path:i})})},getMarkerCfg:function(t){return u(t,!0)}}),g.registShape("line","dotSmooth",{drawShape:function(t,e){var n=r(t),i=a(t,!0);return i=this.parsePath(i,!1),e.addShape("path",{attrs:l.mix(n,{path:i,lineDash:d})})},getMarkerCfg:function(t){var e=u(t,!0);return e.lineDash=d,e}}),g.registShape("line","hv",{drawShape:function(t,e){var n=r(t),i=s(t,function(t,e){var n=[];return n.push({x:e.x,y:t.y}),n});return i=this.parsePath(i,!1),e.addShape("path",{attrs:l.mix(n,{path:i})})},getMarkerCfg:function(t){return c(t,function(t,e,n){return[["M",t-n,e-n],["L",t,e-n],["L",t,e],["L",t+n,e]]})}}),g.registShape("line","vh",{drawShape:function(t,e){var n=r(t),i=s(t,function(t,e){var n=[];return n.push({x:t.x,y:e.y}),n});return i=this.parsePath(i,!1),e.addShape("path",{attrs:l.mix(n,{path:i})})},getMarkerCfg:function(t){return c(t,function(t,e,n){return[["M",t-n,e],["L",t,e],["L",t,e-n],["L",t+n,e-n]]})}}),g.registShape("line","hvh",{drawShape:function(t,e){var n=r(t),i=s(t,function(t,e){var n=[],i=(e.x-t.x)/2+t.x;return n.push({x:i,y:t.y}),n.push({x:i,y:e.y}),n});return i=this.parsePath(i,!1),e.addShape("path",{attrs:l.mix(n,{path:i})})},getMarkerCfg:function(t){return c(t,function(t,e,n){return[["M",t-3*n/2,e],["L",t-n/2,e],["L",t-n/2,e-n/2],["L",t+n/2,e-n/2],["L",t+n/2,e],["L",t+3*n/2,e]]})}}),g.registShape("line","vhv",{drawShape:function(t,e){var n=r(t),i=s(t,function(t,e){var n=[],i=(e.y-t.y)/2+t.y;return n.push({x:t.x,y:i}),n.push({x:e.x,y:i}),n});return i=this.parsePath(i,!1),e.addShape("path",{attrs:l.mix(n,{path:i})})},getMarkerCfg:function(t){return c(t,function(t,e,n){return[["M",t-n,e],["L",t-n,e-n/2],["L",t,e-n/2],["L",t,e-n],["L",t,e+n/2],["L",t+n,e+n/2]]})}}),m.spline=m.smooth,t.exports=m},function(t,e,n){"use strict";function a(t){var e=u.shape.point,n=s.mix(!0,{},e,{fill:t.color,fillOpacity:t.opacity,radius:t.size},t.style);return n}function r(t){var e=u.shape.hollowPoint,n=s.mix(!0,{},e,{stroke:t.color,strokeOpacity:t.opacity,radius:t.size},t.style);return n}var s=n(2),i=n(53),o=n(6),u=n(5),c=n(14),l=["cross","tick","plus","hyphen","line","pointerLine","pointerArrow"],h=Math.sqrt(3);s.mix(o.Shape.Marker.Symbols,{hexagon:function(t,e,n,i){var r=n/2*h;i.moveTo(t,e-n),i.lineTo(t+r,e-n/2),i.lineTo(t+r,e+n/2),i.lineTo(t,e+n),i.lineTo(t-r,e+n/2),i.lineTo(t-r,e-n/2),i.closePath()},bowtie:function(t,e,n,i){i.moveTo(t-n,e-n),i.lineTo(t+n,e+n),i.lineTo(t+n,e-n),i.lineTo(t-n,e+n),i.closePath()},cross:function(t,e,n,i){i.moveTo(t-n,e-n),i.lineTo(t+n,e+n),i.moveTo(t+n,e-n),i.lineTo(t-n,e+n)},tick:function(t,e,n,i){i.moveTo(t-n/2,e-n),i.lineTo(t+n/2,e-n),i.moveTo(t,e-n),i.lineTo(t,e+n),i.moveTo(t-n/2,e+n),i.lineTo(t+n/2,e+n)},plus:function(t,e,n,i){i.moveTo(t-n,e),i.lineTo(t+n,e),i.moveTo(t,e-n),i.lineTo(t,e+n)},hyphen:function(t,e,n,i){i.moveTo(t-n,e),i.lineTo(t+n,e)},line:function(t,e,n,i){i.moveTo(t,e-n),i.lineTo(t,e+n)}});var f=c.registGeom("point",{defaultShapeType:"hollowCircle",getActiveCfg:function(t,e){var n=function(t){return!t||0!==t.indexOf("hollow")&&-1===s.indexOf(l,t)?u.activeShape.point:u.activeShape.hollowPoint}(t);return e&&e.size&&delete n.radius,n},getShapePoints:function(t,e){return i.splitPoints(e)}});c.registShape("point","rect",{drawShape:function(t,e){var n=a(t),i=function(t){var e=t.points[0].x,n=t.points[0].y,i=t.size[0],r=t.size[1];return[["M",e-.5*i,n-.5*r],["L",e+.5*i,n-.5*r],["L",e+.5*i,n+.5*r],["L",e-.5*i,n+.5*r],["z"]]}(t);i=this.parsePath(i);var r=e.addShape("path",{attrs:s.mix(n,{path:i})});return r},getMarkerCfg:function(t){var e=a(t);return e.symbol="rect",e}}),s.each(["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],function(i){c.registShape("point",i,{drawShape:function(t,e){t.points=this.parsePoints(t.points);var n=a(t);return e.addShape("Marker",{attrs:s.mix(n,{symbol:i,x:t.x,y:t.y})})},getMarkerCfg:function(t){var e=a(t);return e.symbol=i,e}}),c.registShape("point","hollow"+s.ucfirst(i),{drawShape:function(t,e){t.points=this.parsePoints(t.points);var n=r(t);return e.addShape("Marker",{attrs:s.mix(n,{symbol:i,x:t.x,y:t.y})})},getMarkerCfg:function(t){var e=r(t);return e.symbol=i,e}})}),s.each(l,function(i){c.registShape("point",i,{drawShape:function(t,e){t.points=this.parsePoints(t.points);var n=r(t);return e.addShape("Marker",{attrs:s.mix(n,{symbol:i,x:t.x,y:t.y})})},getMarkerCfg:function(t){var e=r(t);return e.symbol=i,e}})}),t.exports=f},function(t,e,n){"use strict";function i(){return o.activeShape.polygon}function r(t){var e=o.shape.polygon,n=c.mix(!0,{},e,{stroke:t.color,fill:t.color,fillOpacity:t.opacity},t.style);return n}function a(r){var a="",s=[r[0].x,r[0].y],o=0,u=r[0];return c.each(r,function(t,e){var n=0===e?"M {x} {y} ":"L {x} {y} ";if(a+=c.substitute(n,t),o!==e&&e<r.length-1&&c.equalsArray(s,[t.x,t.y])){var i=r[e+1];a+="z"+c.substitute("M {x} {y}",i),o=e+1,s=[(u=i).x,i.y]}}),a+=c.substitute("L {x} {y}",u),a+="z",c.path2Absolute(a)}var c=n(2),s=n(14),o=n(5),u=s.registGeom("polygon",{defaultShapeType:"polygon",getMarkerCfg:function(){return{symbol:"rect"}},getActiveCfg:function(t){return i()},getSelectedCfg:function(t,e){return e&&e.style?e.style:i()}});s.registShape("polygon","polygon",{getShapePoints:function(i){var r=[];return c.each(i.x,function(t,e){var n=i.y[e];r.push({x:t,y:n})}),r},drawShape:function(t,e){var n=r(t),i=a(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:c.mix(n,{path:i})})}}),s.registShape("polygon","hollow",{drawShape:function(t,e){var n=r(t),i=a(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:c.mix(n,{path:i})})}}),t.exports=u},function(t,e,n){"use strict";function a(t){l.isArray(t)||(t=[t]);var e=t[0],n=t[t.length-1],i=1<t.length?t[1]:e,r=3<t.length?t[3]:n,a=2<t.length?t[2]:i;return{min:e,max:n,min1:i,max1:r,median:a}}function r(t){var e=f.shape.line,n=l.mix(!0,{},e,{stroke:t.color,fill:"#fff",fillOpacity:0,strokeOpacity:t.opacity});return n}function s(t,e,n){var i,r=[];return function(t,e){l.each(t,function(t){e.push({x:t[0],y:t[1]})})}(l.isArray(e)?(i=a(e),[[t-n/2,i.max],[t+n/2,i.max],[t,i.max],[t,i.max1],[t-n/2,i.min1],[t-n/2,i.max1],[t+n/2,i.max1],[t+n/2,i.min1],[t,i.min1],[t,i.min],[t-n/2,i.min],[t+n/2,i.min],[t-n/2,i.median],[t+n/2,i.median]]):(e=e||.5,[[(i=a(t)).min,e-n/2],[i.min,e+n/2],[i.min,e],[i.min1,e],[i.min1,e-n/2],[i.min1,e+n/2],[i.max1,e+n/2],[i.max1,e-n/2],[i.max1,e],[i.max,e],[i.max,e-n/2],[i.max,e+n/2],[i.median,e-n/2],[i.median,e+n/2]]),r),r}function o(t,e,n){var i=function(t){l.isArray(t)||(t=[t]);var e=t.sort(function(t,e){return t<e?1:-1}),n=e.length;if(n<4)for(var i=e[n-1],r=0;r<4-n;r++)e.push(i);return e}(e),r=[{x:t,y:i[0]},{x:t,y:i[1]},{x:t-n/2,y:i[2]},{x:t-n/2,y:i[1]},{x:t+n/2,y:i[1]},{x:t+n/2,y:i[2]},{x:t,y:i[2]},{x:t,y:i[3]}];return r}function u(t){var e=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y],["L",t[6].x,t[6].y],["L",t[7].x,t[7].y],["L",t[4].x,t[4].y],["Z"],["M",t[8].x,t[8].y],["L",t[9].x,t[9].y],["M",t[10].x,t[10].y],["L",t[11].x,t[11].y],["M",t[12].x,t[12].y],["L",t[13].x,t[13].y]];return e}function c(t){var e=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["L",t[4].x,t[4].y],["L",t[5].x,t[5].y],["Z"],["M",t[6].x,t[6].y],["L",t[7].x,t[7].y]];return e}function i(t,e){return l.mix({symbol:e},r(t))}var l=n(2),h=n(14),f=n(5),g=h.registGeom("schema",{defaultShapeType:"",getActiveCfg:function(){return f.activeShape.line}});h.registShape("schema","box",{getShapePoints:function(t){return s(t.x,t.y,t.size)},drawShape:function(t,e){var n=r(t),i=u(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:l.mix(n,{path:i})})},getMarkerCfg:function(t){return i(t,function(t,e,n){var i=[e-n,e-n/2,e,e+n/2,e+n],r=s(t,i,2*n);return u(r)})}}),h.registShape("schema","candle",{getShapePoints:function(t){return o(t.x,t.y,t.size)},drawShape:function(t,e){var n=r(t),i=c(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:l.mix(n,{path:i,fill:t.color,fillOpacity:t.opacity,lineWidth:1})})},getMarkerCfg:function(t){var e=i(t,function(t,e,n){var i=o(t,e=[e+1.5*n,e+n/2,e-n/2,e-1.5*n],n);return c(i)});return e.fill=t.color,e.fillOpacity=t.opacity,e}}),t.exports=g},function(t,e,n){"use strict";var i=n(2),r=n(41),a="#62a4e8",s=i.mix(!0,{},r,{defaultColor:a,colors:{default:["#61A5E8","#7ECF51","#EECB5F","#E4925D","#E16757","#9570E5","#605FF0"],intervalStack:["#61A5E8","#7ECF51","#EECB5F","#E4925D","#E16757","#9570E5","#605FF0","#605ff0","#85ca36","#1c9925","#0d8b5f","#0f9cd3","#2f7e9b","#2f677d","#9b7fed","#7453d6","#3b1d98","#27abb1","#017377","#015f63","#b86868","#5669b7","#e5aab4","#60b65f","#98d2b2","#c9c8bc","#45c3dc","#e17979","#5baa5a","#eaccc2","#ffaa74"]},shape:{point:{fill:a},hollowPoint:{stroke:a},interval:{fill:a},hollowInterval:{stroke:a},area:{fill:a},polygon:{fill:a},hollowPolygon:{stroke:a},hollowArea:{stroke:a},line:{stroke:a}},guide:{line:{stroke:a},rect:{fill:a},tag:{line:{stroke:a},rect:{fill:a}}},tooltipMarker:{stroke:a}});t.exports=s},function(t,e,n){"use strict";var i=n(2),r=n(41),a=i.mix(!0,{},r,{plotCfg:{margin:[20,80,60,80],border:{fill:"#18242E"}},axis:{top:{labels:{label:{fill:"#D5D4D4"}},tickLine:{stroke:"#46525F"}},bottom:{labels:{label:{fill:"#999"}},line:{stroke:"#46525F"},tickLine:{stroke:"#46525F"}},left:{labels:{label:{fill:"#999"}},line:{stroke:"#46525F"},tickLine:{stroke:"#46525F"},grid:{line:{stroke:"#46525F"}}},right:{labels:{label:{fill:"#999"}},line:{stroke:"#46525F"},tickLine:{stroke:"#46525F"}},circle:{line:{stroke:"#46525F"},grid:{line:{stroke:"#46525F"}},labels:{label:{fill:"#999"}}},gauge:{tickLine:{stroke:"#46525F"},labels:{label:{fill:"#999"}}},clock:{tickLine:{stroke:"#46525F"},subTick:5,labels:{label:{fill:"#999"}}},radius:{labels:{label:{fill:"#999"}},line:{stroke:"#46525F"},grid:{line:{stroke:"#46525F"}}}},legend:{right:{word:{fill:"#999"},title:{fill:"#999"}},left:{word:{fill:"#999"},title:{fill:"#999"}},top:{word:{fill:"#999"}},bottom:{word:{fill:"#999"}}},guide:{text:{fill:"#999"},tag:{text:{fill:"#999"}}}});t.exports=a},function(t,e,n){"use strict";var i={default:n(41),dark:n(333),cheery:n(332)};t.exports=i},function(t,e,n){"use strict";var i=n(59);setTimeout(function(){if(i.tracking){var t=new i;t.log({g2:!0,version:"2.3.3",page_type:"syslog"})}},3e3)},,function(t,e,n,i){var r=n(i);t.exports=r},,function(t,e,n,i,r){var a=n(i);a.Util=n(r),t.exports=a}]))},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var i,r=n(27),a=(i=r)&&i.__esModule?i:{default:i};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,a.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";e.__esModule=!0;var i=s(n(99)),r=s(n(103)),a=s(n(27));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,a.default)(e)));t.prototype=(0,r.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(i.default?(0,i.default)(t,e):t.__proto__=e)}},function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=_MODULE_LIBS_.React.PropTypes},function(t,e,n){var i=n(41)("wks"),r=n(29),a=n(8).Symbol,s="function"==typeof a;(t.exports=function(t){return i[t]||(i[t]=s&&a[t]||(s?a:r)("Symbol."+t))}).store=i},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";t.exports=function(t,e,n,i,r,a,s,o){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,a,s,o],l=0;(u=new Error(e.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(27),a=(i=r)&&i.__esModule?i:{default:i},s=n(1);function o(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}e.default=s.Util.mix({},s.Util,{shallowEqual:function(t,n){if(o(t,n))return!0;if("object"!==(void 0===t?"undefined":(0,a.default)(t))||null===t||"object"!==(void 0===n?"undefined":(0,a.default)(n))||null===n)return!1;if(s.Util.isArray(t)!==s.Util.isArray(n))return!1;if(s.Util.length(t)!==s.Util.length(n))return!1;var i=!0;return s.Util.each(t,function(t,e){return!!o(t,n[e])||(i=!1)}),i},without:function(t,e){var n=1<arguments.length&&void 0!==e?e:[],i={};return s.Util.each(t,function(t,e){-1===s.Util.indexOf(n,e)&&(i[e]=t)}),i}}),t.exports=e.default},function(t,e,n){var d=n(8),v=n(5),m=n(36),x=n(15),y=n(14),_="prototype",b=function(t,e,n){var i,r,a,s=t&b.F,o=t&b.G,u=t&b.S,c=t&b.P,l=t&b.B,h=t&b.W,f=o?v:v[e]||(v[e]={}),g=f[_],p=o?d:u?d[e]:(d[e]||{})[_];for(i in o&&(n=e),n)(r=!s&&p&&void 0!==p[i])&&y(f,i)||(a=r?p[i]:n[i],f[i]=o&&"function"!=typeof p[i]?n[i]:l&&r?m(a,d):h&&p[i]==a?function(i){function t(t,e,n){if(this instanceof i){switch(arguments.length){case 0:return new i;case 1:return new i(t);case 2:return new i(t,e)}return new i(t,e,n)}return i.apply(this,arguments)}return t[_]=i[_],t}(a):c&&"function"==typeof a?m(Function.call,a):a,c&&((f.virtual||(f.virtual={}))[i]=a,t&b.R&&g&&!g[i]&&x(g,i,a)))};b.F=1,b.G=2,b.S=4,b.P=8,b.B=16,b.W=32,b.U=64,b.R=128,t.exports=b},function(t,e,n){var i=n(16),r=n(50),a=n(37),s=Object.defineProperty;e.f=n(13)?Object.defineProperty:function(t,e,n){if(i(t),e=a(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(18)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(12),r=n(21);t.exports=n(13)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(17);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(54),r=n(35);t.exports=function(t){return i(r(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Prop=e.Util=void 0;var i=a(n(10)),r=a(n(125));function a(t){return t&&t.__esModule?t:{default:t}}e.Util=i.default,e.Prop=r.default},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports={}},function(t,e,n){var i=n(53),r=n(42);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(35);t.exports=function(t){return Object(i(t))}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n={};for(var i in t)0<=e.indexOf(i)||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}},function(t,e,n){"use strict";e.__esModule=!0;var i,r=n(116),a=(i=r)&&i.__esModule?i:{default:i};e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,a.default)(t)}},function(t,e,n){"use strict";e.__esModule=!0;var i=s(n(71)),r=s(n(85)),a="function"==typeof r.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":typeof t};function s(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof r.default&&"symbol"===a(i.default)?function(t){return void 0===t?"undefined":a(t)}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":void 0===t?"undefined":a(t)}},function(t,e){t.exports=!0},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";e.__esModule=!0;var i,r=n(107),a=(i=r)&&i.__esModule?i:{default:i};e.default=a.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}},function(t,e,n){"use strict";t.exports=function(){}},function(t,e){t.exports=_MODULE_LIBS_.ReactDOM},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?i:n)(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var a=n(74);t.exports=function(i,r,t){if(a(i),void 0===r)return i;switch(t){case 1:return function(t){return i.call(r,t)};case 2:return function(t,e){return i.call(r,t,e)};case 3:return function(t,e,n){return i.call(r,t,e,n)}}return function(){return i.apply(r,arguments)}}},function(t,e,n){var r=n(17);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){function r(){}var a=i(16),s=i(76),o=i(42),u=i(40)("IE_PROTO"),c="prototype",l=function(){var t,e=i(51)("iframe"),n=o.length;for(e.style.display="none",i(79).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l[c][o[n]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(r[c]=a(t),n=new r,r[c]=null,n[u]=t):n=l(),void 0===e?n:s(n,e)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(41)("keys"),r=n(29);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(5),r=n(8),a="__core-js_shared__",s=r[a]||(r[a]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(28)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(12).f,r=n(14),a=n(7)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,a)&&i(t,a,{configurable:!0,value:e})}},function(t,e,n){e.f=n(7)},function(t,e,n){var i=n(8),r=n(5),a=n(28),s=n(44),o=n(12).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=a?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||o(e,t,{value:s.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){t.exports=_MODULE_LIBS_.shopBase},function(t,e,n){"use strict";var i=n(73)(!0);n(49)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";function y(){return this}var _=n(28),b=n(11),w=n(52),S=n(15),M=n(22),T=n(75),A=n(43),C=n(80),k=n(7)("iterator"),P=!([].keys&&"next"in[].keys()),I="values";t.exports=function(t,e,n,i,r,a,s){T(n,e,i);function o(t){if(!P&&t in p)return p[t];switch(t){case"keys":case I:return function(){return new n(this,t)}}return function(){return new n(this,t)}}var u,c,l,h=e+" Iterator",f=r==I,g=!1,p=t.prototype,d=p[k]||p["@@iterator"]||r&&p[r],v=d||o(r),m=r?f?o("entries"):v:void 0,x="Array"==e&&p.entries||d;if(x&&(l=C(x.call(new t)))!==Object.prototype&&l.next&&(A(l,h,!0),_||"function"==typeof l[k]||S(l,k,y)),f&&d&&d.name!==I&&(g=!0,v=function(){return d.call(this)}),_&&!s||!P&&!g&&p[k]||S(p,k,v),M[e]=v,M[h]=y,r)if(u={values:f?v:o(I),keys:a?v:o("keys"),entries:m},s)for(c in u)c in p||w(p,c,u[c]);else b(b.P+b.F*(P||g),e,u);return u}},function(t,e,n){t.exports=!n(13)&&!n(18)(function(){return 7!=Object.defineProperty(n(51)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(17),r=n(8).document,a=i(r)&&i(r.createElement);t.exports=function(t){return a?r.createElement(t):{}}},function(t,e,n){t.exports=n(15)},function(t,e,n){var s=n(14),o=n(19),u=n(77)(!1),c=n(40)("IE_PROTO");t.exports=function(t,e){var n,i=o(t),r=0,a=[];for(n in i)n!=c&&s(i,n)&&a.push(n);for(;e.length>r;)s(i,n=e[r++])&&(~u(a,n)||a.push(n));return a}},function(t,e,n){var i=n(39);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var i=n(34),r=Math.min;t.exports=function(t){return 0<t?r(i(t),9007199254740991):0}},function(t,e,n){var i=n(53),r=n(42).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(30),r=n(21),a=n(19),s=n(37),o=n(14),u=n(50),c=Object.getOwnPropertyDescriptor;e.f=n(13)?c:function(t,e){if(t=a(t),e=s(e,!0),u)try{return c(t,e)}catch(t){}if(o(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r,a=w(n(2)),s=w(n(3)),o=w(n(4)),u=w(n(1)),c=w(n(32)),l=w(n(9)),h=w(n(6)),f=n(0),g=w(f),p=w(n(10)),d=w(n(59)),v=w(n(60)),m=w(n(61)),x=w(n(62)),y=w(n(63)),_=w(n(64)),b=w(n(65));function w(t){return t&&t.__esModule?t:{default:t}}var S,M=[d.default,v.default,m.default,x.default,y.default,_.default,b.default],T=(S=f.Component,(0,o.default)(A,S),A.prototype.getChildContext=function(){return{chart:this.props.chart}},A.prototype.render=function(){var t=this.props.chart,r=[];f.Children.forEach(this.props.children,function(n,i){n&&(t instanceof u.default.Chart||((0,l.default)(n.type!==M[5],"`<View />` cannot be nested in another `<View />`"),(0,l.default)(n.type!==M[2],"`<Legend />` cannot be wrapped in `<View />`")),p.default.each(M,function(t,e){return n.type!==t||(r[e]||(r[e]=[]),r[e].push(g.default.cloneElement(n,{key:i})),!1)}))});var e="Only one `%s` is allowed in `<Chart />`";return(0,c.default)(!r[0]||1===r[0].length,e,"<Coord/>"),(0,c.default)(!r[3]||1===r[3].length,e,"<Tooltip />"),r=(r=p.default.filter(r,function(t){return!!t})).length?g.default.createElement("div",null,r):null},r=i=A,i.propTypes={chart:h.default.oneOfType([h.default.object,h.default.instanceOf(u.default.Chart)])},i.childContextTypes={chart:h.default.oneOfType([h.default.object,h.default.instanceOf(u.default.Chart)])},r);function A(){return(0,a.default)(this,A),(0,s.default)(this,S.apply(this,arguments))}T.displayName="Context",e.default=T,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r,a=d(n(26)),s=d(n(25)),o=d(n(2)),u=d(n(3)),c=d(n(4)),l=d(n(1)),h=d(n(9)),f=d(n(6)),g=n(0),p=n(20);function d(t){return t&&t.__esModule?t:{default:t}}var v,m=["rotate","scale","reflect","transpose"],x=(v=g.Component,(0,c.default)(y,v),y.prototype.componentWillMount=function(){var n=this.coord,t=this.props;p.Prop.init(m,t,function(t,e){n[e].apply(n,(0,a.default)(t))})},y.prototype.componentWillReceiveProps=function(t){if(t.type===this.props.type){var e=this.props,n=p.Util.without(e,m),i=p.Util.without(t,m);p.Util.shallowEqual(n,i)||(this.coord=this.context.chart.coord(t.type,i));var r=this.coord;p.Prop.update(m,e,t,function(t,e){r[e].apply(r,(0,a.default)(t))})}else this.context.batchedUpdates()},y.prototype.shouldComponentUpdate=function(){return!1},y.prototype.componentWillUnmount=function(){var t=this.context;this.coord=null,t.chart.coord("rect",{}),t.batchedUpdates()},y.prototype.render=function(){return null},r=i=y,i.propTypes={type:f.default.string},i.defaultProps={type:"rect"},i.contextTypes={batchedUpdates:f.default.func,chart:f.default.oneOfType([f.default.object,f.default.instanceOf(l.default.Chart)])},r);function y(t,e){(0,o.default)(this,y);var n=(0,u.default)(this,v.call(this,t));(0,h.default)(e.chart,"`<Coord />` must be wrapped in `<Chart />`");var i=n.props,r=i.type,a=(0,s.default)(i,["type"]);return n.coord=e.chart.coord(r,p.Util.without(a,m)),n}x.displayName="Coord",e.default=x,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r,c=d(n(25)),a=d(n(2)),s=d(n(3)),o=d(n(4)),u=d(n(1)),l=d(n(32)),h=d(n(9)),f=d(n(6)),g=n(0),p=n(20);function d(t){return t&&t.__esModule?t:{default:t}}var v,m=(v=g.Component,(0,o.default)(x,v),x.prototype.componentWillMount=function(){var t=this.context.chart,e=this.props,n=e.name,i=e.visible,r=(0,c.default)(e,["name","visible"]);(0,h.default)(t,"`<Axis />` must be wrapped in `<Chart />`"),i?t.axis(n,r):t.axis(n,!1)},x.prototype.componentWillReceiveProps=function(t){var e=this.context.chart,n=this.props,i=n.name,r=n.visible,a=(0,c.default)(n,["name","visible"]),s=t.name,o=t.visible,u=(0,c.default)(t,["name","visible"]);(0,l.default)(i===s,"`name` propertry should not be changed in `<Axis />`"),r===o||o?p.Util.shallowEqual(a,u)||e.axis(i,u):e.axis(i,!1)},x.prototype.shouldComponentUpdate=function(){return!1},x.prototype.componentWillUnmount=function(){var t=this.context,e=this.props;t.chart.axis(e.name,!1)},x.prototype.render=function(){return null},r=i=x,i.propTypes={name:f.default.string.isRequired,visible:f.default.bool},i.defaultProps={visible:!0},i.contextTypes={chart:f.default.oneOfType([f.default.object,f.default.instanceOf(u.default.Chart)])},r);function x(){return(0,a.default)(this,x),(0,s.default)(this,v.apply(this,arguments))}m.displayName="Axis",e.default=m,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r,s=d(n(25)),o=d(n(26)),a=d(n(2)),u=d(n(3)),c=d(n(4)),l=d(n(1)),h=d(n(6)),f=n(0),g=d(n(9)),p=d(n(10));function d(t){return t&&t.__esModule?t:{default:t}}var v,m=(v=f.Component,(0,c.default)(x,v),x.prototype.componentWillMount=function(){(0,g.default)(this.context.chart,"`<Legend />` must be wrapped in `<Chart />`"),this.legend(this.props)},x.prototype.componentWillReceiveProps=function(t){p.default.shallowEqual(this.props,t)||this.legend(t)},x.prototype.shouldComponentUpdate=function(){return!1},x.prototype.componentWillUnmount=function(){var t,e=this.context,n=this.props.name;(t=e.chart).legend.apply(t,(0,o.default)(n?[n,!1]:[!1]))},x.prototype.legend=function(t){var e,n=t.name,i=t.visible,r=(0,s.default)(t,["name","visible"]),a=i?r:i;(e=this.context.chart).legend.apply(e,(0,o.default)(n?[n,a]:[a]))},x.prototype.render=function(){return null},r=i=x,i.propTypes={name:h.default.string,visible:h.default.bool},i.defaultProps={visible:!0},i.contextTypes={chart:h.default.oneOfType([h.default.object,h.default.instanceOf(l.default.Chart)])},r);function x(){return(0,a.default)(this,x),(0,u.default)(this,v.apply(this,arguments))}m.displayName="Legend",e.default=m,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r,a=d(n(25)),s=d(n(31)),o=d(n(2)),u=d(n(3)),c=d(n(4)),l=d(n(1)),h=d(n(9)),f=d(n(6)),g=n(0),p=n(20);function d(t){return t&&t.__esModule?t:{default:t}}var v,m=[{prop:"onTooltipChange",event:"tooltipchange"},{prop:"onTooltipShow",event:"tooltipshow"},{prop:"onTooltipHide",event:"tooltiphide"}],x=(v=g.Component,(0,c.default)(y,v),y.prototype.componentWillMount=function(){var t=this.props,e=this.context.chart;(0,h.default)(e,"`<Tooltip />` must be wrapped in `<Chart />`"),e.tooltip((0,s.default)({},t)),p.Prop.bindEvents(e,m,t)},y.prototype.componentWillReceiveProps=function(t){var e=this.props,n=this.context.chart,i=(e.onTooltipChange,e.onTooltipShow,e.onTooltipHide,(0,a.default)(e,["onTooltipChange","onTooltipShow","onTooltipHide"])),r=(t.onTooltipChange,t.onTooltipShow,t.onTooltipHide,(0,a.default)(t,["onTooltipChange","onTooltipShow","onTooltipHide"]));p.Util.shallowEqual(i,r)||n.tooltip((0,s.default)({},t)),p.Prop.updateEvents(n,m,e,t)},y.prototype.shouldComponentUpdate=function(){return!1},y.prototype.componentWillUnmount=function(){var t=this.props,e=this.context.chart;e.tooltip(!1),p.Prop.unbindEvents(e,m,t)},y.prototype.render=function(){return null},r=i=y,i.propTypes={onTooltipChange:f.default.func,onTooltipShow:f.default.func,onTooltipHide:f.default.func},i.contextTypes={chart:f.default.oneOfType([f.default.object,f.default.instanceOf(l.default.Chart)])},r);function y(){return(0,o.default)(this,y),(0,u.default)(this,v.apply(this,arguments))}x.displayName="Tooltip",e.default=x,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r,a=v(n(26)),s=v(n(2)),o=v(n(3)),u=v(n(4)),c=v(n(1)),l=v(n(32)),h=v(n(9)),f=v(n(6)),g=n(0),p=v(g),d=n(20);function v(t){return t&&t.__esModule?t:{default:t}}var m,x={bar:"interval",pie:"interval"},y=["position","color","size","shape","opacity","label","tooltip","style","selected"],_=[{prop:"onItemSelected",event:"itemselected"},{prop:"onItemUnselected",event:"itemunselected"},{prop:"onItemSelectedChange",event:"itemselectedchange"}],b=(m=g.Component,(0,u.default)(w,m),w.prototype.getChildContext=function(){return{geom:this.geom}},w.prototype.componentWillMount=function(){var n=this.geom,t=this.props,e=this.context.chart;(0,h.default)(t.position,"`<Geom />` must have `position` property"),d.Prop.init(y,t,function(t,e){n[e].apply(n,(0,a.default)(t))}),d.Prop.bindEvents(e,_,t)},w.prototype.componentWillReceiveProps=function(t){if(t.type!==this.props.type)return this.noUpdate=!0,void this.context.batchedUpdates();var n=this.geom,e=this.props,i=this.context.chart;d.Prop.update(y,e,t,function(t,e){n[e].apply(n,(0,a.default)(t))}),d.Prop.updateEvents(i,_,e,t)},w.prototype.shouldComponentUpdate=function(){var t=this.noUpdate,e=void 0!==t&&t;return e&&(this.noUpdate=!1),!e},w.prototype.componentWillUnmount=function(){var t=this.props,e=this.context,n=e.chart;this.geom=null,e.batchedUpdates(),d.Prop.unbindEvents(n,_,t)},w.prototype.getG2Instance=function(){return this.geom},w.prototype.createG2Instance=function(t,e){var n=0<arguments.length&&void 0!==t?t:this.props,i=1<arguments.length&&void 0!==e?e:this.context,r=n.adjustType,a=n.type;"pie"===a&&((0,l.default)(!r||"stack"===r,'`<Geom type="pie">` dont need `adjustType` property'),r="stack");var s=i.chart[x[a]||a](r);return this.geom=s},w.prototype.render=function(){var t=this.props.children;return t&&d.Util.isArray(t)&&(t=p.default.createElement("div",null,t)),t||null},r=i=w,i.propTypes={type:f.default.oneOf(["line","bar","pie","area","point","polygon","edge","schema"]),adjustType:f.default.oneOfType([f.default.string,f.default.arrayOf(f.default.string)]),onItemSelected:f.default.func,onItemUnselected:f.default.func,onItemSelectedChange:f.default.func},i.defaultProps={type:"bar",adjustType:""},i.contextTypes={batchedUpdates:f.default.func,chart:f.default.oneOfType([f.default.object,f.default.instanceOf(c.default.Chart)])},i.childContextTypes={geom:f.default.object},r);function w(t,e){(0,s.default)(this,w);var n=(0,o.default)(this,m.call(this,t));return(0,h.default)(e.chart,"`<Geom />` must be wrapped in `<Chart />`"),n.createG2Instance(t,e),n}b.displayName="Geom",e.default=b,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r,a=m(n(31)),s=m(n(2)),o=m(n(3)),u=m(n(4)),c=m(n(1)),l=m(n(9)),h=m(n(6)),f=n(0),g=m(f),p=m(n(33)),d=m(n(10)),v=m(n(58));function m(t){return t&&t.__esModule?t:{default:t}}var x,y=(x=f.Component,(0,u.default)(_,x),_.prototype.getChildContext=function(){return{batchedUpdates:this.batchedUpdates}},_.prototype.componentWillMount=function(){var t=this.context.chart;(0,l.default)(t,"`<View />` must be wrapped in `<Chart />`")},_.prototype.componentDidMount=function(){this.repaint()},_.prototype.componentWillReceiveProps=function(t){var e=this.view,n=this.props,i=n.data,r=n.animate,a=n.cols,s=t.data,o=t.animate,u=t.cols;r!==o&&e.animate(o),i!==s&&e.changeData(s),d.default.shallowEqual(a,u)||e.source(null,u)},_.prototype.componentDidUpdate=function(){this.repaint()},_.prototype.componentWillUnmount=function(){var t=this.context.chart;this.element&&p.default.unmountComponentAtNode(this.element),t.removeView(this.view),this.view=this.element=null},_.prototype.createViewInstance=function(t){var e=this.context.chart,n=t.cols,i=e.createView((0,a.default)({},t));return i.source(null,n),i},_.prototype.repaint=function(t){var e=0<arguments.length&&void 0!==t?t:this.props,n=e.children,i=this.context.chart,r=this.view,a=this.element;a&&p.default.unmountComponentAtNode(a),r&&(r.clear(),i.removeView(r)),r=this.createViewInstance(e),a=document.createElement("div"),n?p.default.unstable_renderSubtreeIntoContainer(this,g.default.createElement(v.default,{chart:r},n),a,function(){r.repaint()}):r.repaint(),this.view=r,this.element=a},_.prototype.render=function(){return null},r=i=_,i.propTypes={data:h.default.oneOfType([h.default.arrayOf(h.default.object),h.default.instanceOf(c.default.Frame),h.default.object]),cols:h.default.object,start:h.default.object,end:h.default.object,index:h.default.number,animate:h.default.bool},i.defaultProps={index:0,cols:{}},i.contextTypes={chart:h.default.instanceOf(c.default.Chart)},i.childContextTypes={batchedUpdates:h.default.func},r);function _(){var t,e,n;(0,s.default)(this,_);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];return(t=e=(0,o.default)(this,x.call.apply(x,[this].concat(r)))).batchedUpdates=function(){},n=t,(0,o.default)(e,n)}y.displayName="View",e.default=y,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r,a=p(n(26)),s=p(n(2)),o=p(n(3)),u=p(n(4)),c=p(n(1)),l=p(n(9)),h=p(n(6)),f=n(0),g=n(20);function p(t){return t&&t.__esModule?t:{default:t}}var d,v=["line","image","text","rect","tag","arc","html"],m=(d=f.Component,(0,u.default)(x,d),x.prototype.componentWillMount=function(){var i=this,t=this.props,e=this.context.chart;(0,l.default)(e,"`<Guide />` must be wrapped in `<Chart />`"),this.guide=e.guide(),g.Prop.init(v,t,function(t,e){var n;(n=i.guide)[e].apply(n,(0,a.default)(t))})},x.prototype.componentWillReceiveProps=function(t){var n=this.guide;g.Prop.init(v,t,function(t,e){n[e].apply(n,(0,a.default)(t))})},x.prototype.componentWillUnmount=function(){this.guide.clear(),this.guide=null},x.prototype.render=function(){return null},r=i=x,i.contextTypes={batchedUpdates:h.default.func,chart:h.default.oneOfType([h.default.object,h.default.instanceOf(c.default.Chart)])},r);function x(){return(0,s.default)(this,x),(0,o.default)(this,d.apply(this,arguments))}m.displayName="Guide",e.default=m,t.exports=e.default},function(t,e,n){n(67),t.exports=n(129)},function(t,e,n){"use strict";var l=r(n(0)),h=r(n(33)),i=n(47),f=r(n(68));function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var g=n(127),p=n(128),d=i.i18n.createI18n("detailModule"),v=(s.prototype.getValue=function(){return this.data&&this.data.value||{}},s.prototype.getAmt=function(){return this.getValue().amt||""},s.prototype.getOrderCnt=function(){return(this.getValue().orderCnt||0).toString()},s.prototype.getCountryRatio=function(){return(this.getValue().countryRatio||[]).map(function(t){return{countryShort:t.buyerCountry||"",fullCountry:t.countryFullName||"",ratio:t.ratio||0}})},s);function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(this,s),this.data=t.data}var m=(o.prototype.getValue=function(){return this.data&&this.data.value||[]},o.prototype.getChartData=function(){return this.getValue().map(function(t){return{tradeDate:t.tradeDate,orderCnt:t.orderCnt,tradeAmt:t.amt}})},o);function o(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(this,o),this.data=t.data}window.detailRender.registe("productPackagingAndQuickDetail",function(t){new g({zIndex:999,trigger:".js-leadtimes-tips",triggerType:"hover",arrowPosition:"tl",content:d.get("supplyAbility.tip")||"If you finish the payment today, your order will ship out within the delivery date."}),new p({element:"#J-mk-packaging img[data-src]",srcAttribute:"data-src",distance:200});var e=document.getElementsByClassName("package-img-container");if(Array.from(e).forEach(function(t){return function(t){return new g({className:"package-image-balloon",zIndex:999,trigger:t,triggerType:"hover",arrowPosition:"lt",content:function(){return'<img src="'+this.activeTrigger[0].firstElementChild.src+'" alt="package-img" />'}})}(t)}),t.showYdtTag){window.goldlog&&window.goldlog.record("/sc.details.singularity","EXP","type=expose","GET");var n=new v({data:t.singularityTradeYear}),i=new m({data:t.singularityTradeMonth});t.isNewExportInfoGrayUser&&t.isNewExportInfoGrayUser.value&&(n=new v({data:t.productExportGMVYear}),i=new m({data:t.productExportGMVMonth}));var r=t,a=r.encryptAliMemberIdForEsite,s=void 0===a?"":a,o=r.supplierJoinSelection,u=void 0===o?{}:o,c="//selection.alibaba.com/"+(u.value&&s?s+"/summary.html":"");t={tradeAmt:n.getAmt(),orderCnt:n.getOrderCnt(),countryRatio:n.getCountryRatio(),chartData:i.getChartData(),url:c,supplierJoinSelection:u.value,encryptAliMemberIdForEsite:s},h.default.render(l.default.createElement(f.default,t),document.querySelector("#J-do-performance"))}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(0)),i=n(47),a=s(n(69));function s(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var r=n[i],a=Object.getOwnPropertyDescriptor(e,r);a&&a.configurable&&void 0===t[r]&&Object.defineProperty(t,r,a)}}(t,e))}var u,c=i.i18n.createI18n("undue_tpl_helpers"),l=(o(h,u=r.default.Component),h.prototype.renderUI=function(){var t=this.props.countryRatio;return t=t.map(function(t){return t.ratio=Math.round(1e4*parseFloat(t.ratio))/100,t}),r.default.createElement("ul",null,t.map(function(t,e){return r.default.createElement("li",{title:t.fullCountry,key:e},r.default.createElement("span",null,t.countryShort),r.default.createElement("em",{style:{width:t.ratio+"px"},className:"progress"}),r.default.createElement("em",null,t.ratio,"%"))}))},h.prototype.render=function(){var t=this.props,e=t.tradeAmt,n=t.orderCnt,i=t.url;return r.default.createElement("div",{className:"detail-product-performance"},r.default.createElement("div",{className:"box-tag",title:"Real activity data from China Customs",id:"viewCustomsData"},r.default.createElement("a",{href:i,target:"_blank",rel:"noopener noreferrer"},r.default.createElement("i",{className:"ui2-icon ui2-icon-data"}),c.get("text_scc_detail_product_performance_content_data"))),r.default.createElement("div",{className:"box-header"},r.default.createElement("h2",null,c.get("text_scc_detail_product_performance_content_header"),r.default.createElement("div",{className:"sub-scription"},c.get("text_scc_detail_product_performance_content_sub")))),r.default.createElement("div",{className:"box-body"},r.default.createElement("div",{className:"sub-box margin-v-20"},r.default.createElement("span",{className:"gmv"},"$",e),r.default.createElement("span",{className:"trans"},n)),r.default.createElement("div",{className:"sub-box chart"},r.default.createElement("div",{className:"chart-container","data-role":"chart-container"},r.default.createElement(a.default,{chartData:this.props.chartData}))),r.default.createElement("div",{className:"line"}),r.default.createElement("div",{id:"J-country-ratio",className:"sub-box"},r.default.createElement("div",{className:"sub-scription"},c.get("text_scc_detail_product_performance_content_markets")),this.renderUI())))},h);function h(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,u.apply(this,arguments))}e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i},s=n(70);function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var r=n[i],a=Object.getOwnPropertyDescriptor(e,r);a&&a.configurable&&void 0===t[r]&&Object.defineProperty(t,r,a)}}(t,e))}var u,c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=[[0,0],[1,0],[2,0],[3,0],[4,0],[5,0],[6,0],[7,0],[8,0],[9,0],[10,0],[11,0]],h=(o(f,u=a.default.Component),f.prototype.chartTransfer=function(t){if(t){var r=(new Date).getMonth(),a=(new Date).getFullYear(),s=!1;t.forEach(function(e){var t=new Date(e.tradeDate),n=t.getMonth(),i=t.getFullYear();n===r&&i===a&&(s=!0),l.forEach(function(t){if(t[0]===n){if(t[1]&&i!==a)return;t[1]=parseInt(e.tradeAmt.replace(/[,|+]/g,"").replace(/\*/g,0),10)}})});var e=s?r+1:r,n=l.splice(e);return n.forEach(function(t,e){n[e][0]-=12}),n.concat(l).map(function(t){var e=t[0];return t[1],{month:(0<=e?a:a-1)+" "+c[0<=e?e:e+12],amt:t[1]}})}},f.prototype.render=function(){var t=this.chartTransfer(this.props.chartData);return a.default.createElement(s.Chart,{width:450,height:150,data:t,cols:{amt:{alias:"GMV"}},padding:[0,0,0,0],animate:!0},a.default.createElement(s.Tooltip,{onTooltipChange:function(t){var e=t.items.find(function(t){return"GMV"===t.name});e.value=0<e.value?e.value+"+":e.value}}),a.default.createElement(s.Geom,{type:"line",position:"month*amt",size:1,shape:"smooth"}),a.default.createElement(s.Geom,{type:"point",position:"month*amt",size:4,shape:"circle",style:{stroke:"#fff",lineWidth:1}}))},f);function f(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,u.apply(this,arguments))}e.default=h,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=u(i),a=u(n(10)),s=u(n(95)),o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(n(97));function u(t){return t&&t.__esModule?t:{default:t}}var c=a.default.mix({},o,{G2:r.default,Stat:i.Stat,Util:a.default,Frame:i.Frame,Shape:i.Shape,Layout:i.Layout,track:function(t){var e=0<arguments.length&&void 0!==t&&t;r.default.track(e)},setTheme:function(t){var e=t;"string"==typeof t&&s.default[t]&&(e=s.default[t]),a.default.isObject(e)&&"biz"!==t&&(e=a.default.mix(!0,{},s.default.biz,e)),r.default.Global.setTheme(e)}});c.setTheme("biz"),o.Global.setTheme=c.setTheme,e.default=c,t.exports=e.default},function(t,e,n){t.exports={default:n(72),__esModule:!0}},function(t,e,n){n(48),n(81),t.exports=n(44).f("iterator")},function(t,e,n){var u=n(34),c=n(35);t.exports=function(o){return function(t,e){var n,i,r=String(c(t)),a=u(e),s=r.length;return a<0||s<=a?o?"":void 0:(n=r.charCodeAt(a))<55296||56319<n||a+1===s||(i=r.charCodeAt(a+1))<56320||57343<i?o?r.charAt(a):n:o?r.slice(a,a+2):i-56320+(n-55296<<10)+65536}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";var i=n(38),r=n(21),a=n(43),s={};n(15)(s,n(7)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),a(t,e+" Iterator")}},function(t,e,n){var s=n(12),o=n(16),u=n(23);t.exports=n(13)?Object.defineProperties:function(t,e){o(t);for(var n,i=u(e),r=i.length,a=0;a<r;)s.f(t,n=i[a++],e[n]);return t}},function(t,e,n){var u=n(19),c=n(55),l=n(78);t.exports=function(o){return function(t,e,n){var i,r=u(t),a=c(r.length),s=l(n,a);if(o&&e!=e){for(;s<a;)if((i=r[s++])!=i)return!0}else for(;s<a;s++)if((o||s in r)&&r[s]===e)return o||s||0;return!o&&-1}}},function(t,e,n){var i=n(34),r=Math.max,a=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):a(t,e)}},function(t,e,n){var i=n(8).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(14),r=n(24),a=n(40)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){n(82);for(var i=n(8),r=n(15),a=n(22),s=n(7)("toStringTag"),o="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<o.length;u++){var c=o[u],l=i[c],h=l&&l.prototype;h&&!h[s]&&r(h,s,c),a[c]=a.Array}},function(t,e,n){"use strict";var i=n(83),r=n(84),a=n(22),s=n(19);t.exports=n(49)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){t.exports={default:n(86),__esModule:!0}},function(t,e,n){n(87),n(92),n(93),n(94),t.exports=n(5).Symbol},function(t,e,n){"use strict";function i(t){var e=q[t]=I(j[G]);return e._k=t,e}function r(t,e){M(t);for(var n,i=w(e=C(e)),r=0,a=i.length;r<a;)et(t,n=i[r++],e[n]);return t}function a(t){var e=Y.call(this,t=k(t,!0));return!(this===J&&l(q,t)&&!l(U,t))&&(!(e||!l(this,t)||!l(q,t)||l(this,V)&&this[V][t])||e)}function s(t,e){if(t=C(t),e=k(e,!0),t!==J||!l(q,e)||l(U,e)){var n=R(t,e);return!n||!l(q,e)||l(t,V)&&t[V][e]||(n.enumerable=!0),n}}function o(t){for(var e,n=B(C(t)),i=[],r=0;n.length>r;)l(q,e=n[r++])||e==V||e==p||i.push(e);return i}function u(t){for(var e,n=t===J,i=B(n?U:C(t)),r=[],a=0;i.length>a;)!l(q,e=i[a++])||n&&!l(J,e)||r.push(q[e]);return r}var c=n(8),l=n(14),h=n(13),f=n(11),g=n(52),p=n(88).KEY,d=n(18),v=n(41),m=n(43),x=n(29),y=n(7),_=n(44),b=n(45),w=n(89),S=n(90),M=n(16),T=n(17),A=n(24),C=n(19),k=n(37),P=n(21),I=n(38),O=n(91),D=n(57),L=n(46),F=n(12),E=n(23),R=D.f,N=F.f,B=O.f,j=c.Symbol,W=c.JSON,z=W&&W.stringify,G="prototype",V=y("_hidden"),X=y("toPrimitive"),Y={}.propertyIsEnumerable,H=v("symbol-registry"),q=v("symbols"),U=v("op-symbols"),J=Object[G],Q="function"==typeof j&&!!L.f,Z=c.QObject,$=!Z||!Z[G]||!Z[G].findChild,K=h&&d(function(){return 7!=I(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=R(J,e);i&&delete J[e],N(t,e,n),i&&t!==J&&N(J,e,i)}:N,tt=Q&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof j},et=function(t,e,n){return t===J&&et(U,e,n),M(t),e=k(e,!0),M(n),l(q,e)?(n.enumerable?(l(t,V)&&t[V][e]&&(t[V][e]=!1),n=I(n,{enumerable:P(0,!1)})):(l(t,V)||N(t,V,P(1,{})),t[V][e]=!0),K(t,e,n)):N(t,e,n)};Q||(g((j=function(t){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var e=x(0<arguments.length?t:void 0),n=function(t){this===J&&n.call(U,t),l(this,V)&&l(this[V],e)&&(this[V][e]=!1),K(this,e,P(1,t))};return h&&$&&K(J,e,{configurable:!0,set:n}),i(e)})[G],"toString",function(){return this._k}),D.f=s,F.f=et,n(56).f=O.f=o,n(30).f=a,L.f=u,h&&!n(28)&&g(J,"propertyIsEnumerable",a,!0),_.f=function(t){return i(y(t))}),f(f.G+f.W+f.F*!Q,{Symbol:j});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),it=0;nt.length>it;)y(nt[it++]);for(var rt=E(y.store),at=0;rt.length>at;)b(rt[at++]);f(f.S+f.F*!Q,"Symbol",{for:function(t){return l(H,t+="")?H[t]:H[t]=j(t)},keyFor:function(t){if(!tt(t))throw TypeError(t+" is not a symbol!");for(var e in H)if(H[e]===t)return e},useSetter:function(){$=!0},useSimple:function(){$=!1}}),f(f.S+f.F*!Q,"Object",{create:function(t,e){return void 0===e?I(t):r(I(t),e)},defineProperty:et,defineProperties:r,getOwnPropertyDescriptor:s,getOwnPropertyNames:o,getOwnPropertySymbols:u});var st=d(function(){L.f(1)});f(f.S+f.F*st,"Object",{getOwnPropertySymbols:function(t){return L.f(A(t))}}),W&&f(f.S+f.F*(!Q||d(function(){var t=j();return"[null]"!=z([t])||"{}"!=z({a:t})||"{}"!=z(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;r<arguments.length;)i.push(arguments[r++]);if(n=e=i[1],(T(e)||void 0!==t)&&!tt(t))return S(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!tt(e))return e}),i[1]=e,z.apply(W,i)}}),j[G][X]||n(15)(j[G],X,j[G].valueOf),m(j,"Symbol"),m(Math,"Math",!0),m(c.JSON,"JSON",!0)},function(t,e,n){function i(t){o(t,r,{value:{i:"O"+ ++u,w:{}}})}var r=n(29)("meta"),a=n(17),s=n(14),o=n(12).f,u=0,c=Object.isExtensible||function(){return!0},l=!n(18)(function(){return c(Object.preventExtensions({}))}),h=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,r)){if(!c(t))return"F";if(!e)return"E";i(t)}return t[r].i},getWeak:function(t,e){if(!s(t,r)){if(!c(t))return!0;if(!e)return!1;i(t)}return t[r].w},onFreeze:function(t){return l&&h.NEED&&c(t)&&!s(t,r)&&i(t),t}}},function(t,e,n){var o=n(23),u=n(46),c=n(30);t.exports=function(t){var e=o(t),n=u.f;if(n)for(var i,r=n(t),a=c.f,s=0;r.length>s;)a.call(t,i=r[s++])&&e.push(i);return e}},function(t,e,n){var i=n(39);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(19),r=n(56).f,a={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==a.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(i(t))}},function(t,e){},function(t,e,n){n(45)("asyncIterator")},function(t,e,n){n(45)("observable")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(96),a=(i=r)&&i.__esModule?i:{default:i};e.default={biz:a.default},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="#4E7CCC";e.default={defaultColor:i,plotCfg:{margin:[20,80,60,80]},facetCfg:{type:"rect",margin:10,facetTitle:{titleOffset:16,colDimTitle:{title:{fontSize:14,textAlign:"center",fill:"#999"}},colTitle:{title:{fontSize:12,textAlign:"center",fill:"#999"}},rowTitle:{title:{fontSize:12,textAlign:"center",rotate:90,fill:"#999"}},rowDimTitle:{title:{fontSize:12,textAlign:"center",rotate:90,fill:"#999"}}}},binWidth:.03,fontFamily:'"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", SimSun, "sans-serif"',colors:{default:["#4E7CCC","#36B3C3","#4ECDA5","#94E08A","#E2F194","#EDCC72","#F8AB60","#F9815C","#EB4456","#C82B3D"],intervalStack:["#4E7CCC","#36B3C3","#4ECDA5","#94E08A","#E2F194","#EDCC72","#F8AB60","#F9815C","#EB4456","#C82B3D"]},shapes:{point:["hollowCircle","hollowSquare","hollowDiamond","hollowBowtie","hollowTriangle","hollowHexagon","cross","tick","plus","hyphen","line"],line:["line","dash","dot"],area:["area"]},hues:["red","yellow","green","blue","orange","purple","pink","brown","white","gray","black"],axis:{top:{position:"top",titleOffset:30,title:{fontSize:12,fill:"#999",textBaseline:"middle"},labels:{label:{fill:"#404040",fontSize:12,textBaseline:"middle"}},tickLine:{lineWidth:1,stroke:"#ccc",value:5}},bottom:{position:"bottom",titleOffset:45,labelOffset:20,title:{fontSize:12,textAlign:"center",fill:"#999",textBaseline:"middle"},labels:{label:{fill:"#404040",fontSize:12,textBaseline:"middle"}},line:{lineWidth:1,stroke:"#ccc"},tickLine:{lineWidth:1,stroke:"#ccc",value:5}},left:{position:"left",titleOffset:60,labelOffset:13,title:{fontSize:12,fill:"#999",textBaseline:"middle"},labels:{label:{fill:"#404040",textBaseline:"middle"}},line:{lineWidth:1,stroke:"#ccc"},tickLine:{lineWidth:1,stroke:"#ccc",value:5},grid:{line:{stroke:"#d9d9d9",lineWidth:1,lineDash:[2,2]}}},right:{position:"right",titleOffset:60,labelOffset:13,title:{fontSize:12,fill:"#999",textBaseline:"middle"},labels:{label:{fill:"#404040",textBaseline:"middle"}},line:{lineWidth:1,stroke:"#ccc"},tickLine:{lineWidth:1,stroke:"#ccc",value:5}},circle:{labelOffset:5,line:{lineWidth:1,stroke:"#ccc"},grid:{line:{stroke:"#d9d9d9",lineWidth:1,lineDash:[1,3]}},labels:{label:{fill:"#404040",textBaseline:"middle"}}},gauge:{grid:null,labelOffset:5,tickLine:{lineWidth:1,value:-20,stroke:"#ccc"},subTick:5,labels:{label:{fill:"#404040",textBaseline:"middle"}}},clock:{grid:null,labelOffset:5,tickLine:{lineWidth:1,value:-20,stroke:"#C0D0E0"},subTick:5,labels:{label:{fill:"#404040",textBaseline:"middle"}}},radius:{titleOffset:45,labels:{label:{fill:"#404040",textBaseline:"middle"}},line:{lineWidth:1,stroke:"#ccc"},grid:{line:{stroke:"#d9d9d9",lineWidth:1,lineDash:[2,2]},type:"circle"}},helix:{grid:null,labels:{label:null},line:{lineWidth:1,stroke:"#ccc"},tickLine:{lineWidth:1,value:5,stroke:"#ccc"}}},labels:{offset:14,label:{fill:"#666",fontSize:12,textBaseline:"middle"}},treemapLabels:{offset:10,label:{fill:"#fff",fontSize:14,textBaseline:"top",fontStyle:"bold"}},innerLabels:{label:{fill:"#fff",fontSize:12,textBaseline:"middle"}},thetaLabels:{labelLine:{lineWidth:1},labelHeight:14,offset:30},legend:{right:{position:"right",back:null,spacingX:10,spacingY:12,markerAlign:"center",wordSpaceing:12,width:20,height:156,title:{text:" ",fill:"#333",textBaseline:"middle"}},left:{position:"left",back:null,spacingX:10,spacingY:12,markerAlign:"center",wordSpaceing:12,width:20,height:156,title:{text:" ",fill:"#333",textBaseline:"middle"}},top:{position:"top",title:null,back:null,spacingX:16,spacingY:10,markerAlign:"center",wordSpaceing:12,width:156,height:20},bottom:{position:"bottom",title:null,back:null,spacingX:16,spacingY:10,markerAlign:"center",wordSpaceing:12,width:156,height:20}},tooltip:{crosshairs:!1,offset:15,crossLine:{stroke:"#666"},wordSpaceing:6,markerCfg:{symbol:"circle",radius:3}},activeShape:{point:{radius:5,fillOpacity:.7},hollowPoint:{lineWidth:2,radius:4},interval:{fillOpacity:.7},hollowInterval:{lineWidth:2},area:{fillOpacity:.85},hollowArea:{lineWidth:2},line:{lineWidth:2},polygon:{fillOpacity:.75}},shape:{point:{lineWidth:1,fill:i,radius:4},hollowPoint:{fill:"#fff",lineWidth:1,stroke:i,radius:3},interval:{lineWidth:0,fill:i,fillOpacity:.85},pie:{lineWidth:1,stroke:"#fff"},hollowInterval:{fill:"#fff",stroke:i,fillOpacity:0,lineWidth:1},area:{lineWidth:0,fill:i,fillOpacity:.6},polygon:{lineWidth:0,fill:i,fillOpacity:1},hollowPolygon:{fill:"#fff",stroke:i,fillOpacity:0,lineWidth:1},hollowArea:{fill:"#fff",stroke:i,fillOpacity:0,lineWidth:1},line:{stroke:i,lineWidth:1,fill:null}},guide:{text:{fill:"#666",fontSize:12},line:{stroke:i,lineDash:[0,2,2]},rect:{lineWidth:0,fill:i,fillOpacity:.1},tag:{line:{stroke:i,lineDash:[0,2,2]},text:{fill:"#666",fontSize:12,textAlign:"center"},rect:{lineWidth:0,fill:i,fillOpacity:.1}},html:{align:"cc"}},tooltipMarker:{fill:"#fff",symbol:"circle",lineWidth:2,stroke:i,radius:4}},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Guide=e.View=e.Geom=e.Tooltip=e.Legend=e.Axis=e.Coord=e.Chart=e.Global=void 0;var i=f(n(98)),r=f(n(106)),a=f(n(59)),s=f(n(60)),o=f(n(61)),u=f(n(62)),c=f(n(63)),l=f(n(64)),h=f(n(65));function f(t){return t&&t.__esModule?t:{default:t}}e.Global=i.default,e.Chart=r.default,e.Coord=a.default,e.Axis=s.default,e.Legend=o.default,e.Tooltip=u.default,e.Geom=c.default,e.View=l.default,e.Guide=h.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r,a=l(n(2)),s=l(n(3)),o=l(n(4)),u=l(n(6)),c=n(0);function l(t){return t&&t.__esModule?t:{default:t}}var h,f=(h=c.Component,(0,o.default)(g,h),g.prototype.getChildContext=function(){return{theme:this.props.theme}},g.prototype.componentWillMount=function(){g.setTheme(this.props.theme)},g.prototype.componentWillReceiveProps=function(t){t.theme!==this.props.theme&&g.setTheme(t.theme)},g.prototype.render=function(){return c.Children.only(this.props.children)},r=i=g,i.propTypes={theme:u.default.oneOfType([u.default.string,u.default.object])},i.childContextTypes={theme:u.default.oneOfType([u.default.string,u.default.object])},i.defaultProps={theme:"biz"},r);function g(){return(0,a.default)(this,g),(0,s.default)(this,h.apply(this,arguments))}f.displayName="Global",e.default=f,t.exports=e.default},function(t,e,n){t.exports={default:n(100),__esModule:!0}},function(t,e,n){n(101),t.exports=n(5).Object.setPrototypeOf},function(t,e,n){var i=n(11);i(i.S,"Object",{setPrototypeOf:n(102).set})},function(t,e,r){function a(t,e){if(i(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")}var n=r(17),i=r(16);t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,i){try{(i=r(36)(Function.call,r(57).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return a(t,e),n?t.__proto__=e:i(t,e),t}}({},!1):void 0),check:a}},function(t,e,n){t.exports={default:n(104),__esModule:!0}},function(t,e,n){n(105);var i=n(5).Object;t.exports=function(t,e){return i.create(t,e)}},function(t,e,n){var i=n(11);i(i.S,"Object",{create:n(38)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=d(n(31)),s=d(n(2)),o=d(n(3)),i=d(n(4)),u=d(n(111)),c=d(n(27)),l=d(n(1)),r=n(0),h=d(r),f=d(n(10)),g=d(n(115)),p=d(n(126));function d(t){return t&&t.__esModule?t:{default:t}}var v,m=(v=r.Component,(0,i.default)(x,v),x.prototype.getG2Instance=function(){return this.chart},x.prototype.render=function(){var t=this.props,e=t.data,n=t.width,i=t.height,r=t.placeholder;return h.default.createElement("div",null,function(t){return!!(f.default.isArray(t)?t[0]:t instanceof l.default.Frame?t.data&&t.data[0]:"object"!==(void 0===t?"undefined":(0,c.default)(t))||(0,u.default)(t)[0])}(e)?h.default.createElement(g.default,(0,a.default)({ref:this._refCallback},this.props)):h.default.createElement(p.default,{width:n,height:i,placeholder:r}))},x);function x(){var t,e,n;(0,s.default)(this,x);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];return(t=e=(0,o.default)(this,v.call.apply(v,[this].concat(r))))._refCallback=function(t){t&&(e.chart=t.getG2Instance())},n=t,(0,o.default)(e,n)}m.displayName="Chart",e.default=m,t.exports=e.default},function(t,e,n){t.exports={default:n(108),__esModule:!0}},function(t,e,n){n(109),t.exports=n(5).Object.assign},function(t,e,n){var i=n(11);i(i.S+i.F,"Object",{assign:n(110)})},function(t,e,n){"use strict";var f=n(13),g=n(23),p=n(46),d=n(30),v=n(24),m=n(54),r=Object.assign;t.exports=!r||n(18)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=r({},t)[n]||Object.keys(r({},e)).join("")!=i})?function(t,e){for(var n=v(t),i=arguments.length,r=1,a=p.f,s=d.f;r<i;)for(var o,u=m(arguments[r++]),c=a?g(u).concat(a(u)):g(u),l=c.length,h=0;h<l;)o=c[h++],f&&!s.call(u,o)||(n[o]=u[o]);return n}:r},function(t,e,n){t.exports={default:n(112),__esModule:!0}},function(t,e,n){n(113),t.exports=n(5).Object.keys},function(t,e,n){var i=n(24),r=n(23);n(114)("keys",function(){return function(t){return r(i(t))}})},function(t,e,n){var r=n(11),a=n(5),s=n(18);t.exports=function(t,e){var n=(a.Object||{})[t]||Object[t],i={};i[t]=e(n),r(r.S+r.F*s(function(){n(1)}),"Object",i)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r,c=v(n(31)),l=v(n(25)),x=v(n(26)),s=v(n(2)),o=v(n(3)),a=v(n(4)),h=v(n(1)),u=v(n(6)),f=n(0),g=v(f),p=v(n(33)),y=n(20),d=v(n(58));function v(t){return t&&t.__esModule?t:{default:t}}var m,_=[{prop:"onPlotMove",event:"plotmove"},{prop:"onPlotEnter",event:"plotenter"},{prop:"onPlotLeave",event:"plotleave"},{prop:"onPlotClick",event:"plotclick"},{prop:"onPlotDblClick",event:"plotdblclick"},{prop:"onRangeSelectStart",event:"rangeselectstart"},{prop:"onRangeSelectend",event:"rangeselectend"}],b=(m=f.Component,(0,a.default)(w,m),w.prototype.getChildContext=function(){return{batchedUpdates:this.batchedUpdates}},w.prototype.componentDidMount=function(){this.draw()},w.prototype.componentWillReceiveProps=function(t,e){if(e.theme!==this.context.theme)return this.noUpdate=!0,void this.draw(t);var n=this.chart,i=this.props,r=i.width,a=i.height,s=i.cols,o=i.animate,u=i.data,c=i.facet,l=i.filter,h=t.width,f=t.height,g=t.cols,p=t.animate,d=t.data,v=t.facet,m=t.filter;u!==d&&n.changeData(d),y.Util.shallowEqual(s,g)||n.source(null,g),y.Util.shallowEqual(c,v)||n.facet.apply(n,(0,x.default)(v)),o!==p&&n.animate(p),r===h&&a===f||n.changeSize(h,f),!y.Util.shallowEqual(l,m)&&m&&n.filter.apply(n,(0,x.default)(m)),y.Prop.updateEvents(n,_,i,t)},w.prototype.shouldComponentUpdate=function(){var t=this.noUpdate,e=void 0!==t&&t;return e&&(this.noUpdate=!1),!e},w.prototype.componentDidUpdate=function(){this.repaint()},w.prototype.componentWillUnmount=function(){this.element&&p.default.unmountComponentAtNode(this.element),this.chart&&(this.chart.destroy(),this.chart=null),this.element=this.containerWrap=null},w.prototype.getG2Instance=function(){return this.chart},w.prototype.createG2Instance=function(t){var e=0<arguments.length&&void 0!==t?t:this.props,n=document.createElement("div");this.containerWrap.appendChild(n);var i=e.cols,r=e.data,a=e.facet,s=e.filter,o=(0,l.default)(e,["cols","data","facet","filter"]),u=new h.default.Chart((0,c.default)({},o,{container:n}));return u.source(r,i),a&&u.facet.apply(u,(0,x.default)(a)),s&&u.filter.apply(u,(0,x.default)(s)),u.guide().clear(),u.axis(!1),u.legend(!1),u.tooltip(!1),u.coord("rect",{}),y.Prop.bindEvents(u,_,e),this.chart=u},w.prototype.repaint=function(){var t=this,e=this.chart,n=this.element,i=this.props.children;i?(this.batched=!1,p.default.unstable_renderSubtreeIntoContainer(this,g.default.createElement(d.default,{chart:e},i),n,function(){t.batched?(e.clear(),p.default.unmountComponentAtNode(t.element),t.element=document.createElement("div"),t.repaint()):e.repaint()})):e.repaint()},w.prototype.draw=function(t){var e=0<arguments.length&&void 0!==t?t:this.props,n=e.children,i=e._noRender,r=e.onGetG2Instance,a=this.chart,s=this.element;a&&(this.chart=null),s&&p.default.unmountComponentAtNode(s),a&&a.destroy(),a=this.createG2Instance(e),s=document.createElement("div"),n?p.default.unstable_renderSubtreeIntoContainer(this,g.default.createElement(d.default,{chart:a},n),s,function(){i||a.render()}):i||a.render(),r(a),this.element=s},w.prototype.render=function(){return g.default.createElement("div",{ref:this.refHandle})},r=i=w,i.propTypes={data:u.default.oneOfType([u.default.arrayOf(u.default.object),u.default.instanceOf(h.default.Frame),u.default.object]),cols:u.default.object,filter:u.default.array,animate:u.default.bool,width:u.default.number,height:u.default.number.isRequired,onGetG2Instance:u.default.func,onPlotmove:u.default.func,onPlotEnter:u.default.func,onPlotLeave:u.default.func,onPlotClick:u.default.func,onPlotDbClick:u.default.func,onRangeSelectStart:u.default.func,onRangeSelectend:u.default.func},i.childContextTypes={batchedUpdates:u.default.func},i.contextTypes={theme:u.default.oneOfType([u.default.string,u.default.object])},i.defaultProps={data:[],cols:{},onGetG2Instance:function(){}},r);function w(){var t,e,n;(0,s.default)(this,w);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];return(t=e=(0,o.default)(this,m.call.apply(m,[this].concat(r)))).batchedUpdates=function(){e.chart&&!e.batched&&(e.batched=!0)},e.refHandle=function(t){e.containerWrap||(e.containerWrap=t)},n=t,(0,o.default)(e,n)}b.displayName="PureChart",e.default=b,t.exports=e.default},function(t,e,n){t.exports={default:n(117),__esModule:!0}},function(t,e,n){n(48),n(118),t.exports=n(5).Array.from},function(t,e,n){"use strict";var p=n(36),i=n(11),d=n(24),v=n(119),m=n(120),x=n(55),y=n(121),_=n(122);i(i.S+i.F*!n(124)(function(t){Array.from(t)}),"Array",{from:function(t,e,n){var i,r,a,s,o=d(t),u="function"==typeof this?this:Array,c=arguments.length,l=1<c?e:void 0,h=void 0!==l,f=0,g=_(o);if(h&&(l=p(l,2<c?n:void 0,2)),null==g||u==Array&&m(g))for(r=new u(i=x(o.length));f<i;f++)y(r,f,h?l(o[f],f):o[f]);else for(s=g.call(o),r=new u;!(a=s.next()).done;f++)y(r,f,h?v(s,l,[a.value,f],!0):a.value);return r.length=f,r}})},function(t,e,n){var a=n(16);t.exports=function(e,t,n,i){try{return i?t(a(n)[0],n[1]):t(n)}catch(t){var r=e.return;throw void 0!==r&&a(r.call(e)),t}}},function(t,e,n){var i=n(22),r=n(7)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[r]===t)}},function(t,e,n){"use strict";var i=n(12),r=n(21);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){var i=n(123),r=n(7)("iterator"),a=n(22);t.exports=n(5).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||a[i(t)]}},function(t,e,n){var r=n(39),a=n(7)("toStringTag"),s="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),a))?n:s?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},function(t,e,n){var a=n(7)("iterator"),s=!1;try{var i=[7][a]();i.return=function(){s=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!s)return!1;var n=!1;try{var i=[7],r=i[a]();r.next=function(){return{done:n=!0}},i[a]=function(){return r},t(i)}catch(t){}return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(10),u=(i=r)&&i.__esModule?i:{default:i};e.default={init:function(t,e,n){var i=0<arguments.length&&void 0!==t?t:{},r=e,a=n;u.default.each(i,function(t){var e=r[t];void 0!==e&&(u.default.isArray(e)||(e=[e]),a(e,t))})},update:function(t,e,n,i){var r=void 0,a=void 0;u.default.each(t,function(t){r=e[t],a=n[t],u.default.shallowEqual(a,r)||(u.default.isArray(a)||(a=[a]),i(a,t))})},bindEvents:function(r,t,e){var n=1<arguments.length&&void 0!==t?t:{},a=e;u.default.each(n,function(t){var e=t.prop,n=t.event,i=a[e];null!=i&&r.on(n,i)})},updateEvents:function(a,t,e,n){var i=1<arguments.length&&void 0!==t?t:{},s=e,o=n;u.default.each(i,function(t){var e=t.prop,n=t.event,i=s[e],r=o[e];u.default.shallowEqual(i,r)||(null!=i&&a.off(n,i),null!=r&&a.on(n,r))})},unbindEvents:function(r,t,e){var n=1<arguments.length&&void 0!==t?t:{},a=e;u.default.each(n,function(t){var e=t.prop,n=t.event,i=a[e];null!=i&&r.off(n,i)})}},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r,a=l(n(2)),s=l(n(3)),o=l(n(4)),u=l(n(6)),c=l(n(0));function l(t){return t&&t.__esModule?t:{default:t}}(0,l(n(32)).default)(c.default.PureComponent,"`React.PureComponent` needs React >=15.3.0");var h,f=(h=c.default.PureComponent||c.default.Component,(0,o.default)(g,h),g.prototype.render=function(){var t=this.props,e=t.width,n=t.height,i=t.placeholder;return c.default.createElement("div",{style:{width:e,height:n}},i)},r=i=g,i.propTypes={width:u.default.oneOfType([u.default.string,u.default.number]),height:u.default.oneOfType([u.default.string,u.default.number]),placeholder:u.default.node},i.defaultProps={width:"100%",placeholder:c.default.createElement("div",{style:{position:"relative",top:"48%",textAlign:"center"}},"暂无数据")},r);function g(){return(0,a.default)(this,g),(0,s.default)(this,h.apply(this,arguments))}e.default=f,t.exports=e.default},function(t,e){t.exports=_MODULE_LIBS_.Balloon},function(t,e){t.exports=_MODULE_LIBS_.LazyloadImages},function(t,e,n){}],r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/build/",r(r.s=66)}window.detailRender?t():window.detailRenderWaitings=(window.detailRenderWaitings||[]).concat(t)}();