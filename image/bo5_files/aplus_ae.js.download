/*! 2019-05-26 17:04:45 v8.11.5 */
!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";!function(){var e=window.goldlog||(window.goldlog={});if(!e._aplus_auto_exp){e._aplus_auto_exp={tags:{},status:"init",exp_times:0,elementSelectorSizeMap:{}};var t=n(1);t.init(function(){e._aplus_auto_exp.status="complete"})}}()},function(e,t,n){"use strict";var o,r=n(2),a=n(3),i=n(4);o=n(window.IntersectionObserver?19:22);var u=n(23),s=n(12);t.init=function(e){var t,n=window.goldlog||(window.goldlog={}),l=!1,c=!1,p=function(e){c||(c=e,l||(r.wrap(function(){t=s.getAutoExpConfig()||[],a.isDebugAplus()&&a.logger({msg:"aplus-auto-exp metaVaue init: "+JSON.stringify(t)});var e;t&&t.length>0&&(u.watch_data_change(),o.watch_exposure_change(t),e=i.create({isThrottleWatch:s.isThrottleWatchDom(),autoExpConfig:t}),e.init({type:"init"})),n.aplus_pubsub.subscribe("setMetaInfo",function(n,r,l){if("aplus-auto-exp"===n){a.isDebugAplus()&&a.logger({msg:"aplus-auto-exp metaVaue change: "+JSON.stringify(r)});var c=s.getAutoExpConfig(r);if(JSON.stringify(c)===JSON.stringify(t))return;if(t=c,u.clear(),o.clear(t,l),e&&e.clear(l),r&&t&&t.length>0){u.watch_data_change(),o.watch_exposure_change(t);var p={isThrottleWatch:s.isThrottleWatchDom(),autoExpConfig:t};e?e.reset(p,l):(e=i.create(p),e.init({type:"init"}))}}})},"do_init"),l=!0))};setTimeout(function(){l||a.logger({msg:"aplus_auto_exp_init failed! please check whether aplusJs is loaded correctly!"})},5e3);var g=n._$||{},f=window.g_SPM||{};"complete"===g.status&&f.spm&&p();var h=window.goldlog_queue||(window.goldlog_queue=[]);h.push({action:"goldlog.aplus_pubsub.subscribe",arguments:["aplusReady",function(e){"complete"===e&&p("aplusReady")}]}),"function"==typeof e&&e()}},function(e,t){"use strict";var n=function(e,t){var n=window.goldlog_queue||(window.goldlog_queue=[]);n.push({action:"goldlog._aplus_cplugin_track_deb.monitor",arguments:[{key:"APLUS_PLUGIN_DEBUG",title:"aplus_core",msg:["_error_:methodName="+t+",params="+JSON.stringify(e)],type:"updateMsg",description:t||"aplus_core"}]})},o=function(e,t,n){var o=window.goldlog_queue||(window.goldlog_queue=[]);o.push({action:["goldlog","_aplus_cplugin_m",t].join("."),arguments:[e,n]})};t.do_tracker_jserror=function(e,t){var r="do_tracker_jserror";o(e,r,t),n(e,r)},t.do_tracker_obsolete_inter=function(e,t){var r="do_tracker_obsolete_inter";o(e,r,t),n(e,r)},t.wrap=function(e){if("function"==typeof e)try{e()}catch(e){n({msg:e.message||e},"exception")}finally{}}},function(e,t){"use strict";var n=function(){var e=!1;return"boolean"==typeof goldlog.aplusDebug&&(e=goldlog.aplusDebug),e};t.isDebugAplus=n;var o=function(e){e||(e={});var t=e.level||"warn";window.console&&window.console[t]&&window.console[t](e.msg)};t.logger=o},function(e,t,n){"use strict";var o=n(5),r=n(6),a=n(2),i=n(16),u=n(3),s=n(18),l=n(12),c=window,p=document,g=o.extend({eachElements:function(e,t){for(var n=t.logkey||"",o=0;o<e.length;o++){var a=e[o],i=a.getAttribute(l.DATA_APLUS_AE_KEY);if(!(i&&i.indexOf("_")>0)){isNaN(parseInt(i))&&(i=goldlog._aplus_auto_exp.elementSelectorSizeMap[t.elementSelector]++,a.setAttribute(l.DATA_APLUS_AE_KEY,i));var u=r.getElementHash(t,{ignore_attr:!1,index:i,ele:a}),c=s.checkIsRecord(a,u,l.DATA_APLUS_AE_KEY),p=r.checkIsInHashMap({logkey:n,hash_value:u,goldlogKey:"_aplus_auto_exp"});if(!c&&!p){var g={expConfig:t,hash_value:u,element:a,status:0,elementSelector:t.elementSelector};r.updateExpHashMap(n,g,"ADD")}}}},handler_dom_change:function(e,t){try{for(var n=this.autoExpConfig||[],o=0;o<n.length;o++){var a=n[o],i=r.getElements(a,p);goldlog._aplus_auto_exp.elementSelectorSizeMap[a.elementSelector]||(goldlog._aplus_auto_exp.elementSelectorSizeMap[a.elementSelector]=1),this.eachElements(i,a)}goldlog.aplus_pubsub.publish("APLUS_AE_DOM_CHANGE",t||{})}catch(e){u.logger({msg:e&&e.message})}},throttle_handler_dom_change:r.throttle(function(e,t){this.handler_dom_change(e,t)},200),init_watch_dom:function(){var e=this,t=goldlog._aplus_auto_exp||{};e._loop_observer=setTimeout(function(){"blur"!==t.current_win_status?(goldlog.aplusDebug&&u.logger({msg:"watch_dom LOOP_TIME is "+l.LOOP_TIME+"ms total: "+ ++t.watch_times}),e.handler_dom_change(null,{type:"polling"}),e.init_watch_dom()):t.watch_dom_running=!1},l.LOOP_TIME)},onFocusHandler:function(){var e=this,t=goldlog._aplus_auto_exp||{};t.current_win_status="focus",t.watch_dom_running||e.init_watch_dom()},onBlurHandler:function(){var e=goldlog._aplus_auto_exp||{};e.current_win_status="blur"},onVisibilityChange:function(){var e=this;"visible"===p.visibilityState?e.onFocusHandler():"hidden"===p.visibilityState&&e.onBlurHandler()},addAllListener:function(){var e=this,t=goldlog._aplus_auto_exp||{};t.watch_times=0,t.watch_dom_running=!0,e.init_watch_dom(),c.WindVane&&p.addEventListener&&(i.on(p,"WV.Event.APP.Active",e.onFocusHandler,!1),i.on(p,"WV.Event.APP.Background",e.onBlurHandler,!1)),"hidden"in p?i.on(c,"visibilitychange",e.onVisibilityChange):(i.on(c,"blur",e.onBlurHandler),i.on(c,"focus",e.onFocusHandler))},removeAllListener:function(){var e=this;c.WindVane&&p.removeEventListener&&(i.un(p,"WV.Event.APP.Active",e.onFocusHandler,!1),i.un(p,"WV.Event.APP.Background",e.onBlurHandler,!1)),"hidden"in p?i.un(c,"visibilitychange",e.onVisibilityChange):(i.un(c,"blur",e.onBlurHandler),i.un(c,"focus",e.onFocusHandler))},init_observer:function(e,t){var n=["IFRAME","BODY","OBJECT","SCRIPT","NOSCRIPT","LINK","STYLE"],o=["class","style"],i=function(e){return"characterData"===e.type?[e.target]:"attributes"===e.type&&o.indexOf(e.attributeName)>-1?[e.target]:"childList"!==e.type?[]:void 0},s=function(e,o){if(e&&e.length>0)for(var r=0;r<e.length;r++){var i=e[r]||{},u=i.nodeName,s=goldlog._aplus_auto_exp.tags||{};s[u]||(s[u]=0),s[u]++,goldlog._aplus_auto_exp.tags=s,n.indexOf(u)===-1&&a.wrap(function(){var e=goldlog._aplus_auto_exp||{};++e.observer_times;var n=o.attributeName;t(i,{type:o.type+(n?"_"+n:"")})},"init_observer_init_elements")}};this._observer||(this._observer=new e(function(e){if(e&&e.length>0)for(var t=0;t<e.length;t++){var n=e[t]||{},o=r.nodelistToArray(n.addedNodes||[]);o=r.nodelistToArray(i(n),o),s(o,n)}}));var l={attributes:!0,childList:!0,characterData:!0,subtree:!0};this._observer.observe(p.body,l),r.IS_DEBUG&&u.logger({msg:"aplus_auto_exp init MutationObserver success!"})},init:function(e){var t=this,n=goldlog._aplus_auto_exp||{};e&&"reset"!==e.type&&!n.hash_value&&(n.hash_value={}),t.handler_dom_change(null,{type:"aplus_init"});var o=c.MutationObserver||c.WebKitMutationObserver||c.MozMutationObserver;o?(n.observer_times=0,t.init_observer(o,function(e,n){var o=e&&e.parentElement?e.parentElement:e;t.throttle_handler_dom_change(o,n)})):t.addAllListener()},clear:function(e){if(!e||"appendMetaInfo"!==e.from){var t=goldlog._aplus_auto_exp||{};t._acHashMap&&(t._acHashMap={}),t.hash_value&&(t.hash_value={}),goldlog._aplus_auto_exp=t,this._loop_observer&&(clearTimeout(this._loop_observer),this._loop_observer=null),this._observer?(this._observer.takeRecords(),this._observer.disconnect()):this.removeAllListener()}},clearDom:function(e,t){var n=this.autoExpConfig||[];if(t&&"appendMetaInfo"!==t.from)for(var o=0;o<n.length;o++)try{var r=n[o].elementSelector,a=p.querySelector(r);a.setAttribute(l.DATA_APLUS_AE_KEY,"")}catch(e){}this.autoExpConfig=e&&e.autoExpConfig?e.autoExpConfig:[]},reset:function(e,t){this.clearDom(e,t),this.init({type:"reset"})}});e.exports=g},function(e,t){"use strict";function n(){}n.prototype.extend=function(){},n.prototype.create=function(){},n.extend=function(e){return this.prototype.extend.call(this,e)},n.prototype.create=function(e){var t=new this;for(var n in e)t[n]=e[n];return t},n.prototype.extend=function(e){var t=function(){};try{"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),t.prototype=Object.create(this.prototype);for(var n in e)t.prototype[n]=e[n];t.prototype.constructor=t,t.extend=t.prototype.extend,t.create=t.prototype.create}catch(e){console.log(e)}finally{return t}},e.exports=n},function(e,t,n){"use strict";function o(e,t,n){var o=t.hash_value,r=i.getGoldlogVal(n)||{};if(r.hash_value||(r.hash_value={}),r.hash_value[e]||(r.hash_value[e]=a.Map?new a.Map:{}),a.Map){var u=r.hash_value[e].get(o);u?++u:u=1,r.hash_value[e].set(o,u)}else r.hash_value[e][o]?++r.hash_value[e][o]:r.hash_value[e][o]=1;i.setGoldlogVal(n,r)}var r=document,a=window,i=n(7),u=n(3),s=n(8),l=n(9),c=n(10),p=n(11),g=n(12),f=function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.isArray=f,t.getXPath=function(e){var t,n,o,a,i,u,s=r.getElementsByTagName("*");for(t=[];e&&1==e.nodeType;e=e.parentNode)if(e.id){for(u=e.id,a=0,n=0;n<s.length;n++)if(i=s[n],i.id&&i.id==u){a++;break}if(t.unshift(e.tagName.toLowerCase()+'[@id="'+u+'"]'),1==a)return t.unshift("/"),t.join("/")}else{for(n=1,o=e.previousSibling;o;o=o.previousSibling)o.tagName==e.tagName&&n++;t.unshift(e.tagName.toLowerCase()+"["+n+"]")}return t.length?"/"+t.join("/"):null};var h=function(e,t){if(t&&0!==t.length||(t=[]),e&&e.length>0)for(var n=0;n<e.length;n++)t.push(e[n]);return t};t.nodelistToArray=h,t.getElements=function(e,t){var n=t||r,o=[];if(n.querySelectorAll)o=h(n.querySelectorAll(e.elementSelector)||[]);else for(var a=document.getElementsByTagName(e.tag),i=e.filter.split("="),u=i.length>0?i[0].trim():"",s=i.length>1?i[1].trim():"",l=0;l<a.length;l++){var c=a[l],p=c.getAttribute(u),g=c.hasAttribute(u);!g||s&&s!==p||o.push(c)}return o};var d=function(){return/aplusDebug=true/.test(location.search)},_=d();t.IS_DEBUG=_,t.fillPropsData=function(e,t,n){n||(n={});try{var o=e.props||[];if(o&&f(o)&&o.length>0)for(var r=0;r<o.length;r++)if(t&&t.getAttribute){var a=o[r],i=t.getAttribute(a);void 0!==typeof i&&null!==i&&""!==i&&(n[a]=encodeURIComponent(i))}}catch(e){u.logger({msg:e&&e.message})}return n},t.fillFilterData=function(e,t,n){n||(n={});try{var o=e.filter||"",r=o.split("=");if(f(r)&&r[1])n[r[0]]=r[1];else if(r[0]&&t&&t.getAttribute){var a=t.getAttribute(r[0])||"";void 0!==typeof a&&null!==a&&""!==a&&(n[r[0]]=a)}}catch(e){u.logger({msg:e&&e.message})}return n};var v=function(e){return!!/^POST|GET$/i.test(e)};t.isMethod=v;var m=function(e){var t=!!/^\d+$/.test(e);return!!(t&&parseInt(e)>0)};t.isPkgSize=m,t.filterExpConfigRequestCfg=function(e){var t=g.getDefaultRequestCfg()||{};try{var n=e||{};v(n.method)&&(t.method=n.method),m(n.pkgSize)&&(t.pkgSize=parseInt(n.pkgSize))}catch(e){u.logger({msg:e&&e.message})}return t};var y=function(e){var t=e.split("&"),n={};return t.length>0&&l(t,function(e){var t=e.split("=");2===t.length&&(n[t[0]]=p.tryToEncodeURIComponent(t[1]))}),n};t.autoUserFnHandler=function(e,t,n){var o={userdata:{},spm:"",scm:""};try{var r=e(t,n);r&&("string"==typeof r?o.userdata=y(r):"object"==typeof r&&"object"==typeof r.userdata&&(c(r.userdata,function(e,t){o.userdata[e]=p.tryToEncodeURIComponent(t)}),o.spm=r.spm,o.scm=r.scm))}catch(e){console.log(e)}return o};var b=function(e,t){var n="";if(e&&t){var o=[e.getAttribute(t.filter)],r=t.props||[];if(r)for(var a=0;a<r.length;a++)o.push(e.getAttribute(r[a]));n=o.join("_")}return n},E=function(e){var t=e.getAttribute("data-spm-anchor-id");if(t){var n=t.split(".");return{a:n[0],b:n[1],c:n[2],d:n[3],e:n[4]}}};t.getSpmObj=E,t.getElementHash=function(e,t){var n={};"aplus_webvt"!==e.source&&(n=E(t.ele)||g_SPM.getParam(t.ele));var o="",r="x"+t.index;if(n.a&&n.b&&n.c&&n.d){var a=/^i/.test(n.d)?r:n.d;o=n.a+"_"+n.b+"_"+n.c+"_"+a,n.e&&(o+="_"+n.e)}else o=r,goldlog.pvid&&(o+=goldlog.pvid);t.ignore_attr||(o+=e.logkey+"_",o+=e.elementSelector+"_",o+=b(t.ele,e));var i=r+"_"+s.hash(o);return i},t.filterUnloadAttr=function(e){return e&&(e=e.replace(/(href|style|data-spm-anchor-id)=[\'|\"][\w|\W|\.]+[\'|\"]/,""),e=e.replace(/\s\>/g,">"),e=e.replace(new RegExp(g.DATA_APLUS_AE_KEY+"=[\\'|\\\"]\\w+[\\'|\\\"]"),""),e=e.replace(new RegExp(g.DATA_APLUS_AC_KEY+"=[\\'|\\\"]\\w+[\\'|\\\"]"),"")),e};var w=function(e,t){for(var n,o=0,r=e.length;o<r;){var a=e[o]||{};if(a.hash_value===t.hash_value)return e[o]=t,n=!0,e;o++}return n||e.push(t),e},A=function(e,t,n,r){if(n||(n="ADD"),e&&"object"==typeof t){var a=i.getGoldlogVal(r)||{},u=a._acHashMap||{},s=u[e]||[],l=function(){for(var e=0,n=s.length;e<n;){var o=s[e]||{};if(o.hash_value===t.hash_value)return e;e++}return-1},c=l();"ADD"===n&&c===-1?(s.push(t),o(e,t,r)):"CLEAR"===n&&c>-1?s.splice(c,1):"UPDATE"===n&&(s=w(s,t)),u[e]=s,a._acHashMap=u,i.setGoldlogVal(r,a)}};t.updateExpHashMap=function(e,t,n){A(e,t,n,"_aplus_auto_exp")},t.updateClkHashMap=function(e,t,n){A(e,t,n,"_aplus_ac")};var x=function(){return(new Date).getTime()};t.throttle=function(e,t,n){var o,r,a,i,u=0;n||(n={});var s=function(){u=n.leading===!1?0:x(),o=null,i=e.apply(r,a),o||(r=a=null)},l=function(){var l=x();u||n.leading!==!1||(u=l);var c=t-(l-u);return r=this,a=arguments,c<=0||c>t?(o&&(clearTimeout(o),o=null),u=l,i=e.apply(r,a),o||(r=a=null)):o||n.trailing===!1||(o=setTimeout(s,c)),i};return l.cancel=function(){clearTimeout(o),u=0,o=r=a=null},l},t.checkIsInHashMap=function(e){var t=i.getGoldlogVal(e.goldlogKey)||{},n=t.hash_value||{},o=n[e.logkey]||(a.Map?new a.Map:{}),r=o&&o.get?o.get(e.hash_value):o[e.hash_value];if(r>1)return!0;for(var u=t._acHashMap||{},s=u[e.logkey]||[],l=s.length,c=0;c<l;c++)if(s[c].hash_value===e.hash_value)return!0;return!1},t.setRecordSuccess=function(e,t){try{var n=e?e.element:{},o=e.hash_value||"";n&&n.setAttribute&&n.setAttribute(t,o)}catch(e){}}},function(e,t){"use strict";var n=function(e){var t;try{window.goldlog||(window.goldlog={}),t=window.goldlog[e]}catch(e){t=""}finally{return t}};t.getGoldlogVal=n;var o=function(e,t){var n=!1;try{window.goldlog||(window.goldlog={}),e&&(window.goldlog[e]=t,n=!0)}catch(e){n=!1}finally{return n}};t.setGoldlogVal=o,t.getClientInfo=function(){return n("_aplus_client")||{}}},function(e,t){"use strict";var n=1315423911;t.hash=function(e,t){var o,r,a=t||n;for(o=e.length-1;o>=0;o--)r=e.charCodeAt(o),a^=(a<<5)+r+(a>>2);var i=(2147483647&a).toString(16);return i}},function(e,t){"use strict";e.exports=function(e,t){var n,o=e.length;for(n=0;n<o;n++)t(e[n],n)}},function(e,t){"use strict";e.exports=function(e,t){if(Object&&Object.keys)for(var n=Object.keys(e),o=n.length,r=0;r<o;r++){var a=n[r];t(a,e[a])}else for(var i in e)t(i,e[i])}},function(e,t){"use strict";t.tryToEncodeURIComponent=function(e){var t=e||"";if(e)try{t=encodeURIComponent(decodeURIComponent(e))}catch(e){}return t}},function(e,t,n){"use strict";function o(e){return goldlog&&goldlog.getMetaInfo?goldlog.getMetaInfo(e):a.getMetaCnt(e)}var r=n(13),a=n(14);t.DATA_APLUS_AE_KEY="data-aplus-ae",t.DATA_APLUS_AC_KEY="data-aplus-clk",t.LOOP_TIME=1e3,t.getDefaultRequestCfg=function(){return{method:"POST",pkgSize:10}};var i=function(e){var t=e;try{var n=o("aplus-auto-exp-visible");n&&(t=parseFloat(n)),t<=0&&(t=e)}catch(n){t=e}finally{return t}};t.AUTO_AT_VIEW_RATE=i(.3);var u=function(e){var t=e;try{var n=o("aplus-auto-exp-duration"),r=parseInt(n);r+""!="NaN"&&(t=r)}catch(e){}finally{return t}};t.EXP_DURATION=u(300);var s=function(e,t){var n,a=[],i=[];try{n=t||o(e);var u=[];if(n&&"string"==typeof n)try{u=JSON.parse(n)}catch(e){u=JSON.parse(n.replace(/'/g,'"'))}else"object"==typeof n&&n.constructor===Array&&(u=n);if(u&&u.constructor===Array)for(var s=0;s<u.length;s++){var l=u[s]||{},c=l.logkey||"",p=l.tag?l.tag:"",g=l.filter,f=l.cssSelector,h=f||p&&g;if(!c||!h)throw new Error("meta "+e+" config error, "+JSON.stringify(l));g="string"==typeof g?g.split("="):[];var d=p;if(g.length>=2?d+="["+g.shift()+'="'+decodeURIComponent(g.join(""))+'"]':1==g.length&&g[0]&&(d+="["+decodeURIComponent(g[0])+"]"),f&&(d+=f),l.elementSelector=d,r.indexof(i,d)>-1)throw new Error("meta "+e+" config error, tag_filter_cssSelector "+d+" repeated");i.push(d),a.push(l)}}catch(e){}finally{return a}};t.getAutoExpConfig=function(e){return s("aplus-auto-exp",e)||[]},t.getAutoExpUserFn=function(){var e=o("aplus-auto-exp-userfn");if(e){var t=window[e]||e;if("function"==typeof t)return t}return null},t.isThrottleWatchDom=function(){var e=!1;try{e="throttle"===o("aplus-auto-exp-watchdom")}catch(e){}return e},t.getAutoClkConfig=function(e){return s("aplus-auto-clk",e)||[]},t.getAutoClkUserFn=function(){var e=o("aplus-auto-clk-userfn");if(e){var t=window[e]||e;if("function"==typeof t)return t}return null}},function(e,t){"use strict";t.indexof=function(e,t){var n=-1;try{n=e.indexOf(t)}catch(r){for(var o=0;o<e.length;o++)e[o]===t&&(n=o)}finally{return n}}},function(e,t,n){"use strict";function o(e){return i=i||document.getElementsByTagName("head")[0],u&&!e?u:i?u=i.getElementsByTagName("meta"):[]}function r(e,t){var n,r,a,i=o(),u=i.length;for(n=0;n<u;n++)r=i[n],s.tryToGetAttribute(r,"name")===e&&(a=s.tryToGetAttribute(r,t||"content"));return a||""}function a(e){var t={isonepage:"-1",urlpagename:""},n=e.qGet();if(n&&n.hasOwnProperty("isonepage_data"))t.isonepage=n.isonepage_data.isonepage,t.urlpagename=n.isonepage_data.urlpagename;else{var o=r("isonepage")||"-1",a=o.split("|");t.isonepage=a[0],t.urlpagename=a[1]?a[1]:""}return t}var i,u,s=n(15);t.getMetaTags=o,t.getMetaCnt=r,t.getOnePageInfo=a},function(e,t){"use strict";t.tryToGetAttribute=function(e,t){return e&&e.getAttribute?e.getAttribute(t)||"":""};var n=function(e,t,n){if(e&&e.setAttribute)try{e.setAttribute(t,n)}catch(e){}};t.tryToSetAttribute=n,t.tryToRemoveAttribute=function(e,t){if(e&&e.removeAttribute)try{e.removeAttribute(t)}catch(o){n(e,t,"")}}},function(e,t,n){"use strict";function o(e,t){var n=goldlog._$||{},o=n.meta_info||{},r=o.aplus_ctap||{},a=o["aplus-touch"];if(r&&"function"==typeof r.on)r.on(e,t);else{var s="ontouchend"in document.createElement("div");s&&"tap"===a?i.on(e,t):u(e,s?"touchstart":"mousedown",t)}}function r(e,t){var n=goldlog._$||{},o=n.meta_info||{},r=o.aplus_ctap||{},a=o["aplus-touch"];if(r&&"function"==typeof r.un)r.un(e,t);else{var u="ontouchend"in document.createElement("div");u&&"tap"===a?i.un(e,t):s(e,u?"touchstart":"mousedown",t)}}var a=!!document.attachEvent,i=n(17),u=function(e,t,n){return"tap"===t?void o(e,n):void(a?e.attachEvent(t,n):e.addEventListener(t,n))};t.on=u;var s=function(e,t,n){return"tap"===t?void r(e,n):void(a?e.detachEvent(t,n):e.removeEventListener(t,n))};t.un=s},function(e,t){"use strict";function n(e,t){return e+Math.floor(Math.random()*(t-e+1))}function o(e,t,n){var o=c.createEvent("HTMLEvents");if(o.initEvent(t,!0,!0),"object"==typeof n)for(var r in n)o[r]=n[r];e.dispatchEvent(o)}function r(e){0===Object.keys(g).length&&(p.addEventListener(d,a,!1),p.addEventListener(h,i,!1),p.addEventListener(v,i,!1));for(var t=0;t<e.changedTouches.length;t++){var n=e.changedTouches[t],o={};for(var r in n)o[r]=n[r];var u={startTouch:o,startTime:Date.now(),status:_,element:e.srcElement||e.target};g[n.identifier]=u}}function a(e){for(var t=0;t<e.changedTouches.length;t++){var n=e.changedTouches[t],o=g[n.identifier];if(!o)return;var r=n.clientX-o.startTouch.clientX,a=n.clientY-o.startTouch.clientY,i=Math.sqrt(Math.pow(r,2)+Math.pow(a,2));(o.status===_||"pressing"===o.status)&&i>10&&(o.status="panning")}}function i(e){for(var t=0;t<e.changedTouches.length;t++){var n=e.changedTouches[t],r=n.identifier,u=g[r];u&&(u.status===_&&e.type===h&&(u.timestamp=Date.now(),o(u.element,m,{touch:n,touchEvent:e})),delete g[r])}0===Object.keys(g).length&&(p.removeEventListener(d,a,!1),p.removeEventListener(h,i,!1),p.removeEventListener(v,i,!1))}function u(e){e.__fixTouchEvent||(e.addEventListener(f,function(){},!1),e.__fixTouchEvent=!0)}function s(){l||(p.addEventListener(f,r,!1),l=!0)}var l=!1,c=window.document,p=c.documentElement,g={},f="touchstart",h="touchend",d="touchmove",_="tapping",v="touchcancel",m="aplus_tap"+n(1,1e5);e.exports={on:function(e,t){s(),e&&e.addEventListener&&t&&(u(e),e.addEventListener(m,t._aplus_tap_callback=function(e){t(e,e.target)},!1))},un:function(e,t){e&&e.removeEventListener&&t&&t._aplus_tap_callback&&e.removeEventListener(m,t._aplus_tap_callback,!1)}}},function(e,t){"use strict";var n=document,o=function(e,t){return t.x>=e.pLeftTop[0]&&t.x<=e.pRightBottom[0]&&t.y>=e.pLeftTop[1]&&t.y<=e.pRightBottom[1]},r=function(e,t){var n=0,r=o(e,t),a=o(e,{x:t.x+t.width,y:t.y}),i=o(e,{x:t.x,y:t.y+t.height}),u=o(e,{x:t.x+t.width,y:t.y+t.height}),s=function(){var e=0;return r&&u&&(e=t.size/t.size),e},l=function(){var n=0,o=0;return r&&a&&!i&&!u?(n=t.width,o=e.pLeftBottom[1]-t.y):!r&&a&&!i&&u?(n=e.pLeftTop[0]-t.x,o=t.y):!r&&!a&&i&&u?(n=t.width,o=e.pLeftTop[1]-t.y):r&&!a&&i&&!u&&(n=e.pRightTop[0]-t.x,o=t.y),t.size>0?Math.abs(n*o)/t.size:0},c=function(){var n=0,o=0;return!r||a||i||u?r||!a||i||u?r||a||!i||u?r||a||i||!u||(n=e.pLeftTop[0]-t.x,o=e.pLeftTop[1]-t.y):(n=e.pRightTop[0]-t.x,o=e.pRightTop[1]-t.y):(n=e.pLeftBottom[0]-t.x,o=e.pLeftBottom[1]-t.y):(n=e.pRightBottom[0]-t.x,o=e.pRightBottom[1]-t.y),t.size>0?Math.abs(n*o)/t.size:0};return n=s(),n>0?n:(n=l(),n>0?n:(n=c(),n>0?n:n))};t.wrapViewabilityRate=function(e,t,n){var o=0;if(e)for(var a=0;a<e.length;a++)if(o=r(e[a],t),o<n)return!1;return o};var a=function(e){return"number"==typeof e&&NaN!==e},i=function(e){var t={};return e&&("function"==typeof e.getBoundingClientRect&&(t=e.getBoundingClientRect()||{}),a(t.x)||a(t.left)&&(t.x=t.left),a(t.y)||a(t.top)&&(t.y=t.top),a(t.width)||(t.width=e.offsetWidth),a(t.height)||(t.height=e.offsetHeight)),t};t.getElementPosition=i,t.getWinPositions=function(e){var t=[];if(e&&"function"==typeof document.querySelector){var o=document.querySelector(e);if(o){var r=i(o)||{};a(r.x)&&a(r.y)&&a(r.width)&&a(r.height)&&t.push({pLeftTop:[r.x,r.y],pRightTop:[r.x+r.width,r.y],pLeftBottom:[r.x,r.y+r.height],pRightBottom:[r.x+r.width,r.y+r.height]})}}var u=n.documentElement,s=n.body,l=u.clientWidth||s.offsetWidth||0,c=u.clientHeight||s.offsetHeight||0;return t.push({pLeftTop:[0,0],pRightTop:[l,0],pLeftBottom:[0,c],pRightBottom:[l,c]}),t},t.checkIsRecord=function(e,t,n){var o;try{if(e&&e.getAttribute){var r=e.getAttribute(n)||"";o=t?r===t:!!r}}catch(e){}return o}},function(e,t,n){"use strict";function o(e,t){var n=0,o=s.getGoldlogVal("_aplus_auto_exp")||{},r=o._acHashMap||{};for(var a in r)for(var i=r[a]||[],l=0;l<i.length;l++){var p=i[l]||{};if(0===p.status&&p.expConfig&&p.element===t.target){p.eventType="IObserver";var d=t.boundingClientRect||{};if(d.width||d.height||(d=t.target.getBoundingClientRect()||{}),d.width&&d.height){p=u.assign(p,d),p.x=d.x||d.left,p.y=d.y||d.top,p.width=d.width,p.height=d.height,p.size=d.width*d.height;var _=g.checkIsRecord(p.element,p.hash_value,"_aplus_auto_exp");if(t.intersectionRatio>=h&&!_){p.exposureTime=e,p.status=1;var v=c.getAutoExpUserFn();v&&(p.userParams=f.autoUserFnHandler(v,p.element,p.elementSelector)),c.EXP_DURATION||(p.viewabilityRate=t.intersectionRatio,p.status=2),f.updateExpHashMap(a,p,"UPDATE"),++n}}}}return n}function r(e,t){var n="APLUS_AE_EXPOSURE_CHANGE",r=e&&e.type?e.type:"IObserver",a=(new Date).getTime(),i=0;i=t?p.filterStartExposureSize(a,e):o(a,e),i>0&&(c.EXP_DURATION?setTimeout(function(){i=p.filterEndExposureSize(a,r),i>0&&goldlog.aplus_pubsub.publish(n,{size:i,eventType:r})},c.EXP_DURATION):goldlog.aplus_pubsub.publish(n,{size:i,eventType:r}))}function a(e){var t={root:null,rootMargin:"0px",threshold:h};return new _(function(e){l(e,function(e){e.intersectionRatio>0&&r(e)})},u.assign(t,e))}function i(e){if(_){v.io_base||(v.io_base=a());var t=s.getGoldlogVal("_aplus_auto_exp")||{},n=t._acHashMap||{};for(var o in n)for(var r=n[o]||[],i=0;i<r.length;i++){var u=r[i]||{};if(!u.inObserver){var l,c="io_v_"+encodeURIComponent(u.positionSelector);u.positionSelector&&!v[c]&&(l=a({root:document.querySelector(u.positionSelector),expConfig:e}),v[c]=l),l?l.observe(u.element):v.io_base.observe(u.element),u.inObserver=!0}}}return!0}var u=n(20),s=n(7),l=n(9),c=n(12),p=n(21),g=n(18),f=n(6),h=c.AUTO_AT_VIEW_RATE,d=window,_=d.IntersectionObserver,v={};goldlog._aplus_auto_exp.iobserverMap=v,t.watch_exposure_change=function(e){goldlog.aplus_pubsub.subscribe("APLUS_AE_DOM_CHANGE",function(){i(e)}),i(e)},t.clear=function(e,t){if(t&&"appendMetaInfo"!==t.from)for(var n in v){var o=v[n];o.disconnect()}}},function(e,t,n){"use strict";function o(e,t){return"function"!=typeof Object.assign?function(e){if(null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(null!==o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t}(e,t):Object.assign({},e,t)}function r(e){return"function"==typeof e}function a(e){return"string"==typeof e}function i(e){return"undefined"==typeof e}function u(e,t){return e.indexOf(t)>-1}var s=window;t.assign=o,t.makeCacheNum=function(){return Math.floor(268435456*Math.random()).toString(16)},t.each=n(9),t.isStartWith=function(e,t){return 0===e.indexOf(t)},t.isEndWith=function(e,t){var n=e.length,o=t.length;return n>=o&&e.indexOf(t)==n-o},t.any=function(e,t){var n,o=e.length;for(n=0;n<o;n++)if(t(e[n]))return!0;return!1},t.isFunction=r,t.isArray=function(e){return Array.isArray?Array.isArray(e):/Array/.test(Object.prototype.toString.call(e))},t.isString=a,t.isNumber=function(e){return"number"==typeof e},t.isUnDefined=i,t.isContain=u;var l=function(e){var t,n=e.constructor===Array?[]:{};if("object"==typeof e){if(s.JSON&&s.JSON.parse)t=JSON.stringify(e),n=JSON.parse(t);else for(var o in e)n[o]="object"==typeof e[o]?l(e[o]):e[o];return n}};t.cloneObj=l,t.cloneDeep=l},function(e,t,n){"use strict";var o,r=n(18),a=n(7),i=n(12),u=n(6),s=i.AUTO_AT_VIEW_RATE,l=function(e){for(var t;e&&"HTML"!==e.tagName;){t=e.style.display;{if("none"===t)break;e=e.parentNode}}return"none"===t};t.filterStartExposureSize=function(e,t){var n=0;o||(o=r.getWinPositions());var c=a.getGoldlogVal("_aplus_auto_exp")||{},p=c._acHashMap||{};for(var g in p)for(var f=p[g]||[],h=0;h<f.length;h++){var d=f[h]||{};if(0===d.status&&d.expConfig&&(d.eventType=t,!l(d.element))){var _=r.getElementPosition(d.element);if(_.width&&_.height){d.x=_.x,d.y=_.y,d.width=_.width,d.height=_.height,d.size=_.width*_.height;var v=!1;d.expConfig.positionSelector&&(o=r.getWinPositions(d.expConfig.positionSelector)),v=r.wrapViewabilityRate(o,d,s);var m=r.checkIsRecord(d.element,d.hash_value,"_aplus_auto_exp");if(v&&!m){d.exposureTime=e,d.status=1;var y=i.getAutoExpUserFn();y&&(d.userParams=u.autoUserFnHandler(y,d.element,d.elementSelector)),i.EXP_DURATION||(d.viewabilityRate=v,d.status=2),u.updateExpHashMap(g,d,"UPDATE"),++n}}}}return n},t.filterEndExposureSize=function(e,t){var n=0;o||(o=r.getWinPositions());var i=a.getGoldlogVal("_aplus_auto_exp")||{},l=i._acHashMap||{};for(var c in l)for(var p=l[c]||[],g=0;g<p.length;g++){var f=p[g]||{};if(1===f.status&&f.exposureTime===e&&f.expConfig){f.eventType=t,f.expConfig.positionSelector&&(o=r.getWinPositions(f.expConfig.positionSelector));var h=r.wrapViewabilityRate(o,f,s),d=r.checkIsRecord(f.element,f.hash_value,"_aplus_auto_exp");h&&!d?(f.viewabilityRate=h,f.status=2,u.updateExpHashMap(c,f,"UPDATE"),++n):(f.status=0,f.exposureTime="",u.updateExpHashMap(c,f,"UPDATE"))}}return n}},function(e,t,n){"use strict";var o=n(16),r=n(21),a=n(6),i=n(12),u=function(e){var t="APLUS_AE_EXPOSURE_CHANGE",n=e&&e.type?e.type:"init",o=(new Date).getTime(),a=r.filterStartExposureSize(o,n);a>0&&(i.EXP_DURATION?setTimeout(function(){a=r.filterEndExposureSize(o,n),a>0&&goldlog.aplus_pubsub.publish(t,{size:a,eventType:n})},i.EXP_DURATION):goldlog.aplus_pubsub.publish(t,{size:a,eventType:n}))},s=a.throttle(function(e){u(e)},100),l={},c=function(e,t){if(e&&e.forEach&&Object.keys&&document.querySelector){e.forEach(function(e){e.positionSelector&&document.querySelector(e.positionSelector)&&(l[e.positionSelector]=!0)});var n=Object.keys(l);n.forEach(function(e){o[t]&&o[t](document.querySelector(e),"scroll",function(e){s(e)})})}};t.watch_exposure_change=function(e){goldlog.aplus_pubsub.subscribe("APLUS_AE_DOM_CHANGE",u),o.on(window,"touchmove",s),o.on(window,"scroll",s),o.on(window,"resize",u),c(e,"on")},t.clear=function(e){o.un(window,"touchmove",s),o.un(window,"scroll",s),o.un(window,"resize",u),c(e,"un")}},function(e,t,n){"use strict";var o=n(2),r=n(20),a=n(7),i=n(3),u=n(10),s=n(6),l=n(12),c=function(){var e={},t=l.getDefaultRequestCfg(),n=a.getGoldlogVal("_aplus_auto_exp")||{},o=n._acHashMap||{};return u(o,function(o,a){for(var i=a||[],u=0,l=i.length;u<l;u++){var c=i[u]||{};if(2===c.status){c.status=3,s.updateExpHashMap(o,c,"UPDATE"),n.exp_times++;var p,g=goldlog.spm_ab?goldlog.spm_ab.join("."):"0.0.0.0",f=window.g_SPM||{},h="function"==typeof f.spm?f.spm(c.element):g,d="";try{var _=new Number(c.viewabilityRate);p=_.toFixed(2)}catch(e){p=c.viewabilityRate}var v={_w:c.width,_h:c.height,_x:c.x,_y:c.y,_rate:p};"object"==typeof c.userParams&&("object"==typeof c.userParams.userdata&&(v=r.assign(v,c.userParams.userdata)),c.userParams.spm&&(h=c.userParams.spm),c.userParams.scm&&(d=c.userParams.scm));var m=c.expConfig||{};(s.isMethod(m.method)||s.isPkgSize(m.pkgSize))&&(t=s.filterExpConfigRequestCfg(m));var y=s.fillPropsData(m,c.element,v);y=s.fillFilterData(m,c.element,v);var b={exargs:y,scm:d,spm:h,aplusContentId:""};e[o]||(e[o]=[]),e[o].push(b)}}}),{logkeyContainer:e,request_cfg:t}},p=function(e){for(var t=[],n=0,o=e.length;n<o;n++){var a=e[n]||{},i={};u(a,function(e,t){"element"!==e&&(i[e]=t)});var s=r.cloneObj(i);s.element=a.element,t.push(s)}return t},g=function(e){var t=a.getGoldlogVal("_aplus_auto_exp")||{},n=t._acHashMap||{},o=[];u(n,function(t,n){for(var r=p(n)||[],a=0,u=r.length;a<u;a++){var c=r[a]||{},g=n[a]||{};if(3===c.status)try{s.setRecordSuccess(g,l.DATA_APLUS_AE_KEY),goldlog.aplus_pubsub.publish("APLUS_ELEMENT_EXPOSURE",{logkey:t,v_origin:g,options:e}),o.push(g)}catch(e){i.logger({msg:e&&e.message})}}for(;o.length>0;)s.updateExpHashMap(t,o.pop(),"CLEAR")})},f=function(e,t,n){var r=e.logkeyContainer||[],a=e.request_cfg||{};o.wrap(function(){u(r,function(e,o){if(o&&o.length>0){for(var r=0;r<o.length;){var i=[],u=JSON.stringify(o.slice(r,r+a.pkgSize));i.push("expdata="+u),i.push("_is_auto_exp=1"),i.push("_eventType="+t.eventType),i.push("_method="+a.method),i.push("_pkgSize="+a.pkgSize),goldlog.record(e,"EXP",i.join("&"),a.method||"POST"),r+=a.pkgSize}n(t)}})},"recordAplusAt")},h=function(e){if(e.size>0){var t=c()||{};f(t,e,g)}};t.watch_data_change=function(){goldlog.aplus_pubsub.subscribe("APLUS_AE_EXPOSURE_CHANGE",h)},t.clear=function(){goldlog.aplus_pubsub.unsubscribe("APLUS_AE_EXPOSURE_CHANGE",h)}}]);